# Generate automatically. Do not edit.

commit 40b71ed8a7642c06bc1477612a8e2d4a798ec9f5
Author: Stef Walter <stefw@redhat.com>
Date:   2013-09-06

    Release version 0.14.6

 NEWS         | 4 ++++
 configure.ac | 2 +-
 2 files changed, 5 insertions(+), 1 deletion(-)

commit ce5e38ef89a50bcc723210598a48d295ad49f975
Author: Stef Walter <stefw@redhat.com>
Date:   2013-09-06

    Don't proceed with join if hostname starts with a '.'

 service/realm-kerberos.c | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit e1716eb7d75f9eeb2e16e13f7b76e9a84ed188a1
Author: Stef Walter <stefw@redhat.com>
Date:   2013-09-06

    When we join with 'kerberos method = system keytab' set in smb.conf
    
    We're doing joins using 'net ads join' by writing the host
    keytab properly. So tell winbind where the computer account
    secrets are.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=69037

 service/realm-samba.c | 1 +
 1 file changed, 1 insertion(+)

commit 4e5a02a9225abe45c917056de846124e3c74ccac
Author: Stef Walter <stefw@redhat.com>
Date:   2013-09-06

    Limit Netbios name to 15 chars when joining AD domain
    
    In the future we will have more code for managing the computer name.
    
    'net ads join' requires us to setup 'netbios name' to a short name
    in smb.conf in order to do a join with a long host name.
    
    We also need to setup sssd.conf to authenticate correctly when the
    hostname doesn't match the computer account name. We use
    ldap_sasl_authid to accomplish this.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=69016

 service/realm-adcli-enroll.c  |  7 ++++++
 service/realm-disco-mscldap.c | 43 ++++++++++++++++++++++++++++++++
 service/realm-disco.c         |  1 +
 service/realm-disco.h         |  1 +
 service/realm-samba-enroll.c  |  6 +++++
 service/realm-samba.c         | 24 +++++++++++++++++-
 service/realm-sssd-ad.c       | 58 +++++++++++++++++++++++++++++++++++--------
 7 files changed, 129 insertions(+), 11 deletions(-)

commit 9a6a85bfd37e6be03ae06bf30cae08e849a675ec
Author: Stef Walter <stefw@redhat.com>
Date:   2013-08-15

    Release version 0.14.5

 NEWS         | 5 +++++
 configure.ac | 2 +-
 2 files changed, 6 insertions(+), 1 deletion(-)

commit 66b07a84f68ce1f363d5d51577b1d2cdb30ee98d
Author: Stef Walter <stefw@redhat.com>
Date:   2013-08-14

    Fix reverse ordered output for join failure messages
    
    https://bugs.freedesktop.org/show_bug.cgi?id=68112

 tools/realm-join.c | 12 +++++-------
 1 file changed, 5 insertions(+), 7 deletions(-)

commit 4bc34c20349b4089ad26e4a01a31a82a433ba13e
Author: Stef Walter <stefw@redhat.com>
Date:   2013-08-14

    Fix regression caused by --unattended
    
     * The short form -U conflicted with --user, so just drop the short form.
     * Add documentation for --unattended
    
    https://bugs.freedesktop.org/show_bug.cgi?id=68112

 doc/manual/realm.xml | 5 +++++
 tools/realm.c        | 2 +-
 2 files changed, 6 insertions(+), 1 deletion(-)

commit 1c2c8d904671247afcde8f3c302d48a314970f8c
Author: Stef Walter <stefw@redhat.com>
Date:   2013-08-14

    Pass discovered server address to adcli
    
    So that adcli doesn't have to do a full discovery, but can just
    contact that server.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=68111

 service/realm-adcli-enroll.c  | 26 ++++++++++++++++++++++++--
 service/realm-disco-mscldap.c |  4 ++++
 service/realm-disco-rootdse.c |  9 ++++-----
 service/realm-disco.c         |  2 ++
 service/realm-disco.h         |  2 ++
 5 files changed, 36 insertions(+), 7 deletions(-)

commit ac98d162c0cd2e9bd43469505a2f6a07cc773f73
Author: Stef Walter <stefw@redhat.com>
Date:   2013-08-08

    Add clarification about when realmd.conf settings take effect

 doc/manual/realmd.conf.xml | 7 +++++++
 1 file changed, 7 insertions(+)

commit 45e06262b861d7e27f4191f74bca8ecd0f2de689
Author: Stef Walter <stefw@redhat.com>
Date:   2013-08-07

    Release version 0.14.4

 NEWS         | 6 ++++++
 configure.ac | 2 +-
 2 files changed, 7 insertions(+), 1 deletion(-)

commit 8b83dd8f7b54456e02494d9391d2a1d44c7a32dd
Author: Stef Walter <stefw@redhat.com>
Date:   2013-07-25

    Fix up the [sssd] section in sssd.conf if it's screwed up
    
    https://bugzilla.redhat.com/show_bug.cgi?id=987491

 service/realm-ini-config.c  | 23 +++++++++++++++++++++++
 service/realm-ini-config.h  |  4 ++++
 service/realm-sssd-config.c | 10 ++++------
 tests/test-ini-config.c     | 14 ++++++++++++++
 tests/test-sssd-config.c    |  4 ++--
 5 files changed, 47 insertions(+), 8 deletions(-)

commit 206a320c10b2efb0b9db3856f7ba3453ffe7ec2a
Author: Stef Walter <stefw@redhat.com>
Date:   2013-07-24

    tools: Add an --unattended argument to realm command line client
    
    This prevents prompting for passwords using getpass(). Unattended mode
    still allows piping in a password via stdin.
    
    https://bugzilla.redhat.com/show_bug.cgi?id=976593

 tools/realm-client.c | 11 ++++++++++-
 tools/realm.c        |  2 ++
 tools/realm.h        |  2 ++
 3 files changed, 14 insertions(+), 1 deletion(-)

commit daa0b25dc0189a1127513dd86e16250bc9731449
Author: Stef Walter <stefw@redhat.com>
Date:   2013-07-24

    Clearer 'realm permit' manual page example
    
    Also remove duplicated information.
    
    https://bugzilla.redhat.com/show_bug.cgi?id=985800

 doc/manual/realm.xml | 13 ++++---------
 1 file changed, 4 insertions(+), 9 deletions(-)

commit 6e160efd8921a637334cf4b97c9cbd67ceb6a353
Author: Stef Walter <stefw@redhat.com>
Date:   2013-07-22

    Fix some documentation typos

 doc/manual/realmd.conf.xml | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 6011b5d20a9d58c1bcc7f3af85417e3fad527e00
Author: Stef Walter <stefw@redhat.com>
Date:   2013-07-22

    Release version 0.14.3

 NEWS         | 14 ++++++++++++++
 configure.ac |  2 +-
 2 files changed, 15 insertions(+), 1 deletion(-)

commit 51cb0bc599e5b6bd72c0bd93f3f0f7156174c21d
Author: Stef Walter <stefw@redhat.com>
Date:   2013-07-22

    Fix testing regressions

 tests/test-sssd-config.c | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 29e9976750f4e6b7d71f8f09acf7a428364ab986
Author: Stef Walter <stefw@redhat.com>
Date:   2013-07-22

    Respect use_fully_qualified_names to populate LoginFormats
    
    https://bugzilla.redhat.com/show_bug.cgi?id=967011

 service/realm-ini-config.c  | 40 ++++++++++++++++++++++++++++++++++++++++
 service/realm-ini-config.h  |  6 ++++++
 service/realm-sssd-config.c |  2 +-
 service/realm-sssd.c        | 10 ++++++++++
 tests/test-ini-config.c     | 39 +++++++++++++++++++++++++++++++++++++++
 5 files changed, 96 insertions(+), 1 deletion(-)

commit 35e4169741071e6a3f214c6998e758aa80275636
Author: Stef Walter <stefw@redhat.com>
Date:   2013-07-22

    Clarification about how login policy is controlled by manage-system
    
    https://bugzilla.redhat.com/show_bug.cgi?id=985773

 doc/manual/realmd.conf.xml | 5 +++++
 1 file changed, 5 insertions(+)

commit e588faf25dc93d9d5da777d78837c5114effc2d1
Author: Stef Walter <stefw@redhat.com>
Date:   2013-07-22

    Add some clarification on Active Directory specific options
    
    https://bugzilla.redhat.com/show_bug.cgi?id=967565

 doc/manual/realm.xml       |  7 +++++--
 doc/manual/realmd.conf.xml | 14 ++++++++++++--
 2 files changed, 17 insertions(+), 4 deletions(-)

commit ebd04682b1993120e71ae626049cdf8efa0e52a2
Author: Stef Walter <stefw@redhat.com>
Date:   2013-07-22

    Set sssd.conf default_shell per domain
    
    This allows for much more predictable configuration, when an admin
    has set the global option.
    
    https://bugzilla.redhat.com/show_bug.cgi?id=967569

 service/realm-sssd-ad.c     | 3 +++
 service/realm-sssd-config.c | 9 ---------
 service/realm-sssd-ipa.c    | 3 +++
 3 files changed, 6 insertions(+), 9 deletions(-)

commit a2099259dd752bb0fd33c0239b7ee3520dda54d5
Author: Stef Walter <stefw@redhat.com>
Date:   2013-07-22

    Notify in terminal output when installing packages
    
    Various people have been worried by installing packages
    quietly, so notify about what's going on.
    
    In reality *configuring* and *starting* a daemon is far
    more worrisome than the installation. It's realmd's job
    to configure, enable and start stuff. So if you're properly
    worried, remove realmd and do stuff manually.
    
    https://bugzilla.redhat.com/show_bug.cgi?id=984960

 service/realm-packages.c |  8 ++++++--
 tools/realm-client.c     | 29 ++++++++++++++++++++---------
 2 files changed, 26 insertions(+), 11 deletions(-)

commit f215dd461ff8982c7a2097ec57a71540359ac769
Author: Stef Walter <stefw@redhat.com>
Date:   2013-05-27

    If joined via adcli, delete computer account with adcli as well
    
    https://bugs.freedesktop.org/show_bug.cgi?id=65032

 service/realm-adcli-enroll.c | 75 ++++++++++++++++++++++++++++++++++++++++++++
 service/realm-adcli-enroll.h | 10 ++++++
 service/realm-kerberos.c     | 23 ++++++++++++--
 service/realm-kerberos.h     |  4 +++
 service/realm-sssd-ad.c      | 61 ++++++++++++++++++++++++++++++-----
 service/realm-sssd.c         | 26 +++++++++++----
 6 files changed, 183 insertions(+), 16 deletions(-)

commit 42b31578341ccf7a7385647a4070a7ac323836fa
Author: Stef Walter <stefw@redhat.com>
Date:   2013-07-19

    If input is not a tty, then just read from stdin without getpass()
    
    This allows people to echo passwords into the realm client command
    like this:
    
    echo "password" | realm join --user Administrator example.com
    
    https://bugzilla.redhat.com/show_bug.cgi?id=976593

 tools/realm-client.c | 41 ++++++++++++++++++++++++++++++++++++++++-
 1 file changed, 40 insertions(+), 1 deletion(-)

commit 8a7aac53c26b3526c5965a73ab1a2e65d7f91d0a
Author: Stef Walter <stefw@redhat.com>
Date:   2013-07-15

    ipa: Force joins so that computer can rejoin a domain
    
    The hostname should already have checked by the administrator
    that is providing the confirmation for joining the domain.

 service/realm-sssd-ipa.c | 1 +
 1 file changed, 1 insertion(+)

commit c7bd539aa21285b1910a52029993f257c8ae0ca9
Author: Stef Walter <stefw@redhat.com>
Date:   2013-07-15

    winbind: Configure pam_winbind.conf appropriately
    
     * Setup kerberos auth, and cached logins
    
    http://bugs.freedesktop.org/show_bug.cgi?id=66831

 service/realm-samba-winbind.c | 13 +++++++++++++
 service/realmd-defaults.conf  |  1 +
 2 files changed, 14 insertions(+)

commit ddf1252d5dc7bfb5418cf932a558ca8a98ce7155
Author: Stef Walter <stefw@redhat.com>
Date:   2013-07-09

    Refer to FreeIPA as IPA
    
    This is the more broad name that covers both the FreeIPA version
    and the commercial versions of the same thing.
    
    We continue to accept 'freeipa' as an input string when referring
    to software. But output 'ipa' and document that option
    
    https://bugs.freedesktop.org/show_bug.cgi?id=66734

 dbus/realm-dbus-constants.h         |   1 +
 doc/internals/realmd-internals.xml  |   8 +-
 doc/manual/Makefile.am              |   2 +-
 doc/manual/realm.xml                |  10 +--
 doc/manual/realmd-docs.xml          |   2 +-
 doc/manual/realmd-guide-freeipa.xml | 164 ------------------------------------
 doc/manual/realmd-guide-ipa.xml     | 164 ++++++++++++++++++++++++++++++++++++
 doc/website/content/index.html      |   2 +-
 service/realm-disco-rootdse.c       |   2 +-
 service/realm-provider.c            |   2 +
 service/realm-sssd-ipa.c            |   7 +-
 service/realm-sssd-provider.c       |   8 +-
 service/realmd-redhat.conf          |   2 +-
 service/realmd-suse.conf            |   2 +-
 14 files changed, 192 insertions(+), 184 deletions(-)

commit d2bc9aa13faadd4c38f29524893597ea82189f4c
Author: Stef Walter <stefw@redhat.com>
Date:   2013-07-02

    service: Support use of kerberos ccache to join when using winbind

 service/realm-samba.c | 1 +
 1 file changed, 1 insertion(+)

commit 795b6fdc7a2018bd10ab134f4b23959b6b8073e0
Author: Stef Walter <stefw@redhat.com>
Date:   2013-06-06

    redhat: Add dependency on oddjobd
    
    https://bugzilla.redhat.com/show_bug.cgi?id=969441

 service/realmd-redhat.conf | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit a038dcb73a7d85540763a4325914377eaeaa122b
Author: Stef Walter <stefw@redhat.com>
Date:   2013-06-06

    Don't create a top level directory in /var
    
    https://bugs.freedesktop.org/show_bug.cgi?id=65435

 service/Makefile.am | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit e2bcee9ecbf25492ba60a08c65cfde52bb3334cc
Author: Stef Walter <stefw@redhat.com>
Date:   2013-05-27

    Release version 0.14.2

 NEWS         | 8 ++++++++
 configure.ac | 2 +-
 2 files changed, 9 insertions(+), 1 deletion(-)

commit a5a5ed0a7f3116e54387134a1d88dc1e53fc9671
Author: Stef Walter <stefw@redhat.com>
Date:   2013-05-27

    Hack around the fact that oddjobd does not autostart via DBus
    
    This is pretty awkward, but various oddjobd services cannot
    be started via the standard oddjobd auto-start mechanisms.
    
    So manually enable it to start at boot.
    
    See: https://bugzilla.redhat.com/show_bug.cgi?id=964971

 service/realmd-redhat.conf | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 6a083da02f68e1948ae13e3db65c5cd2948aae4f
Author: Stef Walter <stefw@redhat.com>
Date:   2013-05-26

    Return a specific error code when computer host name is invalid

 dbus/org.freedesktop.realmd.xml | 3 +++
 dbus/realm-dbus-constants.h     | 1 +
 service/realm-errors.c          | 1 +
 service/realm-errors.h          | 1 +
 service/realm-kerberos.c        | 2 +-
 5 files changed, 7 insertions(+), 1 deletion(-)

commit df623d09a85c5e9c6347f7b6aca0cbe31e19493a
Author: Stef Walter <stefw@redhat.com>
Date:   2013-05-24

    Remove simple_allow_users/groups when permit/deny access provider
    
    This makes later permitting of specific users work as expected
    
    https://bugs.freedesktop.org/show_bug.cgi?id=64903

 service/realm-sssd.c | 36 +++++++++++++++++++-----------------
 1 file changed, 19 insertions(+), 17 deletions(-)

commit ae26089c5f1c7a2d1a942f849325ffc8eaf06b48
Author: Stef Walter <stefw@redhat.com>
Date:   2013-05-24

    When FreeIPA domain with manage-system, we want NTP, so --force-ntpd
    
    Otherwise ipa-client-install fails with complaints about chronyd
    another NTP service which is incompatible with the IPA client

 service/realm-sssd-ipa.c | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit b07ddf7bd0a6813795a74f385d62a52c3d6c895c
Author: Stef Walter <stefw@redhat.com>
Date:   2013-05-23

    Only allow joining one manage-system=true domain
    
    These domains (the default way to join) take over various aspects
    of the local machine, such as authentication, access policy, and
    so on. Only one such domain can be joined.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=64928

 service/realm-kerberos.c | 65 ++++++++++++++++++++++++++++++++++++++++++++++++
 service/realm-kerberos.h |  7 ++++++
 service/realm-samba.c    | 11 +++++++-
 service/realm-sssd-ad.c  |  3 +++
 service/realm-sssd-ipa.c |  3 +++
 service/realm-sssd.c     | 17 +++++++++++--
 6 files changed, 103 insertions(+), 3 deletions(-)

commit 69f91ee85d71d4e471b355a565865c86f61c991f
Author: Stef Walter <stefw@redhat.com>
Date:   2013-05-23

    Rework discovery for changes in FreeIPA 3.0
    
     * Don't look for _msdcs records as FreeIPA also has those when trusting AD
     * First look at the root DSE of the LDAP server to determine if it's AD
     * Use TCP NetLogon pings for Windows 2003 and later
     * Use UDP NetLogon pings for Windows 2000
    
    http://bugs.freedesktop.org/show_bug.cgi?id=64895

 service/realm-disco-dns.c     |  15 ----
 service/realm-disco-dns.h     |   2 -
 service/realm-disco-domain.c  |  39 ++------
 service/realm-disco-mscldap.c | 114 ++++++++++++------------
 service/realm-disco-mscldap.h |  14 ++-
 service/realm-disco-rootdse.c | 203 ++++++++++++++++++++++++++++++++++--------
 service/realm-disco-rootdse.h |   1 +
 7 files changed, 246 insertions(+), 142 deletions(-)

commit 853d085b7604886253b7b7e55eb45b3aa52d7c7b
Author: Stef Walter <stefw@redhat.com>
Date:   2013-05-13

    Release version 0.14.1

 NEWS         | 14 ++++++++++++++
 configure.ac |  2 +-
 2 files changed, 15 insertions(+), 1 deletion(-)

commit 14f1b66d03b6e7ccc8235922b8f74cffcd0f5e9d
Author: Stef Walter <stefw@redhat.com>
Date:   2013-05-13

    When failing to write out data to subprocess, print errno

 service/realm-command.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c0ed48be0034296d19f9847845e93dec4b33efc8
Author: Stef Walter <stefw@redhat.com>
Date:   2013-05-13

    Don't use the slice allocator for small memory allocations
    
    It's too hard to debug, and we need to have early failures
    on poor memory allocations. We also need valgrind to work
    well catching memory problems.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=56157

 service/realm-all-provider.c  |  8 ++++----
 service/realm-command.c       |  6 +++---
 service/realm-daemon.c        |  6 ------
 service/realm-disco-domain.c  |  4 ++--
 service/realm-disco-mscldap.c |  4 ++--
 service/realm-disco-rootdse.c |  4 ++--
 service/realm-disco.c         |  4 ++--
 service/realm-ini-config.c    | 16 ++++++++--------
 service/realm-invocation.c    |  8 ++++----
 service/realm-kerberos.c      |  4 ++--
 service/realm-network.c       |  4 ++--
 service/realm-packages.c      |  4 ++--
 service/realm-provider.c      |  4 ++--
 service/realm-samba-enroll.c  |  4 ++--
 service/realm-samba.c         |  8 ++++----
 service/realm-service.c       |  6 +++---
 service/realm-sssd-ad.c       |  8 ++++----
 service/realm-sssd-ipa.c      |  6 +++---
 service/realm-sssd.c          |  2 +-
 tools/realm.c                 |  6 ------
 20 files changed, 52 insertions(+), 64 deletions(-)

commit 15d15a750ee07d20488d6da56b6fba699a450d78
Author: Stef Walter <stefw@redhat.com>
Date:   2013-05-13

    Use the full AD domain name as sssd.conf domain
    
    https://bugs.freedesktop.org/show_bug.cgi?id=64544

 service/realm-sssd-ad.c | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit bf87391a992712a351385a104973ef06933478b9
Author: Stef Walter <stefw@redhat.com>
Date:   2013-05-13

    Enable sssd service even when in install mode
    
    https://bugs.freedesktop.org/show_bug.cgi?id=64542

 service/realm-service.c | 13 +++++++------
 1 file changed, 7 insertions(+), 6 deletions(-)

commit 689307202535bbeed71d1c206529b3ae24e25ab7
Author: Stef Walter <stefw@redhat.com>
Date:   2013-05-13

    Don't print journalctl command when cancelled
    
    No need to print out lots of detailed information if the user
    actually cancelled the operation. Just go away. Also when the
    polkit prompt is cancelled
    
    https://bugs.freedesktop.org/show_bug.cgi?id=64539

 tools/realm.c | 12 +++++++++++-
 1 file changed, 11 insertions(+), 1 deletion(-)

commit cc30c8ba856852c09f54537638e65027239438af
Author: Stef Walter <stefw@redhat.com>
Date:   2013-05-13

    sssd-tools is no longer needed on Fedora
    
    sss_cache is part of the main sssd package.
    
    https://bugzilla.redhat.com/show_bug.cgi?id=961254

 service/realmd-redhat.conf | 1 -
 1 file changed, 1 deletion(-)

commit 94d1fd293b70bfb4081dab45c81cb59206d8566f
Author: Stef Walter <stefw@redhat.com>
Date:   2013-05-13

    Document the 'realm discover --all' option

 doc/manual/realm.xml | 5 +++++
 1 file changed, 5 insertions(+)

commit 6b08be5c0572d639ef80d665003c921e81f8f7bf
Author: Stef Walter <stefw@redhat.com>
Date:   2013-05-13

    Don't remove sssd domain if already removed
    
    If ipa-client-install or another process has removed the sssd
    domain already, then skip the domain removal
    
    Seen here: https://bugzilla.redhat.com/show_bug.cgi?id=961320

 service/realm-sssd.c | 14 ++++++++------
 1 file changed, 8 insertions(+), 6 deletions(-)

commit 3106c80aa9768f8b150152fcceba5494b65c3781
Author: Stef Walter <stefw@redhat.com>
Date:   2013-05-13

    Just quit when Ctrl-C is pressed twice
    
    https://bugs.freedesktop.org/show_bug.cgi?id=64538

 tools/realm-client.c | 8 +++++---
 tools/realm.c        | 1 +
 tools/realm.h        | 2 ++
 3 files changed, 8 insertions(+), 3 deletions(-)

commit b4b244509203a72bb3163e9e9a76dc485be0724f
Author: Stef Walter <stefw@redhat.com>
Date:   2013-05-13

    Don't do critical warning when service.Release() is called
    
    See: https://bugzilla.redhat.com/show_bug.cgi?id=961385

 service/realm-daemon.c     | 15 ++++++++++-----
 service/realm-daemon.h     |  2 +-
 service/realm-invocation.c |  3 ++-
 3 files changed, 13 insertions(+), 7 deletions(-)

commit 2f2049c4fc54356c130a348618cd547c9d5aa240
Author: Stef Walter <stefw@redhat.com>
Date:   2013-05-13

    Work around for authconfig bug:
    
    https://bugzilla.redhat.com/show_bug.cgi?id=953851

 service/realmd-redhat.conf | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 4d0e9525f6318fe2f814c2fcd02f485bf2bd0590
Author: Stef Walter <stefw@redhat.com>
Date:   2013-05-13

    Move check for coverage configure options
    
    By moving the check for --enable-coverage earlier we can
    disable _FORTIFY_SOURCE when not optimizing source code.

 configure.ac | 72 ++++++++++++++++++++++++++++++------------------------------
 1 file changed, 36 insertions(+), 36 deletions(-)

commit dc20a38edb780b6651216cf85981bc29dd9c26ee
Author: Stef Walter <stefw@redhat.com>
Date:   2013-05-13

    Fix incorrect use of password values
    
    Use correct value in the union for the given credential type.
    Fixes the following crasher bug, and another minor clarity fix.
    
    https://bugzilla.redhat.com/show_bug.cgi?id=961435

 service/realm-adcli-enroll.c | 2 +-
 service/realm-samba-enroll.c | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 9d4a7af3c053187d0306ff7874bec45497db2f0d
Author: Stef Walter <stefw@redhat.com>
Date:   2013-05-13

    Disable the slice allocator in order to find allocation bugs

 service/realm-daemon.c | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 9e01b9ef8bf64cd7df2aa95d89864e3d055d1474
Author: Stef Walter <stefw@redhat.com>
Date:   2013-05-06

    Release version 0.14.0

 NEWS                   | 5 +++++
 configure.ac           | 2 +-
 doc/manual/Makefile.am | 3 ++-
 3 files changed, 8 insertions(+), 2 deletions(-)

commit cdc45a11b712ceb2e8be2d1a1c2940ccba4e278f
Author: Stef Walter <stefw@redhat.com>
Date:   2013-05-06

    Handle awkward krb5 errors for empty passwords
    
    See: http://mailman.mit.edu/pipermail/krbdev/2013-May/011525.html

 tools/realm-client.c | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 83a4505c91531ad30bd79e4db2fb84f648c3a3f0
Author: Stef Walter <stefw@redhat.com>
Date:   2013-05-06

    Fine tune the regular expressions and formats for AD and IPA
    
    The default re_expression for AD and IPA work really well, so use the
    defaults. And use the default name format for IPA.

 service/realm-sssd-ad.c  | 3 +--
 service/realm-sssd-ipa.c | 2 --
 2 files changed, 1 insertion(+), 4 deletions(-)

commit b92b9b49287daa974bd5c7bb4d939174e8140d57
Author: Stef Walter <stefw@redhat.com>
Date:   2013-05-03

    Put documentation about realmd.conf in a manual page
    
    https://bugs.freedesktop.org/show_bug.cgi?id=64182

 .gitignore                                   |   3 +-
 doc/manual/Makefile.am                       |  10 +-
 doc/manual/realmd-docs.xml                   |   2 +-
 doc/manual/realmd-guide-active-directory.xml |   4 +-
 doc/manual/realmd-guide-configuring.xml      | 321 ----------------------
 doc/manual/realmd.conf.xml                   | 383 +++++++++++++++++++++++++++
 6 files changed, 396 insertions(+), 327 deletions(-)

commit 7f63139954ff3a285b759ed47dc1b75cd341808a
Author: Stef Walter <stefw@redhat.com>
Date:   2013-05-02

    Release version 0.13.91
    
     * An unstable pre-release of 0.14

 NEWS         | 7 +++++++
 configure.ac | 2 +-
 2 files changed, 8 insertions(+), 1 deletion(-)

commit afe6fd2743c00bc85ae892be0db657e1f7f320ff
Author: Stef Walter <stefw@redhat.com>
Date:   2013-05-02

    Add support for permitting logins by group
    
    https://bugs.freedesktop.org/show_bug.cgi?id=58397

 dbus/org.freedesktop.realmd.xml | 15 ++++++++++
 doc/manual/realm.xml            |  6 ++++
 service/realm-example.c         |  1 +
 service/realm-kerberos.c        | 10 ++++++-
 service/realm-kerberos.h        |  4 +++
 service/realm-samba.c           |  1 +
 service/realm-sssd-ad.c         |  2 +-
 service/realm-sssd-ipa.c        |  2 +-
 service/realm-sssd.c            | 62 ++++++++++++++++++++++++++++-------------
 service/realm-sssd.h            |  1 +
 tools/realm-discover.c          |  3 ++
 tools/realm-logins.c            | 14 ++++++++--
 tools/realm.c                   | 15 +++++++---
 13 files changed, 106 insertions(+), 30 deletions(-)

commit b7cec5c1c0e021e26bb56ad4d9098e53d7c10c64
Author: Stef Walter <stefw@redhat.com>
Date:   2013-05-02

    Use clang analyzer to track down issues

 .gitignore                    |  2 ++
 service/realm-kerberos.c      |  4 ++++
 service/realm-login-name.c    | 12 ++++++++----
 service/realm-sssd.c          |  2 +-
 tests/frob-install-packages.c |  2 +-
 tools/realm-discover.c        | 12 ++++++------
 6 files changed, 22 insertions(+), 12 deletions(-)

commit 5086078c405a22edcbd7c206b23e17381b7f7b60
Author: Stef Walter <stefw@redhat.com>
Date:   2013-05-02

    Fix possible uses of uninitialized memory

 service/realm-kerberos.c | 2 +-
 service/realm-sssd-ipa.c | 2 +-
 tools/realm-client.c     | 2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit f2b2b6e702b222a5a89ae1985f497d2927257c27
Author: Stef Walter <stefw@redhat.com>
Date:   2013-05-02

    Fix 'realm join --one-time-password'
    
    We were including an extra carriage return when calling adcli

 service/realm-adcli-enroll.c | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit f50bf31128647eb35d7e7dd6c9b7b2cce9d9025c
Author: Stef Walter <stefw@gnome.org>
Date:   2013-04-30

    Fix regression of discovery of FreeIPA

 service/realm-sssd-provider.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit dfbcf91185ca6b826f92c96aa8daecaa51ff939b
Author: Stef Walter <stefw@gnome.org>
Date:   2013-04-30

    Add debug line for server software found during DSE search

 service/realm-disco-rootdse.c | 3 +++
 1 file changed, 3 insertions(+)

commit a986d4f3de11325913da26526f1348776f6bd7fe
Author: Stef Walter <stefw@gnome.org>
Date:   2013-04-30

    Make the service --debug argument work again

 service/realm-daemon.c | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 42f664f451c3ffc9eb5c61c9f5f7c17b316ce0c8
Author: Stef Walter <stefw@redhat.com>
Date:   2013-04-29

    Release version 0.13.90
    
     * An unstable pre-release of 0.14

 NEWS         | 21 +++++++++++++++++++++
 configure.ac |  2 +-
 2 files changed, 22 insertions(+), 1 deletion(-)

commit 79fe6fed2ac07ddd0e346a2803476b68b54b2819
Author: Stef Walter <stefw@redhat.com>
Date:   2013-04-29

    Fix a few clang-analyzer warnings

 service/realm-command.c    | 2 +-
 service/realm-invocation.c | 1 -
 2 files changed, 1 insertion(+), 2 deletions(-)

commit bf1fe1a2e8bbc2f032671e7f9e0147c1ca7c16e8
Author: Stef Walter <stefw@redhat.com>
Date:   2013-04-25

    Add option to disable use of fully qualified names
    
    https://bugs.freedesktop.org/show_bug.cgi?id=60637

 doc/manual/realmd-guide-configuring.xml | 18 ++++++++++++++++++
 service/realm-options.c                 | 13 +++++++++++++
 service/realm-options.h                 |  2 ++
 service/realm-samba-config.c            | 33 +++++++++++++++++++++++++++++++++
 service/realm-samba-config.h            |  5 +++++
 service/realm-samba-winbind.c           |  6 ++++--
 service/realm-samba-winbind.h           |  2 +-
 service/realm-samba.c                   |  8 ++++++--
 service/realm-sssd-ad.c                 |  6 ++++--
 service/realm-sssd-ipa.c                |  2 +-
 10 files changed, 87 insertions(+), 8 deletions(-)

commit ab2fd415c1584757420e7a93e22d4ccba3e572d2
Author: Stef Walter <stefw@redhat.com>
Date:   2013-04-25

    Add option to disable automatic package installs
    
     * Correctly report missing packages when disabled
     * Refactor a bit for clarity
     * Assume that packages are installed when in install mode
    
    https://bugs.freedesktop.org/show_bug.cgi?id=61215

 dbus/org.freedesktop.realmd.xml         |  3 --
 dbus/realm-dbus-constants.h             |  1 -
 doc/manual/realmd-guide-configuring.xml | 23 ++++++++++++
 service/realm-options.c                 |  9 +----
 service/realm-options.h                 |  2 +-
 service/realm-packages.c                | 66 ++++++++++++++++++---------------
 service/realm-packages.h                |  1 +
 service/realm-samba.c                   | 11 +-----
 service/realm-sssd-ad.c                 |  8 +---
 service/realm-sssd-ipa.c                | 11 +-----
 service/realmd-defaults.conf            |  1 +
 tools/realm.c                           |  5 ---
 12 files changed, 68 insertions(+), 73 deletions(-)

commit fefcd2628d3630a07dcd1a972fce47ea55e7c950
Author: Stef Walter <stefw@redhat.com>
Date:   2013-04-29

    Call getsockopt() correctly

 service/realm-ldap.c | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 5e7121219ad54a54ad2a035c6efcf5c561f3186f
Author: Stef Walter <stefw@redhat.com>
Date:   2013-04-25

    Print out command needed to see diagnostics in journal
    
    After a failure print out a message about how to use journal
    to see the last operation
    
    https://bugs.freedesktop.org/show_bug.cgi?id=63739

 tools/realm-client.c |  8 +++++---
 tools/realm.c        | 17 +++++++++++++++++
 tools/realm.h        |  2 +-
 3 files changed, 23 insertions(+), 4 deletions(-)

commit 8acb0e040f30c571e559345fa8b44f365990e65a
Author: Stef Walter <stefw@redhat.com>
Date:   2013-04-29

    Don't litter the logs with cancellation messages

 service/realm-diagnostics.c | 3 +++
 1 file changed, 3 insertions(+)

commit e5076980817df72fdfbefb26fd18c4e4c8135da3
Author: Stef Walter <stefw@redhat.com>
Date:   2013-04-29

    Fallback to other auth method if automatic not supported

 service/realm-sssd-ad.c | 2 +-
 tools/realm-join.c      | 3 ++-
 2 files changed, 3 insertions(+), 2 deletions(-)

commit 45deebad26c341dd3df2977ea1af8d5b57099dae
Author: Stef Walter <stefw@redhat.com>
Date:   2013-04-25

    When realm is not joinable say so
    
    Previously we would say that the realm was not found when trying
    to 'realm join' a domain that didn't support it.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=63631

 tools/realm-client.c   |  6 +++++-
 tools/realm-client.h   |  1 +
 tools/realm-discover.c |  2 +-
 tools/realm-join.c     | 11 ++++++++---
 4 files changed, 15 insertions(+), 5 deletions(-)

commit eb6621d668374c55a6942bfcf2f7b12ebf9f7f5b
Author: Stef Walter <stefw@redhat.com>
Date:   2013-04-25

    Fallback to configured realms when discovering
    
     * If no discovered realms for a string, check locally configured
       realms to see if they're available locally, but just not
       online right now.
     * Reorganize how realms are enumerated on a provider, so that
       we can accomplish the above generically
    
    https://bugs.freedesktop.org/show_bug.cgi?id=62863

 service/realm-all-provider.c | 47 +++++++++++++++++++++++------------
 service/realm-kerberos.c     | 21 ++++++++++++++++
 service/realm-kerberos.h     |  3 +++
 service/realm-provider.c     | 58 +++++++++++++++++++++++++++++++++++++++-----
 service/realm-provider.h     |  6 +++--
 5 files changed, 111 insertions(+), 24 deletions(-)

commit acabf162e825f64420c76dec361bc2be2db6852a
Author: Stef Walter <stefw@redhat.com>
Date:   2013-04-29

    Correctly respect server-software during SSSD provider Discover()

 service/realm-provider.c      |  4 ++--
 service/realm-sssd-provider.c | 13 +++++++++++--
 2 files changed, 13 insertions(+), 4 deletions(-)

commit 2823d849418b9404ad45de5753ac7b0618079a95
Author: Stef Walter <stefw@redhat.com>
Date:   2013-04-29

    Work around problems with IPv6 address representations

 service/realm-ldap.c | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 2d15aad9a62297ecb37da9c0c35762e5f846c00f
Author: Stef Walter <stefw@redhat.com>
Date:   2013-04-25

    Discover timeouts and defaults happen globally
    
     * When discovery takes too long cancel all possible discovery
       for every provider. There were straglers before that would
       have off side effects
     * Lookup the DHCP realm name at the highest level. That way it
       can be fed into all the providers as a default
    
    https://bugs.freedesktop.org/show_bug.cgi?id=63907

 service/realm-provider.c | 122 +++++++++++++++++++++++++++++++++++++++++------
 1 file changed, 108 insertions(+), 14 deletions(-)

commit 879f9427ed0ebbceac59fde8ec51d231735d67f5
Author: Stef Walter <stefw@redhat.com>
Date:   2013-04-25

    Enable usage of explicit servers when joining domains
    
     * Use of explicit host names when joining domains is now possible
     * If done, configures sssd/winbind to use only that server
     * Use discovery information correctly in various locations
       rather than making assumptions
    
    https://bugs.freedesktop.org/show_bug.cgi?id=63907

 doc/manual/realmd-guide-active-directory.xml |  7 +++
 doc/manual/realmd-guide-freeipa.xml          |  6 +++
 service/realm-adcli-enroll.c                 | 37 +++++--------
 service/realm-adcli-enroll.h                 |  4 +-
 service/realm-kerberos.c                     |  4 ++
 service/realm-samba-enroll.c                 | 78 ++++++++++++---------------
 service/realm-samba-enroll.h                 |  6 +--
 service/realm-samba.c                        | 45 +++++++---------
 service/realm-sssd-ad.c                      | 80 +++++++++-------------------
 service/realm-sssd-ipa.c                     | 15 +++++-
 10 files changed, 125 insertions(+), 157 deletions(-)

commit d16d3a24ac8c6c4b89f616393a4d6fb907d371fc
Author: Stef Walter <stefw@redhat.com>
Date:   2013-04-22

    Rework the discovery mechanisms
    
     * Actually use MS-CLDAP to connect to AD servers
     * Use RootDSE lookups to discover IPA servers
     * Support discovery of a specific server
    
    https://bugs.freedesktop.org/show_bug.cgi?id=63907

 configure.ac                                 |  23 +
 doc/manual/realmd-guide-active-directory.xml |  17 +-
 doc/manual/realmd-guide-freeipa.xml          |  24 +-
 po/POTFILES.in                               |   2 +
 service/Makefile.am                          |   9 +-
 service/realm-disco-dns.c                    | 314 ++++++++++++++
 service/realm-disco-dns.h                    |  39 ++
 service/realm-disco-domain.c                 | 342 +++++++++++++++
 service/realm-disco-domain.h                 |  36 ++
 service/realm-disco-mscldap.c                | 315 ++++++++++++++
 service/realm-disco-mscldap.h                |  31 ++
 service/realm-disco-rootdse.c                | 341 +++++++++++++++
 service/realm-disco-rootdse.h                |  31 ++
 service/realm-disco.c                        |  66 +++
 service/realm-disco.h                        |  44 ++
 service/realm-discovery.c                    | 108 -----
 service/realm-discovery.h                    |  50 ---
 service/realm-example-provider.c             |   4 +-
 service/realm-ipa-discover.c                 | 611 ---------------------------
 service/realm-ipa-discover.h                 |  34 --
 service/realm-kerberos-discover.c            | 566 -------------------------
 service/realm-kerberos-discover.h            |  35 --
 service/realm-kerberos-provider.c            |  50 ++-
 service/realm-kerberos.c                     |  58 ++-
 service/realm-kerberos.h                     |   7 +-
 service/realm-ldap.c                         | 361 ++++++++++++++++
 service/realm-ldap.h                         |  45 ++
 service/realm-options.c                      |   2 +-
 service/realm-provider.c                     |   9 +-
 service/realm-provider.h                     |   3 +-
 service/realm-samba-enroll.c                 | 234 +++-------
 service/realm-samba-enroll.h                 |   3 +-
 service/realm-samba-provider.c               |  38 +-
 service/realm-samba.c                        |   5 +-
 service/realm-sssd-ad.c                      |   2 +-
 service/realm-sssd-ipa.c                     |   2 -
 service/realm-sssd-provider.c                |  45 +-
 service/realm-sssd.c                         |  13 +-
 38 files changed, 2189 insertions(+), 1730 deletions(-)

commit 79a1c90c6a71de5290a2f3b052bf8b3548220a23
Author: Stef Walter <stefw@redhat.com>
Date:   2013-04-25

    Treat KRB5KRB_AP_ERR_BAD_INTEGRITY as bad password
    
    This is what the kinit and other tools do.
    
    http://bugs.freedesktop.org/show_bug.cgi?id=63738

 tools/realm-client.c | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit e7d079e48409bb99d8242ba81552d006c797c698
Author: Stef Walter <stefw@redhat.com>
Date:   2013-04-26

    Work around samba bug which requires LOGNAME envvar
    
    https://bugs.freedesktop.org/show_bug.cgi?id=63956

 service/realm-samba-enroll.c | 19 ++++++++++++++++++-
 1 file changed, 18 insertions(+), 1 deletion(-)

commit 6ec4ff473c2418e0a2d74ab7418cf8ac02d7e8d0
Author: Stef Walter <stefw@redhat.com>
Date:   2013-04-26

    Add settings option for turning on realmd debugging
    
    https://bugs.freedesktop.org/show_bug.cgi?id=61219

 service/realm-daemon.c       | 3 ++-
 service/realm-samba-enroll.c | 3 ++-
 service/realmd-defaults.conf | 2 ++
 3 files changed, 6 insertions(+), 2 deletions(-)

commit 513bbceb39dce8c176cd3248d6c1860ec14eb973
Author: Stef Walter <stefw@redhat.com>
Date:   2013-04-25

    Print out message when temp file cannot be created
    
    https://bugs.freedesktop.org/show_bug.cgi?id=63910

 service/realm-samba-enroll.c | 2 ++
 1 file changed, 2 insertions(+)

commit 51f49faa9467ad5c5f29c2e6e9a31a488dbc3f70
Author: Stef Walter <stefw@redhat.com>
Date:   2013-04-25

    Don't use cachedir for temp files if it doesn't exist
    
    https://bugs.freedesktop.org/show_bug.cgi?id=63910

 service/realm-daemon.c | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 9353ae57508a256c73bffd66dfd28cbfa04ba4a8
Author: Stef Walter <stefw@redhat.com>
Date:   2013-04-25

    Add a --replace argument to realmd for use when debugging
    
     * Replaces a running realmd
    
    https://bugs.freedesktop.org/show_bug.cgi?id=63908

 service/realm-daemon.c | 10 ++++++++--
 1 file changed, 8 insertions(+), 2 deletions(-)

commit 9bc8ca0048d75be4c891d19db50e3ba74b577cf6
Author: Stef Walter <stefw@redhat.com>
Date:   2013-04-22

    Use GTask instead of GSimpleAsyncResult
    
     * We don't rework places where this doesn't make sense
     * Use our own copy of GTask for now
    
    https://bugs.freedesktop.org/show_bug.cgi?id=63906

 service/Makefile.am               |    1 +
 service/egg-task.c                | 1313 +++++++++++++++++++++++++++++++++++++
 service/egg-task.h                |  130 ++++
 service/realm-adcli-enroll.c      |   37 +-
 service/realm-example-provider.c  |   36 +-
 service/realm-example.c           |  108 ++-
 service/realm-kerberos-provider.c |   23 +-
 service/realm-kerberos.c          |  216 ------
 service/realm-kerberos.h          |   12 -
 service/realm-packages.c          |   47 +-
 service/realm-samba-enroll.c      |  124 ++--
 service/realm-samba-provider.c    |   23 +-
 service/realm-samba-winbind.c     |   84 +--
 service/realm-samba.c             |  131 ++--
 service/realm-service.c           |  111 ++--
 service/realm-sssd-ad.c           |  110 ++--
 service/realm-sssd-ipa.c          |  125 ++--
 service/realm-sssd-provider.c     |   23 +-
 service/realm-sssd.c              |   65 +-
 service/realm-sssd.h              |    3 +-
 20 files changed, 1908 insertions(+), 814 deletions(-)

commit ac73d7d3c0eb2bc6e9507ecc7262894f154e89d2
Author: Stef Walter <stefw@redhat.com>
Date:   2013-04-12

    Use allow-realm-logins by default if manage-system
    
    When manage-system is false, use allow-permitted-logins as the
    default login policy, otherwise allow-realm-logins
    
    https://bugs.freedesktop.org/show_bug.cgi?id=61858

 service/realm-sssd-ad.c  | 17 +++++++++++++++--
 service/realm-sssd-ipa.c | 24 ++++++++++++++++++++++--
 service/realm-sssd.c     | 26 +++++++++++++-------------
 service/realm-sssd.h     |  7 +++++++
 4 files changed, 57 insertions(+), 17 deletions(-)

commit f80a3b0b85e86763d668d99a3d43d614b5b35a01
Author: Stef Walter <stefw@redhat.com>
Date:   2013-04-12

    Add 'manage-system' option which defaults to TRUE
    
    This is a per-realm setting, and Join() option which can be used
    to make realmd not configure central management aspects when
    joining a domain.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=61858

 dbus/org.freedesktop.realmd.xml         |  3 +++
 dbus/realm-dbus-constants.h             |  1 +
 doc/manual/realmd-guide-configuring.xml | 19 +++++++++++++++++++
 service/realm-options.c                 | 17 +++++++++++++++++
 service/realm-options.h                 |  3 +++
 service/realm-sssd-ipa.c                |  7 ++++++-
 6 files changed, 49 insertions(+), 1 deletion(-)

commit fecf523c1d478c50b188fd11c44cacea255dcae5
Author: Stef Walter <stefw@redhat.com>
Date:   2013-04-12

    Option 'automatic-id-mapping' turns off id mapping
    
    This new per-realm option 'automatic-id-mapping = no' turns off
    automatic ID mapping, and makes sssd and winbind obey RFC2307
    when configured.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=60679

 doc/manual/realmd-guide-configuring.xml | 19 +++++++++++++++++
 service/realm-options.c                 | 13 ++++++++++++
 service/realm-options.h                 |  2 ++
 service/realm-samba-winbind.c           | 37 +++++++++++++++++++++++++--------
 service/realm-samba-winbind.h           |  1 +
 service/realm-samba.c                   |  6 +++++-
 service/realm-sssd-ad.c                 |  1 +
 7 files changed, 69 insertions(+), 10 deletions(-)

commit f3822b5b80e038540aba44ab097c1b866e72cd43
Author: Stef Walter <stefw@redhat.com>
Date:   2013-04-12

    Make realm_ini_config_set() accept more than one agrument pair
    
    This cleans up code a lot, and gives us a syntax similar to
    realm_ini_config_change().
    
    https://bugs.freedesktop.org/show_bug.cgi?id=60679

 service/realm-example.c      |  2 +-
 service/realm-ini-config.c   | 17 ++++++++++++++---
 service/realm-ini-config.h   |  3 ++-
 service/realm-samba-enroll.c | 14 +++++++++-----
 service/realm-sssd-config.c  |  8 +++++---
 service/realm-sssd.c         |  6 +++---
 tests/test-ini-config.c      | 14 +++++++-------
 7 files changed, 41 insertions(+), 23 deletions(-)

commit 666252b763180be6ffca36d9edf2f3db08ca3a1d
Author: Stef Walter <stefw@redhat.com>
Date:   2013-04-12

    Make realm_settings_boolean() accept a default value
    
    We're using these settings for a lot of admin configurable stuff
    and we can't expect per-realm defaults to be present in the
    installed files, so specify them in the code.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=60679

 service/realm-daemon.c   |  6 +++---
 service/realm-example.c  |  2 +-
 service/realm-options.c  |  3 +--
 service/realm-settings.c |  9 ++++-----
 service/realm-settings.h |  3 ++-
 tests/test-settings.c    | 10 ++++++++--
 6 files changed, 19 insertions(+), 14 deletions(-)

commit 8f69db62c0c75881d9f9beedf834d05954e2518c
Author: Stef Walter <stefw@redhat.com>
Date:   2013-04-12

    Don't print usage info when invalid options
    
    When a realm command prints out a failure about invalid options it
    gets lost near the top of the big usage information. This was
    frustrating, until now.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=62518

 tools/realm.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 42349005cb9b0be0e461c2e3ba27794e8948364d
Author: Stef Walter <stefw@redhat.com>
Date:   2013-04-12

    Don't set sssd.conf parameters to defaults
    
    "auth_provider" and "chpass_provider" always defaults to whatever is set in
    id_provider unless explicitly changed.
    "case_sensitive=false" is the default for ad provider only.
    "enumerate=false" is the default for all providers.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=62519

 service/realm-sssd-ad.c | 4 ----
 1 file changed, 4 deletions(-)

commit 68d83a6e1f4554261355bdba9feae01ff791d942
Author: Stef Walter <stefw@redhat.com>
Date:   2013-04-12

    Remove empty keytab if all entries have been flushed
    
    https://bugs.freedesktop.org/show_bug.cgi?id=56029

 service/realm-kerberos.c | 30 ++++++++++++++++++++++++++++--
 1 file changed, 28 insertions(+), 2 deletions(-)

commit d2846c075e261bc3f8d141b01360a1aea7b759d2
Author: Stef Walter <stefw@redhat.com>
Date:   2013-04-11

    Add the user-principal option and setting
    
    https://bugs.freedesktop.org/show_bug.cgi?id=62755

 dbus/org.freedesktop.realmd.xml         |  3 +++
 dbus/realm-dbus-constants.h             |  1 +
 doc/manual/realmd-guide-configuring.xml | 17 +++++++++++++++++
 service/realm-adcli-enroll.c            | 22 ++++++++++++++++++----
 service/realm-options.c                 | 21 +++++++++++++++++++++
 service/realm-options.h                 |  3 +++
 service/realm-samba-enroll.c            | 10 ++++++++++
 tools/realm-join.c                      |  5 +++++
 8 files changed, 78 insertions(+), 4 deletions(-)

commit 163203e3aa8b75b713f2b7855f1f522cb2b3daf2
Author: Stef Walter <stefw@redhat.com>
Date:   2013-04-11

    Add support for the os-name and os-version config options
    
    These are used to set the operatingSystem and operatingSystemVersion
    attributes of a computer account.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=54489

 doc/manual/realm.xml                    |  7 +++++++
 doc/manual/realmd-guide-configuring.xml | 24 ++++++++++++++++++++++++
 service/realm-adcli-enroll.c            | 13 +++++++++++++
 service/realm-samba-enroll.c            | 27 +++++++++++++++++++++++----
 service/realmd-defaults.conf            |  2 ++
 5 files changed, 69 insertions(+), 4 deletions(-)

commit 3a0a8e65f4caf5f7d4ffdeb766b1b2bc4bad8a75
Author: Stef Walter <stefw@redhat.com>
Date:   2013-04-11

    Pass 'realm join' options in a structure
    
     * Too many options to be using arguments for them
    
    https://bugs.freedesktop.org/show_bug.cgi?id=63434

 tools/realm-join.c | 79 ++++++++++++++++++++++++++----------------------------
 1 file changed, 38 insertions(+), 41 deletions(-)

commit 1a7215eba1914f1c4fd6cdf99e028a29de8b3aed
Author: Stef Walter <stefw@redhat.com>
Date:   2013-04-11

    More extensible passing of options to join/leave implementations
    
    We want to add furhter options here, so make things
    more manageable.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=63434

 service/Makefile.am                 |  1 +
 service/realm-adcli-enroll.c        |  5 +++-
 service/realm-adcli-enroll.h        |  2 +-
 service/realm-example.c             |  8 ++----
 service/realm-kerberos-membership.h |  6 -----
 service/realm-kerberos.c            | 40 +++++------------------------
 service/realm-kerberos.h            |  3 ---
 service/realm-options.c             | 51 +++++++++++++++++++++++++++++++++++++
 service/realm-options.h             | 31 ++++++++++++++++++++++
 service/realm-samba-enroll.c        | 10 +++++---
 service/realm-samba-enroll.h        |  3 ++-
 service/realm-samba.c               | 15 +++++------
 service/realm-sssd-ad.c             | 17 ++++++-------
 service/realm-sssd-ipa.c            |  5 ++--
 14 files changed, 123 insertions(+), 74 deletions(-)

commit 5c6917bdab62cda3f494ea2aaf168a9c37a78f46
Author: Stef Walter <stefw@redhat.com>
Date:   2013-04-11

    Cleanup passing around of credentials during join/leave operations
    
     * Only one pair of virtual methods on RealmKerberosMembership
       per join/remove
     * A single struct for credentials: RealmCredential
     * Less copying of credentails, and simply refing the struct
     * Remove the owner flags and have them simply be a field
       in the credential
    
    https://bugs.freedesktop.org/show_bug.cgi?id=63434

 service/Makefile.am                 |   1 +
 service/realm-adcli-enroll.c        | 119 ++++------
 service/realm-adcli-enroll.h        |  36 +--
 service/realm-credential.c          | 334 +++++++++++++++++++++++++++
 service/realm-credential.h          |  80 +++++++
 service/realm-example.c             |  71 +++---
 service/realm-kerberos-membership.c |  66 ------
 service/realm-kerberos-membership.h |  84 +------
 service/realm-kerberos.c            | 448 ++++++++----------------------------
 service/realm-kerberos.h            |   8 -
 service/realm-samba-enroll.c        | 113 ++++-----
 service/realm-samba-enroll.h        |  26 +--
 service/realm-samba.c               | 156 ++++++-------
 service/realm-sssd-ad.c             | 409 ++++++++------------------------
 service/realm-sssd-ipa.c            | 327 ++++++++++++--------------
 15 files changed, 968 insertions(+), 1310 deletions(-)

commit 986474306f35b3c54374425c4230ddb598cf5d05
Author: Stef Walter <stefw@redhat.com>
Date:   2012-11-22

    Implement support for using a ccache in the realm command
    
    https://bugs.freedesktop.org/show_bug.cgi?id=56022

 doc/manual/realm.xml                         |  10 +
 doc/manual/realmd-guide-active-directory.xml |  10 +
 service/realm-adcli-enroll.c                 |  10 +-
 service/realm-kerberos-membership.h          |   4 +-
 service/realm-kerberos.c                     |  85 ++++-
 service/realm-samba-enroll.c                 | 186 +++++++---
 service/realm-samba-enroll.h                 |  58 ++--
 service/realm-samba.c                        |  18 +-
 service/realm-sssd-ad.c                      |  88 ++++-
 tools/realm-client.c                         | 492 ++++++++++++++++++++++++---
 tools/realm-client.h                         |   1 +
 tools/realm-join.c                           |   5 +-
 tools/realm.c                                | 161 ---------
 13 files changed, 794 insertions(+), 334 deletions(-)

commit 40b27c55f651289eed110fc6cf8390dfc16899f7
Author: Stef Walter <stefw@redhat.com>
Date:   2013-04-25

    Fix memory leak of realm object paths

 tools/realm-client.c | 1 +
 1 file changed, 1 insertion(+)

commit d875246e7da301d4b3ad0f6ae2e7840365f033c5
Author: Stef Walter <stefw@gnome.org>
Date:   2013-04-26

    Fix warnings when building with Glib 2.36.x and GCC 4.8

 service/realm-daemon.c             | 3 +++
 service/realm-kerberos.c           | 6 ++++++
 service/realm-sssd.c               | 8 ++++++++
 tests/frob-install-packages.c      | 2 ++
 tests/test-ini-config.c            | 2 ++
 tests/test-samba-ou-format.c       | 3 +++
 tests/test-settings.c              | 3 +++
 tests/test-sssd-config.c           | 2 ++
 tools/eggdbusobjectmanagerclient.c | 2 +-
 tools/eggdbusobjectproxy.c         | 2 +-
 tools/realm-discover.c             | 2 --
 tools/realm.c                      | 9 +++++++++
 12 files changed, 40 insertions(+), 4 deletions(-)

commit 6d3ecb6811421078a6f46b36bde83d2e12e69e7f
Author: Stef Walter <stefw@redhat.com>
Date:   2013-04-17

    Release version 0.13.3

 Makefile.am    |  1 -
 NEWS           | 17 +++++++++++++++++
 configure.ac   |  2 +-
 po/POTFILES.in |  1 +
 4 files changed, 19 insertions(+), 2 deletions(-)

commit 13274d56758ab2e9ee37482b78306ebc1988f90f
Author: Stef Walter <stefw@redhat.com>
Date:   2013-04-12

    Don't allow commas in logins used in sssd access lists
    
    https://bugs.freedesktop.org/show_bug.cgi?id=62517

 service/realm-sssd.c | 48 ++++++++++++++++++++++++++++++++++--------------
 1 file changed, 34 insertions(+), 14 deletions(-)

commit 7a59c27db14bb2e7fcaa2fbe24d46c0b36063c3c
Author: Stef Walter <stefw@redhat.com>
Date:   2013-04-12

    Don't exit realmd when clients are still active
    
    https://bugs.freedesktop.org/show_bug.cgi?id=61220

 service/realm-daemon.c     | 13 ++-----------
 service/realm-invocation.c |  3 +++
 2 files changed, 5 insertions(+), 11 deletions(-)

commit ef9404f08064694c104484cb7855d0562a4450ff
Author: Stef Walter <stefw@redhat.com>
Date:   2013-04-12

    Use a dollar sign as our simple_allow_users placeholder
    
    We have to use a placeholder to get sssd to recognize that the
    simple_allow_users is to allow no users to login.
    
    Simo recommended using a dollar sign instead of a comma.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=62518

 service/realm-sssd.c | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit a66334e37b7eaf56f3f6f00b145262d56392ef53
Author: Stef Walter <stefw@redhat.com>
Date:   2013-04-12

    Clarify realm permit/deny commands
    
     * Deny is not able to add specific users to a blacklist.
     * Add --withdraw options for removing users from the permitted list
     * Compatibility to fall through with previous behavior
     * Better messages when arguments are invalid
    
    https://bugs.freedesktop.org/show_bug.cgi?id=62518

 doc/manual/realm.xml | 50 +++++++++++++++++----------------
 tools/realm-logins.c | 78 +++++++++++++++++++++++++++++-----------------------
 tools/realm.c        |  4 +--
 3 files changed, 72 insertions(+), 60 deletions(-)

commit 616559eaef9024d8734a9c0229c55632f591fbf1
Author: Stef Walter <stefw@redhat.com>
Date:   2013-04-12

    Send internal warnings/criticals/messages to syslog
    
    https://bugs.freedesktop.org/show_bug.cgi?id=58084

 service/realm-daemon.c      | 108 ++++++++++++++++++++++++++++++++++++++++++++
 service/realm-daemon.h      |   5 ++
 service/realm-diagnostics.c |  83 +++-------------------------------
 3 files changed, 120 insertions(+), 76 deletions(-)

commit f2b778145ff2cadc561795d31af5ce9c924c4280
Author: Marius Vollmer <mvollmer@redhat.com>
Date:   2013-03-12

    Clean up closure handling in the example domain.
    
    The explicit OpData struct is not necessary, and not what the rest of
    the code does.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=62215

 service/realm-example.c | 59 +++++++++++++++++--------------------------------
 1 file changed, 20 insertions(+), 39 deletions(-)

commit 36b1f25b40166519591f9bd24e641b4a36d97dab
Author: Marius Vollmer <mvollmer@redhat.com>
Date:   2013-04-15

    When sleeping in the example provider, deal with immediate cancellation.
    
    * service/realm-example-provider.c (on_discover_sleep_done): Always
      complete in idle, as expected.
    
    * service/realm-usleep-async.c (realm_usleep_async): Check for
      immediate cancellation, to avoid calling on_sleep_async_cancelled
      before we are done initializing.  Also, change ownership handling to
      be more straightforward and to allow both timeout and cancelling to
      occur at the same time.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=62372

 service/realm-usleep-async.c | 61 +++++++++++++++++++++++++++-----------------
 1 file changed, 38 insertions(+), 23 deletions(-)

commit a5687d03d1b3a9df5d06a0ef2d345ff58221480c
Author: Stef Walter <stefw@redhat.com>
Date:   2013-04-16

    Tell authconfig not to start/restart sssd or winbind
    
    realmd takes care of managing services as appropriate

 service/realmd-redhat.conf | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 4d81337c9c0b0492eccb5a9cad145b5a7fa28380
Author: Stef Walter <stefw@gnome.org>
Date:   2013-03-26

    Cleanup our samba net ads join process
    
     * Don't write stuff out to the regitsry or depend on it working.
     * Use a custom smb.conf file for pre-join parameters.
     * Use 'net ads workgroup' to discover the workgroup name which samba
       absolutely insists on having before the join starts >:(
     * Do another DNS discovery if there was no DNS discovery done
       before the join starts
    
    https://bugs.freedesktop.org/show_bug.cgi?id=56023

 po/POTFILES.in                    |   1 +
 service/Makefile.am               |   1 -
 service/net-ads-smb.conf          |   2 -
 service/realm-discovery.c         |  65 +++------
 service/realm-discovery.h         |   7 +-
 service/realm-ini-config.c        |  49 +++++++
 service/realm-ini-config.h        |   4 +
 service/realm-kerberos-discover.c |  15 ++-
 service/realm-samba-enroll.c      | 270 ++++++++++++++++++++++++--------------
 service/realm-samba-enroll.h      |   1 +
 service/realm-samba.c             |   7 +-
 service/realm-sssd-ad.c           |   6 +-
 12 files changed, 273 insertions(+), 155 deletions(-)

commit cf1602db88043053e5e105986d3e37d38d607803
Author: Stef Walter <stefw@gnome.org>
Date:   2013-03-26

    Support realm login policy
    
     * Add a new login policy which respects domain policy for logins
       allowed on the machine, ie: HBAC.
     * Default to domain login policy after joining the domain.
     * 'realm permit -a' follows domain login policy
    
    https://bugs.freedesktop.org/show_bug.cgi?id=60628

 dbus/org.freedesktop.realmd.xml |  4 ++++
 dbus/realm-dbus-constants.h     |  1 +
 doc/manual/realm.xml            |  5 +++--
 service/realm-kerberos.c        |  5 +++++
 service/realm-kerberos.h        |  5 +++--
 service/realm-samba.c           |  3 +++
 service/realm-sssd-ad.c         | 10 +++++++---
 service/realm-sssd-ipa.c        |  6 +++++-
 service/realm-sssd.c            |  7 +++++++
 service/realm-sssd.h            | 15 ++++++++++++---
 tools/realm-logins.c            |  2 +-
 11 files changed, 51 insertions(+), 12 deletions(-)

commit 46b2cbee45aefa4d38bc7ebf4a31814e83a93d25
Author: Stef Walter <stefw@redhat.com>
Date:   2013-04-10

    Don't advertise automatic joining for samba provider
    
     * It's not supported

 service/realm-samba.c | 1 -
 1 file changed, 1 deletion(-)

commit 65e8f0ed9d062d2d8c890ac0cf0b1a7dc4ecf83c
Author: Stef Walter <stefw@gnome.org>
Date:   2013-03-27

    Don't free the section before we're done accessing it
    
     * When removing a config file section, first finish using it
       then free the actual ConfigSection structure.

 service/realm-ini-config.c | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 8f0918156ea0538e9869e5a73e54bcac801a0c01
Author: Stef Walter <stefw@redhat.com>
Date:   2013-04-10

    Add link on website to adcli documentation

 doc/website/content/index.html | 1 +
 1 file changed, 1 insertion(+)

commit bc99ad89997be0d3edeabbfcfb44d93c254c892d
Author: Stef Walter <stefw@gnome.org>
Date:   2013-03-26

    Fix access to uninitialized memory, and NULL dereference
    
    https://bugs.freedesktop.org/show_bug.cgi?id=62763

 service/realm-packages.c | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 352d7a7dbd22e619c51634951f628d5938a57c26
Author: Stef Walter <stefw@gnome.org>
Date:   2013-03-26

    Detect expired credentials as an account problem
    
    https://bugs.freedesktop.org/show_bug.cgi?id=62761

 service/realm-samba-enroll.c | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 7ba193bd9aa23deeca771abcb4c45afcd16f3a9e
Author: Stef Walter <stefw@gnome.org>
Date:   2013-03-27

    Some basic valgrind integration
    
     * Add the valgrind headers to the build directory
     * Set G_SLICE=always-malloc if running under valgrind and
       the G_SLICE environment variable has not been set.
     * Add a 'make memcheck' target.

 Makefile.am               |    7 +-
 build/Makefile.am         |    2 +
 build/valgrind/memcheck.h |  282 +++
 build/valgrind/valgrind.h | 5344 +++++++++++++++++++++++++++++++++++++++++++++
 service/Makefile.am       |    1 +
 service/realm-daemon.c    |    8 +
 tests/Makefile.am         |    7 +-
 tools/Makefile.am         |    1 +
 tools/realm.c             |    8 +
 9 files changed, 5653 insertions(+), 7 deletions(-)

commit 6d833de7888613c2c6aa3f92d913a37d302a5031
Author: Stef Walter <stefw@gnome.org>
Date:   2013-03-26

    Add systemd-devel to the list of things needed to build on Fedora

 doc/website/content/contribute.html | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 2d172899e642e7caa3d1fdb073ec9dc31b5742e6
Author: Stef Walter <stefw@gnome.org>
Date:   2013-03-26

    Add missing file to POTFILES.in

 po/POTFILES.in | 1 +
 1 file changed, 1 insertion(+)

commit 42bf34cee6512af6214abb0a14e26f8cec6ac72d
Author: Stef Walter <stefw@gnome.org>
Date:   2013-03-26

    Fine tune the systemd integration
    
     * Use standard --without-systemd-journal syntax and fix some
       corner cases configuring that.
     * Install a systemd unit file.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=56012

 Makefile.am                         |  1 +
 configure.ac                        | 37 +++++++++++++++++++++++++++++--------
 dbus/Makefile.am                    |  9 +++++++++
 dbus/realmd.service.in              |  8 ++++++++
 doc/website/content/contribute.html |  6 ++++--
 5 files changed, 51 insertions(+), 10 deletions(-)

commit f0bc3cfd5eea51e313b04dbeb8c473e222aa247f
Author: Javier Hernández <jhernandez@emergya.com>
Date:   2012-11-23

    Adding build support for suse
    
    There are several things missing downstream to complete this support:
     * Tool to manipulate nsswitch.conf
     * Freeipa packages
     * Testing
    
    https://bugs.freedesktop.org/show_bug.cgi?id=55097

 configure.ac             |  4 +++-
 service/Makefile.am      |  1 +
 service/realmd-suse.conf | 41 +++++++++++++++++++++++++++++++++++++++++
 3 files changed, 45 insertions(+), 1 deletion(-)

commit 1b4013881c8c84619cb102565bc74cebd8a255ff
Author: Stef Walter <stefw@gnome.org>
Date:   2013-03-25

    dbus: Clarify the encoding of the secret (one time password) in spec.

 dbus/org.freedesktop.realmd.xml | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 44f92f930a883207eba0d9fe8c0e10060ae9be91
Author: Stef Walter <stefw@gnome.org>
Date:   2013-03-26

    Don't print warning if we're cancelling and killed a subprocess

 service/realm-command.c | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 550a73488caf89e47abfeb1caad37fa9c6e1a366
Author: Stef Walter <stefw@gnome.org>
Date:   2013-02-11

    Check that package-kit finds all the packages we ask it to resolve
    
    pk_task_resolve_async() does not complain or give any indication that
    a package it was asked to resolve is not available. So we make it do
    its job by double checking after resolving that all the required
    package names came back out.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=60657

 service/realm-packages.c | 105 ++++++++++++++++++++++++++++++++++++++---------
 1 file changed, 85 insertions(+), 20 deletions(-)

commit e9ef7f428e3aa75f7dbd0347e0b41bcc2b0d0911
Author: Stef Walter <stefw@gnome.org>
Date:   2013-02-11

    If PackageKit is not available, assume manual package installation
    
    Provide an intelligent error message in the absence of PackageKit
    prompting the caller to manually install the packages necessary.
    
    We assume that when PackageKit is not available that the distro
    admin or system builder prefers manual installation of packages.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=60654

 service/realm-packages.c | 26 ++++++++++++++++++++++++++
 1 file changed, 26 insertions(+)

commit e915a592d4ee3aaf98c62a4dd8c1d4b216a4291f
Author: Stef Walter <stefw@gnome.org>
Date:   2013-03-22

    Update license to LGPL v2.1
    
    Since parts of the code are LGPL v2.1 or later, while most of the code
    is LGPL v2.0 or later, update the overall license be LGPL v2.1.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=57943

 COPYING | 216 +++++++++++++++++++++++++++++++++++-----------------------------
 1 file changed, 118 insertions(+), 98 deletions(-)

commit 0c67bd00d78ca450e951912e6034be28755cb371
Author: Marius Vollmer <mvollmer@redhat.com>
Date:   2013-03-20

    Optionally use systemd's journal for logging.
    
    And include a REALMD_OPERATION field if doing so.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=62225

 configure.ac                        | 20 ++++++++++
 doc/website/content/contribute.html |  8 ++++
 service/Makefile.am                 |  2 +
 service/realm-diagnostics.c         | 78 ++++++++++++++++++++++++++++++++++---
 4 files changed, 103 insertions(+), 5 deletions(-)

commit d1455dddb2763cd13c2ebb0c52c500b1b73da48e
Author: Stef Walter <stefw@gnome.org>
Date:   2013-03-22

    website: Add some documentation on the ./configure options

 doc/website/content/contribute.html | 11 +++++++++++
 1 file changed, 11 insertions(+)

commit bb1b80c8ffc3705007c708fd22b15ca7a07d51ea
Author: Marius Vollmer <mvollmer@redhat.com>
Date:   2013-03-12

    Consistently use get_name when looking up settings.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=62210

 service/realm-example.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c4b9f53c897707e7cd981b3bb5c03653933af3b3
Author: Marius Vollmer <mvollmer@redhat.com>
Date:   2013-03-11

    Make example domain discovery cancellable.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=62214

 service/Makefile.am              |   1 +
 service/realm-example-provider.c |  24 ++++++---
 service/realm-example.c          | 107 +++++----------------------------------
 service/realm-usleep-async.c     |  97 +++++++++++++++++++++++++++++++++++
 service/realm-usleep-async.h     |  38 ++++++++++++++
 5 files changed, 164 insertions(+), 103 deletions(-)

commit 934bcf309b0ddf74ce3cdf9b17509d015e050281
Author: Marius Vollmer <mvollmer@redhat.com>
Date:   2013-03-11

    Allow example provider discovery to be configured.
    
    * Default domain, discovery delay, and delay when discovery fails can
      be configured.

 doc/internals/realmd-internals.xml | 15 ++++++++++++++-
 service/realm-example-provider.c   | 30 ++++++++++++++++++++++--------
 2 files changed, 36 insertions(+), 9 deletions(-)

commit ef9b2c8885f52bd723958c5374f42b3dad4390f0
Author: Marius Vollmer <mvollmer@redhat.com>
Date:   2013-03-11

    Clean up example domain delay configuration.
    
    * Use realm_settings_double.
    * Use "example-leave-delay" as appropriate instead of
      "example-join-delay".
    * Document example-join-delay and example-leave-delay.

 doc/internals/realmd-internals.xml |  7 ++++++-
 service/realm-example.c            | 22 +++++-----------------
 2 files changed, 11 insertions(+), 18 deletions(-)

commit b698e70d6ab50c49c4603734a4705e3737005798
Author: Stef Walter <stefw@gnome.org>
Date:   2013-02-11

    Always return generic kerberos realm results with a low relevance
    
    It's up to clients to filter this out. All the known clients do.
    This is so that we can always guarantee that kerberos realms are
    discovered, despite other providers being disabled
    
    https://bugs.freedesktop.org/show_bug.cgi?id=60656

 service/realm-kerberos-provider.c | 9 +++------
 1 file changed, 3 insertions(+), 6 deletions(-)

commit e81a59512badeb8b29c85ca839efa0b13d020b2a
Author: Stef Walter <stefw@gnome.org>
Date:   2013-02-11

    Allow individual providers to be disabled
    
    This can be done for administrative reasons, or perhaps by distros who do
    not have all the components packaged in order to support a given provider.
    
    Note that this changes the method for enabling the example provider, which
    we haven't yet included in a release.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=60656

 doc/internals/realmd-internals.xml |  6 +++---
 service/realm-daemon.c             | 26 +++++++++++++++++---------
 service/realmd-defaults.conf       |  8 +++++---
 3 files changed, 25 insertions(+), 15 deletions(-)

commit a5eaec53564327fc83662b7d4fed4bd3674ac0a3
Author: Marius Vollmer <mvollmer@redhat.com>
Date:   2012-11-23

    Enable having floating point internal settings
    
    https://bugs.freedesktop.org/show_bug.cgi?id=62162

 .gitignore               |   1 +
 service/realm-settings.c |  22 +++++++
 service/realm-settings.h |   4 ++
 tests/Makefile.am        |   8 ++-
 tests/test-settings.c    | 160 +++++++++++++++++++++++++++++++++++++++++++++++
 5 files changed, 194 insertions(+), 1 deletion(-)

commit 275aee4de4f0848047495f0156d4d3f870760078
Author: Stef Walter <stefw@gnome.org>
Date:   2013-03-05

    Add libxslt as one of the dependencies for documentation

 doc/website/content/contribute.html | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 22c2eb4d5533b1fa33a8ed32d07eb04da2a0edeb
Author: Stef Walter <stefw@gnome.org>
Date:   2013-02-19

    Release version 0.13.2
    
     * This is for build fixes

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 864ae65e71afc5d175c046a546e8de9e594d847f
Author: Stef Walter <stefw@gnome.org>
Date:   2013-02-19

    Distribute the docbook-params.xsl file for building internal docs

 doc/internals/Makefile.am | 1 +
 1 file changed, 1 insertion(+)

commit e9fc288144e787ec67dd9c3e0989b598aff3e5f3
Author: Stef Walter <stefw@gnome.org>
Date:   2013-02-19

    Disable parallel builds in the doc/manual directory
    
    Our target for building the gdbus-codegen documentation doesn't work
    in parallel and causes race conditions when moving around temporary
    files

 doc/manual/Makefile.am | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit ea00fb1edc14320a8f69b05d39941873a4ad0206
Author: Stef Walter <stefw@gnome.org>
Date:   2013-02-19

    Fix warning about use of uninitialized variable

 service/realm-provider.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4db9a8fcad8ab068b69af818071cea09b02bfeb2
Author: Stef Walter <stefw@gnome.org>
Date:   2013-02-18

    Remove gtk-doc from dependencies listed on the website

 doc/website/content/contribute.html | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 567972cf2cd019c5a3a4ab242f970c6e0bff8cdb
Author: Stef Walter <stefw@gnome.org>
Date:   2013-02-18

    Release version 0.13.1
    
     * Fix some build and distribution issues

 configure.ac           | 2 +-
 doc/manual/Makefile.am | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 3a8f31ceb5b29b4c71cff9cf8665746151db2068
Author: Stef Walter <stefw@gnome.org>
Date:   2013-02-18

    Release version 0.13

 NEWS         | 15 +++++++++++++++
 configure.ac |  2 +-
 2 files changed, 16 insertions(+), 1 deletion(-)

commit 268a3a8a829a51c1d787bfabbc43cadf2175f741
Author: Stef Walter <stefw@gnome.org>
Date:   2013-02-11

    Use a private cache directory for temp files
    
    Instead of using /tmp use our own personal cache directory for temporary
    files. We set the TMPDIR environment variable. This is consumed by
    g_get_tmp_dir() and in adcli.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=60404

 configure.ac           | 3 +++
 service/Makefile.am    | 2 ++
 service/realm-daemon.c | 3 +++
 3 files changed, 8 insertions(+)

commit 865b7079f40be160a5c435aeb14a7e77bbe0346e
Author: Stef Walter <stefw@gnome.org>
Date:   2013-02-13

    Pull translations from transifex

 .gitignore      |   2 +
 Makefile.am     |   3 +
 build/tx-update |  69 +++++++++++++++++++
 po/pl.po        | 206 +++++++++++++++++++++++++-------------------------------
 4 files changed, 167 insertions(+), 113 deletions(-)

commit da2183484f69c6a66c26b8f9c4b19fcf377ae187
Author: Stef Walter <stefw@gnome.org>
Date:   2013-02-07

    Detect incorrect passwords when using 'net ads join' login via RPC
    
     * We have to do screen scraping to detect the right passwords and
       return an intelligent error code and message
    
    https://bugs.freedesktop.org/show_bug.cgi?id=60423

 service/realm-samba-enroll.c | 9 ++++++++-
 1 file changed, 8 insertions(+), 1 deletion(-)

commit b89a0f6808a0d325131f940e5619c98fc31b36e5
Author: Stef Walter <stefw@gnome.org>
Date:   2013-02-11

    Use ipa-client-install to provide join functionality for IPA domains
    
     * Currently we just pass the password, and don't use a ccache
     * In order to use a ccache ipa-client-install needs to be modified
     * One time password support is present
     * Deconfigure and Leave support is present
     * Update documentation
    
    https://bugs.freedesktop.org/show_bug.cgi?id=55041

 doc/internals/realmd-internals.xml  |  15 +-
 doc/manual/realmd-guide-freeipa.xml | 108 +++++++-
 po/POTFILES.in                      |   1 +
 service/realm-sssd-ipa.c            | 489 +++++++++++++++++++++++++++++++++++-
 service/realmd-defaults.conf        |   1 +
 service/realmd-redhat.conf          |   3 +
 6 files changed, 610 insertions(+), 7 deletions(-)

commit 16c9b7b8e613802babcf0393ebb4fc6b903af936
Author: Stef Walter <stefw@gnome.org>
Date:   2013-02-11

    Add a utility function for updating sssd.conf domains
    
    https://bugs.freedesktop.org/show_bug.cgi?id=55041

 service/realm-sssd-config.c | 88 +++++++++++++++++++++++++++++++++++----------
 service/realm-sssd-config.h |  5 +++
 tests/test-sssd-config.c    | 55 ++++++++++++++++++++++++++++
 3 files changed, 129 insertions(+), 19 deletions(-)

commit 9e820c00f8994f0ed972e4caadfc7bed2100f9d6
Author: Stef Walter <stefw@gnome.org>
Date:   2012-11-27

    Refactor out config domain identification logic
    
    Make sure we use the same logic for figure out a realm name
    from an sssd.conf section, as well as the type.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=55041

 service/realm-sssd-config.c   | 57 +++++++++++++++++++++++++++++++++++++++++++
 service/realm-sssd-config.h   |  6 +++++
 service/realm-sssd-provider.c | 45 +++++++++++-----------------------
 service/realm-sssd.c          | 35 +++++++++++++-------------
 4 files changed, 95 insertions(+), 48 deletions(-)

commit 91bb537d02fb78a01aafa132a8c90e0f69045814
Author: Stef Walter <stefw@gnome.org>
Date:   2012-11-22

    Pull out function to build password input out of passwords
    
    https://bugs.freedesktop.org/show_bug.cgi?id=55041

 service/realm-command.c      | 37 +++++++++++++++++++++++++++++++++++++
 service/realm-command.h      |  2 ++
 service/realm-samba-enroll.c | 36 ++----------------------------------
 3 files changed, 41 insertions(+), 34 deletions(-)

commit 6778b0ee3894bc6fc24d131eceee2b72efcfa0d3
Author: Stef Walter <stefw@gnome.org>
Date:   2012-09-04

    Expose the method for updating an SSSD realm's properties
    
    https://bugs.freedesktop.org/show_bug.cgi?id=55041

 service/realm-sssd.c | 12 +++++-------
 service/realm-sssd.h |  2 ++
 2 files changed, 7 insertions(+), 7 deletions(-)

commit 6f592339664894b488fce03dfa00ef016d6e5d6e
Author: Stef Walter <stefw@gnome.org>
Date:   2013-02-11

    Move the example provider documentation to internals document

 doc/internals/realmd-internals.xml      | 32 +++++++++++++++++
 doc/manual/realmd-guide-configuring.xml | 63 ---------------------------------
 2 files changed, 32 insertions(+), 63 deletions(-)

commit 2f6ed14feb4eec936bf94b886a3c091ffcd07346
Author: Yassir Elley <yelley@redhat.com>
Date:   2013-02-08

    fixed typos for realm man page
    
    https://bugs.freedesktop.org/show_bug.cgi?id=60497

 doc/manual/realm.xml | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 9530a472c269fd116cb195990577ab045d2024c6
Author: Stef Walter <stefw@gnome.org>
Date:   2013-02-05

    Add the internals documentation to the realmd website

 doc/Makefile.am                     | 3 ++-
 doc/internals/Makefile.am           | 3 +++
 doc/website/Makefile.am             | 2 +-
 doc/website/content/contribute.html | 6 ++++++
 4 files changed, 12 insertions(+), 2 deletions(-)

commit a99db18ee5e0362296e5524437029132629ea82b
Author: Stef Walter <stefw@gnome.org>
Date:   2013-02-01

    Don't wrap options in realm client manual page

 doc/manual/static/style.css | 4 ++++
 1 file changed, 4 insertions(+)

commit 28b8d1bbefb1351e19021ffeb27cf81cf18ebe3e
Author: Yassir Elley <yelley@redhat.com>
Date:   2013-01-31

    add membership-software to dbus xml api - second try
    
    https://bugs.freedesktop.org/show_bug.cgi?id=60135

 dbus/org.freedesktop.realmd.xml | 6 ++++++
 1 file changed, 6 insertions(+)

commit 86df446b727b1ba3bd5b71ce27466a3d75f86f9f
Author: Stef Walter <stefw@gnome.org>
Date:   2013-01-30

    Some tweaks and clarifications to the internal documentation
    
     * realmd is not Fedora or Red Hat specific.
     * realmd will support non-Kerberos realms in the future
     * Add some more clients to the list
     * Our FreeIPA support will support joining soon
     * No need to document the realm object path form
     * Other minor tweaks
    
    https://bugs.freedesktop.org/show_bug.cgi?id=60066

 doc/internals/realmd-internals.xml | 37 +++++++++++++++++++++----------------
 1 file changed, 21 insertions(+), 16 deletions(-)

commit f16192c70a272110d4f4288d6f1e37f2ffed7c81
Author: Stef Walter <stefw@gnome.org>
Date:   2013-01-30

    Add back 'make upload' target for manual

 doc/manual/Makefile.am | 3 +++
 1 file changed, 3 insertions(+)

commit cd17373681c4e7505f5eaaa13ce2c64b0e04132c
Author: Yassir Elley <yelley@redhat.com>
Date:   2013-01-29

    Fixed typos: inserted commas, added missing words, corrected mistakes
    
    https://bugs.freedesktop.org/show_bug.cgi?id=60023

 dbus/org.freedesktop.realmd.xml | 64 ++++++++++++++++++++---------------------
 1 file changed, 32 insertions(+), 32 deletions(-)

commit c5fc50506aef7795fbcd502332d56ea738affd13
Author: Yassir Elley <yelley@redhat.com>
Date:   2013-01-29

    Fixed blurb for Provider property's param-spec
    
    https://bugs.freedesktop.org/show_bug.cgi?id=60024

 service/realm-kerberos.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 991f2a356d6f203b235f0b0f3406a576a742b281
Author: Yassir Elley <yelley@redhat.com>
Date:   2013-01-29

    Fixed omissions and typos in command line man page.

 doc/manual/realm.xml | 72 ++++++++++++++++++++++++++++++++++++++--------------
 1 file changed, 53 insertions(+), 19 deletions(-)

commit c11193d29383e6541318e7f7f1353f88bd85a677
Author: Yassir Elley <yelley@redhat.com>
Date:   2013-01-29

    Replaced "active-directory" with "users" in user configuration page.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=60026

 doc/manual/realmd-guide-configuring.xml | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit d62bf6af88efb1b184e44b934dbe5c375f3a8f70
Author: Stef Walter <stefw@gnome.org>
Date:   2013-01-29

    Add some rough internal documentation
    
    Converted from ODP to docbook by Stef Walter

 .gitignore                               |   1 +
 configure.ac                             |   1 +
 doc/Makefile.am                          |   2 +-
 doc/internals/Makefile.am                |  43 ++++
 doc/internals/discover-method.svg        | 243 ++++++++++++++++++++++
 doc/internals/docbook-params.xsl         |   5 +
 doc/internals/join-method.svg            | 258 ++++++++++++++++++++++++
 doc/internals/realmd-internals.xml       | 336 +++++++++++++++++++++++++++++++
 doc/internals/static/discover-method.png | Bin 0 -> 38497 bytes
 doc/internals/static/join-method.png     | Bin 0 -> 30160 bytes
 10 files changed, 888 insertions(+), 1 deletion(-)

commit b30cf48ee50038139248ac69db27ce8a734cf0a9
Author: Stef Walter <stefw@gnome.org>
Date:   2013-01-29

    Don't use gtk-doc for documentation
    
    Build our own docbook manual, although we use the gtk-doc stylesheet
    and css to format the manual, especially the API reference.

 Makefile.am                             |   2 +-
 autogen.sh                              |   2 -
 configure.ac                            |  41 +-
 doc/Makefile.am                         |   7 +-
 doc/manual/Makefile.am                  | 123 ++---
 doc/manual/gdbus-fix-bugs.xsl           |  21 +
 doc/manual/gtk-doc.xsl                  | 897 ++++++++++++++++++++++++++++++++
 doc/manual/html.css                     | 105 ----
 doc/manual/realm.xml                    |  12 +-
 doc/manual/realmd-docs.sgml             |  52 --
 doc/manual/realmd-docs.xml              |  51 ++
 doc/manual/realmd-guide-kerberos.xml    |   2 +-
 doc/manual/static/gtk-doc.css           | 264 ++++++++++
 doc/manual/static/home.png              | Bin 0 -> 654 bytes
 doc/manual/static/left.png              | Bin 0 -> 459 bytes
 doc/manual/static/right.png             | Bin 0 -> 472 bytes
 doc/manual/static/style.css             | 106 ++++
 doc/manual/static/up.png                | Bin 0 -> 406 bytes
 doc/manual/version-greater-or-equal.xsl |  54 ++
 19 files changed, 1494 insertions(+), 245 deletions(-)

commit 8b118666fab57ce389dddcf0eda62be37235d5e5
Author: Nuno Araujo <nuno.araujo@russo79.com>
Date:   2013-01-16

    Fix the build with automake 1.13
    
    In Automake 1.13, the long-deprecated macro AM_CONFIG_HEADER (deprecated
    since 2002) has been removed in favour of AC_CONFIG_HEADERS.

 autogen.sh   | 2 +-
 configure.ac | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 9e94ddac33af74e9235e1e4fe70e29d393b03153
Author: Marius Vollmer <marius.vollmer@redhat.com>
Date:   2013-01-15

    Make Example Provider cancellable
    
    https://bugs.freedesktop.org/show_bug.cgi?id=57614

 service/realm-example.c | 225 +++++++++++++++++++++++++++++++++++++++---------
 1 file changed, 185 insertions(+), 40 deletions(-)

commit 74b999a164f7a8b4597d625a638a71664af358ac
Author: Stef Walter <stefw@gnome.org>
Date:   2013-01-15

    Thread cancellation through basic operations
    
     * Make running commands and discovery cancellable
    
    https://bugs.freedesktop.org/show_bug.cgi?id=57614

 service/realm-adcli-enroll.c      |  2 +-
 service/realm-command.c           | 10 +++++-----
 service/realm-command.h           |  2 --
 service/realm-ipa-discover.c      | 40 ++++++++++++++++++++++++++++-----------
 service/realm-kerberos-discover.c |  7 +++++--
 service/realm-kerberos.c          | 13 ++++++++++---
 service/realm-packages.c          |  5 ++++-
 service/realm-provider.c          | 11 ++++++++++-
 service/realm-samba-enroll.c      |  5 +----
 service/realm-samba-winbind.c     |  4 ++--
 service/realm-service.c           |  2 +-
 service/realm-sssd-ad.c           |  2 +-
 service/realm-sssd.c              |  4 ++--
 13 files changed, 71 insertions(+), 36 deletions(-)

commit 2cc33250d2f90c4b123085944f0f96a451e1ba95
Author: Marius Vollmer <marius.vollmer@redhat.com>
Date:   2013-01-14

    Implement support for Service.Cancel() method
    
     * Tag each GDBusMethodInvocation with a GCancellable which is placed in
       a hash table by operation_id.
     * When Cancel() is called, lookup the GCancellable and cancel it.
     * Move the connection filter, authorization code, and other invocation
       related code into its own file. This is the only thread aware code
       in the daemon, so putting in it one place on its own makes sense.
     * Remove the frob-package-set tool as there was just too many intermingled
       dependencies on the service daemon code.
     * Make Ctrl-C in the client send a Cancel() to the service
    
    https://bugs.freedesktop.org/show_bug.cgi?id=57614

 dbus/realm-dbus-constants.h       |   1 +
 po/POTFILES.in                    |   1 +
 service/Makefile.am               |   1 +
 service/realm-daemon.c            | 301 +------------------
 service/realm-daemon.h            |  13 -
 service/realm-diagnostics.c       |  41 +--
 service/realm-diagnostics.h       |   5 -
 service/realm-errors.c            |   1 +
 service/realm-errors.h            |   1 +
 service/realm-invocation.c        | 610 ++++++++++++++++++++++++++++++++++++++
 service/realm-invocation.h        |  42 +++
 service/realm-kerberos-discover.c |  21 +-
 service/realm-kerberos.c          |  76 ++---
 service/realm-provider.c          |  35 +--
 tests/Makefile.am                 |  22 +-
 tests/discover-python.py          |  31 +-
 tests/frob-package-set.c          |  54 ----
 tools/realm-client.c              |  32 ++
 tools/realm.c                     |   3 +
 tools/realm.h                     |   2 +-
 20 files changed, 775 insertions(+), 518 deletions(-)

commit c1e52fa23902968958c25a486fe32e258380b50e
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:   2013-01-12

    Updated Polish translation
    
    https://bugs.freedesktop.org/show_bug.cgi?id=59295

 po/pl.po | 167 +++++++++++++++++++++++++++++++++++++++------------------------
 1 file changed, 103 insertions(+), 64 deletions(-)

commit 0cc18b02c9ca29c5d66b05b318ea34d9288ff611
Author: Marius Vollmer <mvollmer@redhat.com>
Date:   2012-11-27

    Export the Service interface.

 service/realm-daemon.c | 17 ++++++++++-------
 1 file changed, 10 insertions(+), 7 deletions(-)

commit d4da7a7cb3847458c36993a431c283f07142815b
Author: Stef Walter <stefw@gnome.org>
Date:   2012-11-27

    When running in --debug make warnings and criticals fatal

 service/realm-daemon.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit fa890052b151a2deed584aa9cc6f2de18af3db3e
Author: Stef Walter <stefw@gnome.org>
Date:   2012-11-27

    Better handling of missing packages section in settings file.

 service/realm-packages.c | 4 ++++
 1 file changed, 4 insertions(+)

commit b011101cfc2cc883ce6c263b69b5f9aa969ea7bf
Author: Stef Walter <stefw@gnome.org>
Date:   2012-11-23

    Don't assume that we can use kerberos to validate admin password
    
    This isn't the case for the example provider, and could easily
    not be the case for the samba provider, if the domain is not
    discoverable or accessible using krb5 for some reason.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=55537

 tools/realm-client.c | 21 ++++++++++-----------
 1 file changed, 10 insertions(+), 11 deletions(-)

commit ae3c03d93662d70b9020b00b7b1e0057bc047932
Author: Stef Walter <stefw@gnome.org>
Date:   2012-11-23

    Create the localstatedir for the example provider
    
    This allows the example provider to create appropriate files.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=55537

 service/Makefile.am | 1 +
 1 file changed, 1 insertion(+)

commit 22d3c96eb775c224d8c24d2bd22457993a8c5d29
Author: Marius Vollmer <mvollmer@redhat.com>
Date:   2012-11-23

    Fixes.
    
    * Off-by-one error when checking whether there is a '.' in front of
      the "example.*" suffix.
    
    * Consistently use realm_kerberos_get_name for accessing the settings.
    
    * Logic error when checking whether we are enrolled before leaving.
    
    * Only discover domains that have a section in the settings.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=55537

 service/realm-example-provider.c |  5 +++--
 service/realm-example.c          | 12 ++++++++----
 2 files changed, 11 insertions(+), 6 deletions(-)

commit 2d7af1ac418a2639d6e07084618c9f988bec2754
Author: Stef Walter <stefw@gnome.org>
Date:   2012-10-25

    Add example provider, disabled by default
    
     * This is a provider for 'example.com' and related domains
       which can be enabled to test some basic functionality
       of realmd, without a real domain.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=55537

 dbus/realm-dbus-constants.h             |   1 +
 doc/manual/realmd-guide-configuring.xml |  64 +++++
 po/POTFILES.in                          |   1 +
 service/Makefile.am                     |   3 +
 service/realm-daemon.c                  |   8 +
 service/realm-example-provider.c        | 254 +++++++++++++++++
 service/realm-example-provider.h        |  38 +++
 service/realm-example.c                 | 485 ++++++++++++++++++++++++++++++++
 service/realm-example.h                 |  40 +++
 service/realm-kerberos.c                |  30 +-
 service/realm-kerberos.h                |   2 +
 service/realmd-defaults.conf            |   7 +
 12 files changed, 918 insertions(+), 15 deletions(-)

commit 3e8b1bcc04cc579b5eef16a11dac307f5e7e1a6e
Author: Stef Walter <stefw@gnome.org>
Date:   2012-10-25

    Add function for getting boolean from settings
    
    https://bugs.freedesktop.org/show_bug.cgi?id=55537

 service/realm-settings.c | 17 +++++++++++++++++
 service/realm-settings.h |  3 +++
 2 files changed, 20 insertions(+)

commit 5ba45c96658e5d47d5ba5d7e4f96e9b3bba2ea05
Author: Stef Walter <stefw@gnome.org>
Date:   2012-10-25

    Add function for getting all sections of INI conf file
    
    https://bugs.freedesktop.org/show_bug.cgi?id=55537

 service/realm-ini-config.c | 18 ++++++++++++++++++
 service/realm-ini-config.h |  2 ++
 tests/test-ini-config.c    | 15 +++++++++++++++
 3 files changed, 35 insertions(+)

commit 5b32ef7a3d584c7d6f6d7062654a4fc7567f922b
Author: Stef Walter <stefw@gnome.org>
Date:   2012-11-22

    Add option to realm command to only print out realm name
    
    When --name-only is specified only print out the name of the realm
    and not all the detailed info.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=55415

 tools/realm-discover.c | 20 ++++++++++++++++----
 1 file changed, 16 insertions(+), 4 deletions(-)

commit 7946677e223b6d8eae15e6610d9e69c714721c74
Author: Stef Walter <stefw@gnome.org>
Date:   2012-11-22

    Add some documentation about contributing

 doc/website/content/base.html       |  3 +-
 doc/website/content/contribute.html | 62 +++++++++++++++++++++++++++++++++++++
 doc/website/content/index.html      |  5 ++-
 doc/website/content/style.css       |  9 +++++-
 4 files changed, 74 insertions(+), 5 deletions(-)

commit 13bfcaf5813ada0fcaa6c9452dc7120186aa90fd
Author: Stef Walter <stefw@gnome.org>
Date:   2012-11-22

    No longer a need to restart accounts-service after a join
    
    https://bugs.freedesktop.org/show_bug.cgi?id=57409

 service/realmd-redhat.conf | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit b495e05b2354aeca19f3da6c5f9e8986b2ed8b27
Author: Stef Walter <stefw@gnome.org>
Date:   2012-11-22

    Update the known commands and packages for debian
    
    Tested on Ubuntu 12.04, need to test on Debian at some point.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=57408

 service/realmd-debian.conf | 5 +++++
 1 file changed, 5 insertions(+)

commit dcf382192f247d9b1607993ad06f4882cf82874d
Author: Stef Walter <stefw@gnome.org>
Date:   2012-11-22

    Only use the XDG user data directory if it exists
    
    Use the temp directory if the user data directory doesn't exist.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=57407

 tools/realm.c | 7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit 857ade88dd15fbd06ec209b8c6d0d74fb6d4f3c3
Author: Stef Walter <stefw@gnome.org>
Date:   2012-11-22

    Better handling of missing, blank or invalid known commands
    
     * Don't use /bin/true or /bin/false to handle invalid
       or blank realmd known commands
     * Directly complete the tasks or fail them early without
       forking a sub process.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=57404

 service/realm-command.c | 46 ++++++++++++++++++++++++++--------------------
 1 file changed, 26 insertions(+), 20 deletions(-)

commit 8a1f39d2b6787b349fbfebf8b480ab0ca9681b8e
Author: Stef Walter <stefw@gnome.org>
Date:   2012-11-20

    Fix race on DBus peer to peer connections
    
     * Make sure we don't try to process incoming messages until
       the objects have been exported.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=57318

 service/realm-daemon.c | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit ced21a39af803a4c27d5727b62f5d6efbfe04fcd
Author: Yassir Elley <yelley@redhat.com>
Date:   2012-11-13

    Cleaned up "uninitialized variable" warning from gcc
    
    https://bugs.freedesktop.org/show_bug.cgi?id=57100

 tools/realm-client.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit dd44f7e7f9c1a8b92d1106681487d1baec0da88c
Author: Stef Walter <stefw@gnome.org>
Date:   2012-11-19

    Avoid race conditions when doing IPA discovery
    
     * We don't want to complete an IPA discovery before the outstanding
       counter is incremented.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=57277

 service/realm-ipa-discover.c      | 10 ----------
 service/realm-kerberos-discover.c |  2 +-
 2 files changed, 1 insertion(+), 11 deletions(-)

commit 1a24af68e4266c259a488416170e0a31a9397079
Author: Stef Walter <stefw@gnome.org>
Date:   2012-11-19

    Quit the daemon when SIGTERM or SIGINT received
    
     * This allows us to correctly write out coverage data, since gcov
       writes using an atexit() callback equivalent.

 service/realm-daemon.c | 11 +++++++++++
 1 file changed, 11 insertions(+)

commit a6d43afb0e04bc22cf4031860980a269390fb1c7
Author: Stef Walter <stefw@gnome.org>
Date:   2012-11-19

    Allow specifying --membership-software when discovering a realm
    
     * This limits the discovery to realms for which we can use the
       given --membership-software
     * Useful from kickstart files.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=57276

 service/realm-provider.c       | 13 ++++++++++---
 service/realm-provider.h       |  5 +++--
 service/realm-samba-provider.c |  7 ++++---
 service/realm-sssd-provider.c  | 16 ++++++++++++----
 tools/realm-client.c           |  2 ++
 tools/realm-client.h           |  1 +
 tools/realm-discover.c         | 17 +++++++++++++----
 tools/realm-join.c             |  3 ++-
 8 files changed, 47 insertions(+), 17 deletions(-)

commit 29116a545ead9a3ac1eff1650aca872f6c7d9f91
Author: Stef Walter <stefw@gnome.org>
Date:   2012-11-13

    Fix use of uninitialized variable.
    
    Caught by Yassir Elley

 tools/realm-client.c | 1 -
 1 file changed, 1 deletion(-)

commit adbdfcd35d008f35040f06ff9e4a944e78385de9
Author: Stef Walter <stefw@gnome.org>
Date:   2012-11-12

    Release 0.12

 NEWS         | 6 ++++++
 configure.ac | 2 +-
 2 files changed, 7 insertions(+), 1 deletion(-)

commit 7181d2ff4c30185596f7a019dbc6ae91d6ea02ca
Author: Stef Walter <stefw@gnome.org>
Date:   2012-11-08

    tools: Add a --no-password option to realm join
    
    This expcilitly specifies that we want to do a password-less join.
    This is so that the realm command can be used from kickstart and
    automatic scripts and such.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=56861

 tools/realm-join.c | 23 +++++++++++++++++++++--
 1 file changed, 21 insertions(+), 2 deletions(-)

commit d33209295c44b43dd29ddd3f7989bc61af75c95e
Author: Stef Walter <stefw@gnome.org>
Date:   2012-11-08

    tools: Check if domain is configured before trying to join
    
    Although the check occurs in realmd as well, doing it early allows us
    to produce much more intelligent error messages.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=56862

 tools/realm-join.c | 7 +++++++
 1 file changed, 7 insertions(+)

commit df7e85f9fa3932abffa7edcde1e89be1166796e7
Author: Stef Walter <stefw@gnome.org>
Date:   2012-11-08

    tools: Standard function for determining if realm is configured
    
    https://bugs.freedesktop.org/show_bug.cgi?id=56862

 tools/realm-discover.c |  4 +---
 tools/realm-leave.c    |  4 +---
 tools/realm-logins.c   |  4 +---
 tools/realm.c          | 11 +++++++++++
 tools/realm.h          |  2 ++
 5 files changed, 16 insertions(+), 9 deletions(-)

commit 1650fc395d1edfe4716cfb88e1d5708519660f0c
Author: Stef Walter <stefw@gnome.org>
Date:   2012-11-09

    make distcheck fixes for new website directory
    
     * We don't actually distribute website, but some tweaks allow
       us to build.

 doc/Makefile.am        | 8 ++++++++
 doc/manual/Makefile.am | 2 --
 2 files changed, 8 insertions(+), 2 deletions(-)

commit f32d2d12f2c773706e995372c4b967e86ae2cf44
Author: Stef Walter <stefw@gnome.org>
Date:   2012-11-05

    Make website front page

 .gitignore                           |   1 +
 configure.ac                         |   1 +
 doc/Makefile.am                      |   8 +-
 doc/manual/Makefile.am               |   3 +
 doc/manual/html.css                  |   3 +-
 doc/website/Makefile.am              |   9 +-
 doc/website/content/base.html        |  53 ++++
 doc/website/content/images/img01.jpg | Bin 0 -> 305 bytes
 doc/website/content/images/img04.png | Bin 0 -> 362 bytes
 doc/website/content/images/img05.png | Bin 0 -> 954 bytes
 doc/website/content/images/img06.jpg | Bin 0 -> 1096 bytes
 doc/website/content/index.html       |  51 ++++
 doc/website/content/style.css        | 484 +++++++++++++++++++++++++++++++++++
 doc/website/jinja2-build.py          |  71 +++++
 14 files changed, 674 insertions(+), 10 deletions(-)

commit 52c3dd6ce276fba46ce988b6b33a54982837c188
Author: Stef Walter <stefw@gnome.org>
Date:   2012-11-02

    Move the manual into its own directory
    
    So that the website can live in the doc directory as well

 .gitignore                                   |  26 +--
 Makefile.am                                  |   7 +-
 configure.ac                                 |   1 +
 doc/Makefile.am                              | 119 ++--------
 doc/escape-xml-to-text.xsl                   |  73 ------
 doc/html.css                                 | 104 ---------
 doc/manual/Makefile.am                       | 100 ++++++++
 doc/manual/escape-xml-to-text.xsl            |  73 ++++++
 doc/manual/html.css                          | 104 +++++++++
 doc/manual/realm.xml                         | 337 +++++++++++++++++++++++++++
 doc/manual/realmd-docs.sgml                  |  52 +++++
 doc/manual/realmd-guide-active-directory.xml | 208 +++++++++++++++++
 doc/manual/realmd-guide-configuring.xml      | 200 ++++++++++++++++
 doc/manual/realmd-guide-freeipa.xml          |  62 +++++
 doc/manual/realmd-guide-kerberos.xml         |  50 ++++
 doc/realm.xml                                | 337 ---------------------------
 doc/realmd-docs.sgml                         |  52 -----
 doc/realmd-guide-active-directory.xml        | 208 -----------------
 doc/realmd-guide-configuring.xml             | 200 ----------------
 doc/realmd-guide-freeipa.xml                 |  62 -----
 doc/realmd-guide-kerberos.xml                |  50 ----
 doc/website/Makefile.am                      |  11 +
 22 files changed, 1235 insertions(+), 1201 deletions(-)

commit a305bce399cc1603a60cf84bdc0d397ff9799bc5
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:   2012-11-01

    Updated Polish translation
    
    https://bugs.freedesktop.org/show_bug.cgi?id=56640

 po/pl.po | 222 +++++++++++++++++++++++++++++++++++++--------------------------
 1 file changed, 131 insertions(+), 91 deletions(-)

commit bcaf68b3bd66a16829144c362a06162e12751321
Author: Stef Walter <stefw@gnome.org>
Date:   2012-10-30

    Release version 0.11

 NEWS         | 5 +++++
 configure.ac | 2 +-
 2 files changed, 6 insertions(+), 1 deletion(-)

commit f888456a6b294c4db6d9b8dc6376b38aebb703df
Author: Stef Walter <stefw@gnome.org>
Date:   2012-10-30

    Fix ordering bug in option parsing of realm command
    
     * We want to prefer arguments to --install over commands, so that
       a command like this works:
       $ realm --install /here join domain.com

 tools/realm.c | 30 +++++++++++++++---------------
 1 file changed, 15 insertions(+), 15 deletions(-)

commit eb62050de82fc9cce414447e1201f7ecc8b5f39d
Author: Stef Walter <stefw@gnome.org>
Date:   2012-10-29

    Add assume-packages option to prevent package installation
    
     * New assume-packages option for the Join() dbus method
     * Set this option automatically when doing an --install style
       join from the 'realm' command.

 dbus/org.freedesktop.realmd.xml     |  3 +++
 dbus/realm-dbus-constants.h         |  1 +
 service/realm-kerberos-membership.h |  1 +
 service/realm-kerberos.c            |  4 ++++
 service/realm-packages.c            | 12 ++++++++----
 service/realm-samba.c               | 10 +++++++++-
 service/realm-sssd-ad.c             |  6 ++++++
 tools/realm.c                       | 18 ++++++++++++------
 8 files changed, 44 insertions(+), 11 deletions(-)

commit df59a0870249c54b033a5f4168180f750f0c4ad7
Author: Stef Walter <stefw@gnome.org>
Date:   2012-10-29

    Fix parsing of 'operation' option

 service/realm-diagnostics.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c44ef7b06c68e6754fb88a6fb7aca474b48ac15c
Author: Stef Walter <stefw@gnome.org>
Date:   2012-10-29

    Add RequiredPackages property
    
     * Each realm has this property which describes which packages must
       be present to configure this realm.

 dbus/org.freedesktop.realmd.xml | 13 +++++++++++++
 service/realm-kerberos.c        | 13 +++++++++++++
 service/realm-kerberos.h        |  3 +++
 service/realm-packages.c        | 37 ++++++++++++++++++++++++++++++-------
 service/realm-packages.h        |  2 ++
 service/realm-samba.c           |  7 +++++++
 service/realm-sssd-ad.c         | 16 ++++++++++++----
 tools/realm-discover.c          | 20 +++++++++++++-------
 8 files changed, 93 insertions(+), 18 deletions(-)

commit 8de2508469335d0aef2854f77632b45d2b6db14a
Author: Stef Walter <stefw@gnome.org>
Date:   2012-10-26

    Add ability to run in 'install' mode
    
     * For use when no dbus daemon is running, or need to run in a
       specific file root prefix.
     * We spawn the daemon directly and connect to it over peer to peer
       dbus connection on a socketpair() file descriptor.
     * We don't run service restarts or other service bits when in
       install mode.
     * We don't flush caches when in install mode.
     * No checks for polkit permissions when in install mode.
     * Don't timeout and quit when in install mode.
     * Had to copy GDBusObjectManagerClient and GDBusObjectProxy into
       our project temporarily so we can get a fix for using the
       object manager over a peer to peer connection. glib bug #686920
    
    https://bugs.freedesktop.org/show_bug.cgi?id=56424

 doc/realm.xml                      |    8 +
 service/realm-daemon.c             |  180 +++-
 service/realm-daemon.h             |    4 +
 service/realm-kerberos.c           |   12 +-
 service/realm-service.c            |   51 +-
 tools/Makefile.am                  |    5 +
 tools/eggdbusobjectmanagerclient.c | 1740 ++++++++++++++++++++++++++++++++++++
 tools/eggdbusobjectmanagerclient.h |  148 +++
 tools/eggdbusobjectproxy.c         |  365 ++++++++
 tools/eggdbusobjectproxy.h         |   92 ++
 tools/realm-client.c               |  172 +++-
 tools/realm-client.h               |    3 +-
 tools/realm.c                      |   21 +-
 13 files changed, 2716 insertions(+), 85 deletions(-)

commit 3231198135bff97d82eacf441350be5bbf4660fb
Author: Stef Walter <stefw@gnome.org>
Date:   2012-10-25

    Move global option parsing into realm.c
    
     * Each command doesn't have to create their own client, and simpler
       to add options common to all commands.

 doc/realm.xml          | 47 ++++++++++++-----------------------------------
 tools/realm-discover.c | 34 +++++++++-------------------------
 tools/realm-join.c     | 24 ++++++++----------------
 tools/realm-leave.c    | 21 +++++++--------------
 tools/realm-logins.c   | 37 +++++++++++++------------------------
 tools/realm.c          | 43 ++++++++++++++++++++++++++++++++++++++-----
 tools/realm.h          | 22 ++++++++++++++++------
 7 files changed, 103 insertions(+), 125 deletions(-)

commit 56ad086b908cadc75648b804916bf6488061e890
Author: Stef Walter <stefw@gnome.org>
Date:   2012-10-20

    Release version 0.10

 NEWS         | 11 +++++++++++
 configure.ac |  2 +-
 2 files changed, 12 insertions(+), 1 deletion(-)

commit 95a6bbf1b322968df22cba1b1d10b5c3194f97cb
Author: Stef Walter <stefw@gnome.org>
Date:   2012-10-19

    Send diagnostics from subcommand to client as they come in
    
     * Route diagnostics from a subcommand like adcli to the caller
       as they come in from the subprocess.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=56150

 service/realm-command.c | 14 ++++++--------
 1 file changed, 6 insertions(+), 8 deletions(-)

commit 5f551f997865e7b89d80f4104917d2b860b2ed22
Author: Stef Walter <stefw@gnome.org>
Date:   2012-10-19

    Refactor how discovered realms are handled
    
     * Sort configured realms first
     * Pass realm objects up to callers, and only turn into DBus
       object paths at the last minute before returning value.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=56135

 service/realm-all-provider.c      | 91 ++++++++++++++++++---------------------
 service/realm-kerberos-provider.c | 18 +++-----
 service/realm-kerberos.c          | 10 +++++
 service/realm-kerberos.h          |  2 +
 service/realm-provider.c          | 52 +++++++++++++++-------
 service/realm-provider.h          |  8 ++--
 service/realm-samba-provider.c    | 18 +++-----
 service/realm-samba-winbind.c     |  2 +-
 service/realm-sssd-provider.c     | 18 +++-----
 9 files changed, 115 insertions(+), 104 deletions(-)

commit 79cc673b00c937c59292d6fef8a6bb6ae507c1a3
Author: Stef Walter <stefw@gnome.org>
Date:   2012-10-19

    Refuse to join a domain if hostname is localhost
    
    https://bugs.freedesktop.org/show_bug.cgi?id=56145

 service/realm-kerberos.c | 11 +++++++++++
 1 file changed, 11 insertions(+)

commit 702aa38a376d8bc174fef7501ad5edbbe6bdd6c5
Author: Stef Walter <stefw@gnome.org>
Date:   2012-10-19

    Use a proper message when can't claim name on bus

 service/realm-daemon.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d47aab79f69ebed81181a11575031fd8d9cd10bb
Author: Stef Walter <stefw@gnome.org>
Date:   2012-10-19

    In realm permit or deny commands, fail when options are invalid.
    
    http://bugs.freedesktop.org/show_bug.cgi?id=56144

 tools/realm-logins.c | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 1481d4f37ad680f907df13c1ca4af5e3386ecdcf
Author: Stef Walter <stefw@gnome.org>
Date:   2012-10-19

    Fix samba package names for Fedora changes
    
    Fedora renamed samba4 packages to just plain 'samba'
    
    https://bugs.freedesktop.org/show_bug.cgi?id=56166

 service/realmd-redhat.conf | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit a437ebb9bcaba7333612d85450087ad057cdc9e2
Author: Stef Walter <stefw@gnome.org>
Date:   2012-10-19

    Fix typo in realm manual
    
    https://bugzilla.redhat.com/show_bug.cgi?id=867769

 doc/realm.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1c9cb76c9d324478bbe9a81156ed323a3a802847
Author: Stef Walter <stefw@gnome.org>
Date:   2012-10-19

    Fix case where base dn in computer-ou doesn't match domain
    
    When the computer-ou base dn almost matches the domain, but not
    quite we were letting it through. Catch this case completely and test.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=56162

 service/realm-samba-util.c   | 2 +-
 tests/test-samba-ou-format.c | 2 ++
 2 files changed, 3 insertions(+), 1 deletion(-)

commit 530e1ce7c827d5e640dcc96b9f4f3a83c3dc90e3
Author: Stef Walter <stefw@gnome.org>
Date:   2012-10-19

    Don't pass empty computer-ou to net command
    
    When computer-ou argument is empty, don't build a createcomputer=
    argument for 'net ads join' with nothing in it. Just skip.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=56162

 service/realm-samba-enroll.c | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit e2475b67a1452ad2963f0fd29f3b3c95ed21ded7
Author: Stef Walter <stefw@gnome.org>
Date:   2012-10-19

    Don't crash when computer-ou is empty
    
    If 'computer-ou' either in the realmd.conf file or join argument
    is empty, then realmd was crashing.
    
    Don't pass empty strings to ldap_str2dn, which then gets confusing.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=56162

 service/realm-samba-util.c   | 6 ++++++
 tests/test-samba-ou-format.c | 6 +++++-
 2 files changed, 11 insertions(+), 1 deletion(-)

commit 9832bb1859b50ba6eeaacce3fc2f6f0fc17b913d
Author: Stef Walter <stefw@gnome.org>
Date:   2012-10-19

    Fix problem where daemon goes away unexpectedly
    
    Due to incorrect matching of DBus method calls we were going away
    unexpectedly even though we still had clients.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=56165

 service/realm-daemon.c | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit c566f157c58c0e4230d6188187bfe70f5878cf58
Author: Stef Walter <stefw@gnome.org>
Date:   2012-10-19

    Better debug messages for daemon lifetime
    
    https://bugs.freedesktop.org/show_bug.cgi?id=56165

 service/realm-daemon.c | 5 +++++
 1 file changed, 5 insertions(+)

commit a39fb7aa7289ba51c81a62f707c0c27c1de05038
Author: Stef Walter <stefw@gnome.org>
Date:   2012-10-17

    Release version 0.9

 NEWS         | 22 ++++++++++++++++++++++
 configure.ac |  2 +-
 2 files changed, 23 insertions(+), 1 deletion(-)

commit 1ec56a3b93c52e03903a73e05432932515660f45
Author: Stef Walter <stefw@gnome.org>
Date:   2012-10-17

    Fix gcc warning about uninitialized use of varialbe

 tools/realm-client.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ba87f3846b5d072887afb5e6c1f915303a961215
Author: Stef Walter <stefw@gnome.org>
Date:   2012-10-17

    Distribute documentation files properly.

 doc/Makefile.am | 1 +
 1 file changed, 1 insertion(+)

commit 0cae3140956b9c4901c9cfa9902514661cb68057
Author: Stef Walter <stefw@gnome.org>
Date:   2012-10-17

    Install realm command to sbin, and move manpage to 8 category
    
    https://bugs.freedesktop.org/show_bug.cgi?id=56094

 .gitignore        | 2 +-
 doc/Makefile.am   | 6 +++---
 doc/realm.xml     | 2 +-
 tools/Makefile.am | 2 +-
 4 files changed, 6 insertions(+), 6 deletions(-)

commit 294dca367eb143b9c19c5f7f9d3649ad78fdacfa
Author: Marius Vollmer <marius.vollmer@redhat.com>
Date:   2012-10-17

    Fix assertion with discovery caching.
    
     * When discovery occurs multiple times for same client and
       operation within a short period of time we cache the results.
     * However when returning the cache results we get an assertion.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=56082

 service/realm-kerberos-discover.c | 17 +++++++++++------
 1 file changed, 11 insertions(+), 6 deletions(-)

commit 6e72f2b9d59d892e1f5350fe5d218aec8bed36c3
Author: Stef Walter <stefw@gnome.org>
Date:   2012-10-17

    Remove extra blank line when removing section from ini config
    
    When we add and remove sections from the sssd.conf we need to
    remove one extra line above the section header, because that
    was added when adding the section.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=56067

 service/realm-ini-config.c | 21 +++++++++++++++++++++
 tests/test-sssd-config.c   | 32 ++++++++++++++++++++++++++++++++
 2 files changed, 53 insertions(+)

commit de449ef42274a87ea96cc2415a95aad6d77ca3a1
Author: Stef Walter <stefw@gnome.org>
Date:   2012-10-17

    Move the home/shell into [users] section of realmd settings
    
     * This  makes sense because for sssd, shell applies to all users
     * In addition fix the tests that were broken recently when we
       placed the shell stuff in the [nss] section.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=56066

 doc/realmd-guide-configuring.xml | 21 +++++++++++++++------
 service/realm-samba.c            |  4 ++--
 service/realm-sssd-ad.c          |  2 +-
 service/realm-sssd-config.c      |  2 +-
 service/realmd-defaults.conf     |  7 +++----
 tests/files/realmd-defaults.conf |  6 +++++-
 tests/test-sssd-config.c         |  4 ++--
 7 files changed, 29 insertions(+), 17 deletions(-)

commit 3e5369e57789cc58ca9dc56254244e60466027a9
Author: Stef Walter <stefw@gnome.org>
Date:   2012-10-17

    Allow --verbose to work with 'realm permit --all'
    
     * Make diagnostic output work with 'realm permit --all' and
       'realm deny --all'
    
    https://bugs.freedesktop.org/show_bug.cgi?id=56064

 tools/realm-logins.c | 19 +++++++++++++++----
 1 file changed, 15 insertions(+), 4 deletions(-)

commit 337cc688a782094c2c3e36a04b11adac9160b39d
Author: Stef Walter <stefw@gnome.org>
Date:   2012-10-17

    Make sure we only work with configured realms for login policy
    
    https://bugs.freedesktop.org/show_bug.cgi?id=56063

 tools/realm-logins.c | 17 ++++++++++++++---
 1 file changed, 14 insertions(+), 3 deletions(-)

commit 6914e7aa9fb046577ea182dfc9abe2396ac76845
Author: Stef Walter <stefw@gnome.org>
Date:   2012-10-17

    Remove unnecessary check when setting login policy

 service/realm-sssd.c | 31 ++++++++++++++-----------------
 1 file changed, 14 insertions(+), 17 deletions(-)

commit 8dff6aa93a37eb996ffd462d4de8db3cd20ce940
Author: Stef Walter <stefw@gnome.org>
Date:   2012-10-17

    Set the simple_allow_users to a comma by default for AD realms
    
     * When creating a new AD sssd realm we want to be in the
       allow-permitted-logins login policy by default.
     * In order to do this we need to set simple_allow_users to a
       comma in order to work around an sssd bug. Otherwise all
       users are allowed, not just those explicitly permitted.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=56062

 service/realm-sssd-ad.c | 1 +
 1 file changed, 1 insertion(+)

commit 142b810261bb72034e7e467463c202c1a32d0958
Author: Stef Walter <stefw@gnome.org>
Date:   2012-10-17

    Cleanup setting of empty ',' simple_allow_users
    
    We were setting simple_allow_users previously to ',' to work around
    a bug in sssd. But we don't need to do this when access_provider
    is permit or deny.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=56061

 service/realm-sssd.c | 23 ++++++++++++++++++-----
 1 file changed, 18 insertions(+), 5 deletions(-)

commit a499898ae806938601cccf8dbb45d549181bf80b
Author: Stef Walter <stefw@gnome.org>
Date:   2012-10-17

    Update realm properties after changing login policy
    
    https://bugs.freedesktop.org/show_bug.cgi?id=56060

 service/realm-sssd.c | 6 ++++++
 1 file changed, 6 insertions(+)

commit 64a102cefee0873cf28ba97881409a15a7347414
Author: Stef Walter <stefw@gnome.org>
Date:   2012-10-17

    Use the correct DBus string for deny login policy
    
    https://bugs.freedesktop.org/show_bug.cgi?id=56059

 service/realm-kerberos.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 830376ba11dc95c4a2f2f05e5a85cb7e00173591
Author: Stef Walter <stefw@gnome.org>
Date:   2012-10-17

    Make sure we can read values out from ini config before writing

 service/realm-ini-config.c |  1 +
 tests/test-ini-config.c    | 17 +++++++++++++++++
 2 files changed, 18 insertions(+)

commit 73717f46b1e9f069894e0359b581901c77a806f0
Author: Stef Walter <stefw@gnome.org>
Date:   2012-10-16

    Use sss_cache to clear the sssd caches when removing a domain
    
     * We do this so libnss_sss.so stops answering with responses from
       the cache, which can be confusing and wrong.
     * Also move the code for removing an sssd domain into the base
       RealmSssd class so that the IPA code can use it.
     * Call sss_cache before removing the domain from sssd.conf. This
       is unfortunate as it can allow a race condition.
     * No longer remove libnss_sss from nssswitch.conf. libc caches the
       contents of nsswitch.conf and the modules, so removing stuff there
       is of dubious value.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=56047

 service/realm-sssd-ad.c    | 127 +++-----------------------------------
 service/realm-sssd.c       | 149 +++++++++++++++++++++++++++++++++++++++++++++
 service/realm-sssd.h       |   4 ++
 service/realmd-redhat.conf |   4 +-
 4 files changed, 165 insertions(+), 119 deletions(-)

commit 0c5d673db8aa0d7f0a03d3db871dcba194ad48ca
Author: Stef Walter <stefw@gnome.org>
Date:   2012-10-16

    Make 'realm discover' only print out one realm per domain
    
     * Check if we've already seen a domain in the discovery and don't
       print out multiples of the same domain, unless --all is used.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=56034

 tools/realm-discover.c | 22 +++++++++++++++++-----
 1 file changed, 17 insertions(+), 5 deletions(-)

commit 7af1f9f91cd4603d71c76e3aac58f7d226b8828b
Author: Stef Walter <stefw@gnome.org>
Date:   2012-10-16

    Only list configured realms in 'realm list' by default
    
     * Can now specify --all to show other realms that realmd
       knows about but which are not configured.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=56033

 tools/realm-discover.c | 21 ++++++++++++++++-----
 1 file changed, 16 insertions(+), 5 deletions(-)

commit a91b9ebdaca3771d5b4f05b3698ed37a634d4e79
Author: Stef Walter <stefw@gnome.org>
Date:   2012-10-16

    Work around the strange behavior of the sssd 'simple' access_provider
    
    When a realm is in the allow-permitted-logins mode, but no such
    logins have been set, the simple_allow_users is empty. sssd treats
    this as if the line is not present, and allows any login.
    
    Setting the value to a comma gets around this problem. Further discussion
    will take place on the sssd mailing list.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=56027

 service/realm-sssd.c | 14 ++++++++++++++
 1 file changed, 14 insertions(+)

commit 41fb5b07e7f38cff52c6f850346785d98888a9de
Author: Stef Walter <stefw@gnome.org>
Date:   2012-10-16

    Support offline logins with sssd
    
     * Just needed to set cache_credentials = True
    
    https://bugs.freedesktop.org/show_bug.cgi?id=56024

 service/realm-sssd-ad.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2d4b26831e9a17105d2ddeeda7884c9425c1fbd7
Author: Stef Walter <stefw@gnome.org>
Date:   2012-10-15

    Add support for the realm tool for leave without removal
    
     * Make the default 'realm leave' behavior be to deconfigure the
       local machine without removing stuff from the directory.
     * Add a --remove option to use the old behavior
    
    https://bugs.freedesktop.org/show_bug.cgi?id=56021

 doc/realm.xml       |  8 ++++-
 tools/realm-leave.c | 91 ++++++++++++++++++++++++++++++++++++++++++-----------
 2 files changed, 80 insertions(+), 19 deletions(-)

commit 0bf9364c07793d49e3324f9698d74dab5f8594c3
Author: Stef Walter <stefw@gnome.org>
Date:   2012-10-15

    Add support for Deconfigure(), or automatic leaving of a realm
    
     * This just removes entries from a keytab and deconfigures, restarts
       services etc.
     * Cleanup the unenroll/leave/deconfigure code a bit in the process
    
    https://bugs.freedesktop.org/show_bug.cgi?id=56021

 service/realm-kerberos.c     |  76 +++++++++++++
 service/realm-kerberos.h     |   3 +
 service/realm-samba-enroll.c |  72 ++++---------
 service/realm-samba.c        | 196 ++++++++++++++++++++++------------
 service/realm-sssd-ad.c      | 246 +++++++++++++++++++++++++++++--------------
 5 files changed, 393 insertions(+), 200 deletions(-)

commit c7d4fa5acd727448702aabf15b17fc5c8653b8ab
Author: Stef Walter <stefw@gnome.org>
Date:   2012-10-15

    Put check for computer-ou option during Leave() in subclass
    
     * This is so it doesn't have to be reimplemented by each realm
       derived class.
     * A later commit will remove it from the derived classes.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=56021

 service/realm-kerberos.c | 7 +++++++
 1 file changed, 7 insertions(+)

commit f295231c12c45f40f5f4edb855f33364646645af
Author: Stef Walter <stefw@gnome.org>
Date:   2012-10-15

    Refactor how kerberos errors are propagated and warned
    
     * Certain local kerberos errors are unexpected, so cleanup how they're
       transformed to warnings.
     * Rework how we propagate real kerberos errors, taking into account
       later commits.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=56021

 service/realm-kerberos.c | 62 +++++++++++++++++++++++++++++-------------------
 1 file changed, 38 insertions(+), 24 deletions(-)

commit 0e00612ae7c8c28e4ee0a8564db4eee36f72a28a
Author: Stef Walter <stefw@gnome.org>
Date:   2012-10-15

    Set 'kerberos method' setting in smb.conf correctly
    
     * This is needed to use the 'net ads keytab' functionality
     * Fixes a warning
    
    https://bugs.freedesktop.org/show_bug.cgi?id=56005

 service/realm-samba-enroll.c | 33 +++++++++++++++++++++++++++++++--
 1 file changed, 31 insertions(+), 2 deletions(-)

commit 0f1f6aa1c22ae579ea1f04e0d3d005f4ff64e34c
Author: Stef Walter <stefw@gnome.org>
Date:   2012-10-15

    Work around for problem with running authconfig without /sbin in path
    
    https://bugs.freedesktop.org/show_bug.cgi?id=56004

 service/realm-daemon.c | 11 +++++++++++
 1 file changed, 11 insertions(+)

commit b982f1f3435795b6d6f8c4dff9a36b88cb782d85
Author: Stef Walter <stefw@gnome.org>
Date:   2012-10-15

    Use --enablemkhomedir with authconfig to auto create home directories
    
    https://bugs.freedesktop.org/show_bug.cgi?id=56002

 service/realmd-redhat.conf | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit c9814c18bdd6d5b6f0a3678b5e5dfaf072f9f3c9
Author: Stef Walter <stefw@gnome.org>
Date:   2012-10-15

    Allow specifying client-software and server-software when leaving realm
    
    https://bugs.freedesktop.org/show_bug.cgi?id=56001

 doc/realm.xml       | 14 +++++++++++++
 tools/realm-leave.c | 57 +++++++++++++++++++++++++++++++++++++++++++++++------
 2 files changed, 65 insertions(+), 6 deletions(-)

commit 55fd0e6be201a1830a06ccabde1798b3250efd07
Author: Stef Walter <stefw@gnome.org>
Date:   2012-10-15

    Combine the SssdAd and SssdIpa providers
    
     * Now that discovery is combined, we can do discovery for all SSSD
       supported domains together.
     * Instantiate the various realms from /etc/sssd/sssd.conf as appropriate
       for the id_provider type.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=55999

 service/Makefile.am               |   3 +-
 service/realm-daemon.c            |  10 +-
 service/realm-sssd-ad-provider.c  | 228 ---------------------------------
 service/realm-sssd-ad-provider.h  |  38 ------
 service/realm-sssd-ipa-provider.c | 227 ---------------------------------
 service/realm-sssd-ipa-provider.h |  38 ------
 service/realm-sssd-provider.c     | 259 ++++++++++++++++++++++++++++++++++++++
 service/realm-sssd-provider.h     |  38 ++++++
 8 files changed, 300 insertions(+), 541 deletions(-)

commit 8b9402c92feeea19d0a3e09d1c6576aba255f75c
Author: Stef Walter <stefw@gnome.org>
Date:   2012-10-13

    Fill in the default shell and home directory for SSSD
    
     * This is for AD where no home directory or shell is set on the server
     * The default shell goes in the [nss] section
    
    https://bugs.freedesktop.org/show_bug.cgi?id=55957

 doc/realmd-guide-configuring.xml | 63 ++++++++++++++++++++++++++++++++++++++++
 service/realm-samba.c            |  3 ++
 service/realm-sssd-ad.c          |  6 ++++
 service/realm-sssd-config.c      |  9 ++++++
 service/realm-sssd.c             | 20 +++++++++++++
 service/realm-sssd.h             |  2 ++
 service/realmd-defaults.conf     |  2 ++
 7 files changed, 105 insertions(+)

commit a6f494b74b81aeed20047a86a79d5cfa7d12cefb
Author: Stef Walter <stefw@gnome.org>
Date:   2012-10-06

    Try to restart the accounts-daemon after joining/leaving
    
     * This is because accounts-daemon uses getpwnam() which caches the
       /etc/nsswitch.conf module list. As an interim we need to be able
       to restart the process.
    
     * Long term solution: http://sourceware.org/bugzilla/show_bug.cgi?id=12459
    
    https://bugs.freedesktop.org/show_bug.cgi?id=55704

 service/realm-kerberos.c   | 33 ++++++++++++++++++++++++++++++---
 service/realmd-redhat.conf |  2 ++
 2 files changed, 32 insertions(+), 3 deletions(-)

commit 31c305fd88d76b7e3680038b3d539d5f1f8f5524
Author: Stef Walter <stefw@gnome.org>
Date:   2012-10-02

    Clearer message when automatic join fails
    
    https://bugs.freedesktop.org/show_bug.cgi?id=55530

 service/realm-sssd-ad.c | 13 +++++++++++--
 1 file changed, 11 insertions(+), 2 deletions(-)

commit 04c4a6be48bc10e536e0cc282d8ecaa4d95738c5
Author: Stef Walter <stefw@gnome.org>
Date:   2012-10-02

    Use lower case realm names.
    
     * Don't use kerberos realm names as the realmd realm names. ETERM
     * Make sure to continue to provide the correct kerberos realm names
       on the ofr.Kerberos interface.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=55389

 service/realm-kerberos-discover.c |  5 ++++-
 service/realm-samba-provider.c    | 11 +++++++----
 service/realm-sssd.c              |  2 +-
 3 files changed, 12 insertions(+), 6 deletions(-)

commit 909c99175bbdf1730861da6ee4994e0b4313b17c
Author: Stef Walter <stefw@gnome.org>
Date:   2012-10-02

    Don't track permitted logins in samba winbind realms
    
     * We were just tracking these in name only, and not enforcing
       things anyway.
     * We allow permitted logins to be added, as long as the login
       policy is not changed to only allow permitted logins to log in.
     * This removes a warning when we added an unsupported line to
       smb.conf
    
    https://bugs.freedesktop.org/show_bug.cgi?id=55549

 service/realm-samba.c | 47 ++++++++++++++++++++++-------------------------
 1 file changed, 22 insertions(+), 25 deletions(-)

commit d745d77c036355eb2e11ec38af6a2e41e2b8f41f
Author: Stef Walter <stefw@gnome.org>
Date:   2012-09-30

    Fix search for LDAP libraries. Make it a hard requirement

 configure.ac | 13 ++++++++-----
 1 file changed, 8 insertions(+), 5 deletions(-)

commit 8ebe72464f463b6c89be1345b3b824698a42f787
Author: Stef Walter <stefw@gnome.org>
Date:   2012-09-28

    Add Administrative Guide to the documentation

 doc/Makefile.am                       |   9 +-
 doc/html.css                          |  11 ++
 doc/realmd-docs.sgml                  |  53 ++++++---
 doc/realmd-guide-active-directory.xml | 208 ++++++++++++++++++++++++++++++++++
 doc/realmd-guide-configuring.xml      | 128 +++++++++++++++++++++
 doc/realmd-guide-freeipa.xml          |  62 ++++++++++
 doc/realmd-guide-kerberos.xml         |  50 ++++++++
 7 files changed, 502 insertions(+), 19 deletions(-)

commit c909edc1b1060fa78feb9c335d2d2e420dbcb424
Author: Stef Walter <stefw@gnome.org>
Date:   2012-09-26

    Commit the appropriate xml file for the realm manual
    
    ... and remove the compiled manual page that was accidentally
    committed.

 .gitignore    |   2 +-
 doc/realm.1   | 332 ----------------------------------------------------------
 doc/realm.xml | 332 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 333 insertions(+), 333 deletions(-)

commit 7f8c4b853f9e2d414f8e0fe1870bf386937dfd7a
Author: Stef Walter <stefw@gnome.org>
Date:   2012-09-25

    Use commands to manage services
    
     * Rather than interacting with systemd and upstart via dbus
     * The upstart support was poor anyway.
     * This allows more compatibility with various distros
     * Less code.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=55319

 service/Makefile.am             |   2 -
 service/realm-samba-winbind.c   |   4 +-
 service/realm-service-systemd.c | 305 -------------------------
 service/realm-service-systemd.h |  41 ----
 service/realm-service-upstart.c | 362 ------------------------------
 service/realm-service-upstart.h |  41 ----
 service/realm-service.c         | 476 +++++++---------------------------------
 service/realm-service.h         |  88 +-------
 service/realmd-debian.conf      |  20 +-
 service/realmd-defaults.conf    |   4 -
 service/realmd-redhat.conf      |   9 +
 11 files changed, 110 insertions(+), 1242 deletions(-)

commit cf4e7543c8eadf61b611668d7bb60ba2ec6b496b
Author: Stef Walter <stefw@gnome.org>
Date:   2012-09-25

    Quiet down the command logging output

 service/realm-command.c | 7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit 6b701df3bc89b94715d8c01d4bab2e203d4f12bd
Author: Stef Walter <stefw@gnome.org>
Date:   2012-09-21

    Add a manual page for the realm command
    
    https://bugs.freedesktop.org/show_bug.cgi?id=54491

 .gitignore           |   1 +
 configure.ac         |   5 +
 doc/Makefile.am      |  25 +++-
 doc/realm.1          | 332 +++++++++++++++++++++++++++++++++++++++++++++++++++
 doc/realmd-docs.sgml |   4 +
 5 files changed, 365 insertions(+), 2 deletions(-)

commit d8fad1d7bcf6ab0969abee1284fedf80c4bf4079
Author: Stef Walter <stefw@gnome.org>
Date:   2012-09-19

    Release version 0.8.1

 NEWS         | 3 +++
 configure.ac | 2 +-
 2 files changed, 4 insertions(+), 1 deletion(-)

commit 6459665dd1cd2714432173ea2eaeeae5dd6d3894
Author: Stef Walter <stefw@gnome.org>
Date:   2012-09-19

    Distribute debian settings file correctly

 service/Makefile.am | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 297d1b67119d68ce798067b35ca83ec0e1521f1c
Author: Stef Walter <stefw@gnome.org>
Date:   2012-09-19

    Release version 0.8

 NEWS         | 16 ++++++++++++++++
 configure.ac |  2 +-
 2 files changed, 17 insertions(+), 1 deletion(-)

commit b029a93f1bdd649a82e18b117df31cfbb25b0179
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:   2012-09-04

    Add Polish translation
    
    https://bugs.freedesktop.org/show_bug.cgi?id=54475

 .gitignore |   1 +
 po/LINGUAS |   1 +
 po/pl.po   | 427 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 429 insertions(+)

commit fa407f558be731a4aabf417090a2cf44780ba8d8
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:   2012-09-04

    Fix POTFILES.in
    
    https://bugs.freedesktop.org/show_bug.cgi?id=54474

 po/POTFILES.in | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit 0668bace12c18e57ef8eb6715746bd74e3818832
Author: Stef Walter <stefw@gnome.org>
Date:   2012-09-18

    Don't start IPA certificate based discovery until AD discovery complete
    
     * The IPA discovery is pretty heavy handed, and tries connecting
       to the KDC's themselves.
     * Don't start the IPA discovery until AD discovery completes
    
    https://bugs.freedesktop.org/show_bug.cgi?id=55054

 service/realm-kerberos-discover.c | 81 +++++++++++++++++++++------------------
 1 file changed, 44 insertions(+), 37 deletions(-)

commit d67e4c54471449d5295d29037585317f6616a83f
Author: Stef Walter <stefw@gnome.org>
Date:   2012-09-18

    Fix regression in IPA server discovery
    
     * Logic inversion
    
    https://bugs.freedesktop.org/show_bug.cgi?id=55054

 service/realm-ipa-discover.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 14ecad7459a9bc570fad6f58f0d750823b3dc620
Author: Stef Walter <stefw@gnome.org>
Date:   2012-09-17

    Don't refresh the PackageKit cache
    
    On advice from Richard Hughes remove the code that refreshes the
    packagekit cache.

 service/realm-packages.c | 46 +++++++++-------------------------------------
 1 file changed, 9 insertions(+), 37 deletions(-)

commit 67fbb321d3ad2d8edd4ca17ac08fd900fa21ae56
Author: Stef Walter <stefw@gnome.org>
Date:   2012-09-18

    Pass passwords directly to the samba 'net' command
    
     * We were passing in a kerberos credential cache to be used
       but this caused strange errors with certain domain controllers.
     * Pass the password to the 'net' command directly on input.
     * Make sub-processes in their own process group without a controlling
       tty, by using setsid(). This guarantees sane prompting behavior
       using stdin(), and prevents blocking on tty input.
     * Cleaner diagnostic output of the commands we execute.
     * Simpler passing of environment variables to sub-commands
    
    https://bugs.freedesktop.org/show_bug.cgi?id=55046

 service/realm-adcli-enroll.c        |  4 +-
 service/realm-command.c             | 74 +++++++++++++----------------
 service/realm-command.h             |  8 ----
 service/realm-kerberos-membership.h |  4 +-
 service/realm-kerberos.c            | 71 +++++++++++++++++++++------
 service/realm-kerberos.h            |  2 +-
 service/realm-samba-enroll.c        | 95 +++++++++++++++++++++++++++----------
 service/realm-samba-enroll.h        | 13 ++---
 service/realm-samba.c               | 69 ++++++---------------------
 service/realm-sssd-ad.c             | 75 ++++++++++++-----------------
 10 files changed, 213 insertions(+), 202 deletions(-)

commit 86fba307682b0dea7c17b5e00a54455bb0786a52
Author: Stef Walter <stefw@gnome.org>
Date:   2012-09-17

    Add a test tool to play with installing of packages

 .gitignore                     |  1 +
 tests/Makefile.am              | 19 +++++++++++++++
 tests/files/realmd-distro.conf |  6 ++++-
 tests/frob-package-set.c       | 54 ++++++++++++++++++++++++++++++++++++++++++
 4 files changed, 79 insertions(+), 1 deletion(-)

commit 43f9f66657708a2ce386c3bbc6df81a3e603dfb7
Author: Stef Walter <stefw@gnome.org>
Date:   2012-09-06

    Fix regression where command name was not logged to diagnostics

 service/realm-command.c | 18 ++++++++----------
 1 file changed, 8 insertions(+), 10 deletions(-)

commit 0039afb7c2eff84f035aa8b086002badaecf59f5
Author: Stef Walter <stefw@gnome.org>
Date:   2012-09-04

    Better prompting for realm administrator/user password in realm tool
    
     * Always do a kinit in the 'realm' tool even if we're going to
       pass in the password directly. This solves helps us detect issues
       early and give intelligable feedback.
     * Parse the user@realm correctly, without relying on a default realm
     * Print 'Invalid password' as an error message in the case of preauth failed.

 tools/realm-client.c | 35 +++++++++++++++++++---------
 tools/realm.c        | 66 +++++++++++++++++++++++++++++++---------------------
 tools/realm.h        |  4 +++-
 3 files changed, 66 insertions(+), 39 deletions(-)

commit ba1000699754610aa9da929c206c15e4d369441b
Author: Stef Walter <stefw@gnome.org>
Date:   2012-09-04

    No double colon in messages that don't have a description

 tools/realm.c | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 572116e37ef705a8549669d2db7ce61d8871ae4a
Author: Stef Walter <stefw@gnome.org>
Date:   2012-09-04

    On startup print out a debug line which shown settings files
    
     * For debugging which settings are being loaded

 service/realm-settings.c | 9 +++++++--
 1 file changed, 7 insertions(+), 2 deletions(-)

commit 2b838bf00806fa1cf668829280de878f6b241625
Author: Stef Walter <stefw@gnome.org>
Date:   2012-09-04

    Use infinite timeout for the provider in the realm tool
    
     * This would cause discovery to timeout sometimes

 tools/realm-client.c | 1 +
 1 file changed, 1 insertion(+)

commit bb63f5f7f4fe259d8bce429a87f2476b0506f284
Author: Stef Walter <stefw@gnome.org>
Date:   2012-09-04

    Fix null pointer dereference problems
    
     * Use or freeing of NULL pointers in certain situations

 service/realm-adcli-enroll.c | 5 +++--
 service/realm-daemon.c       | 3 ++-
 service/realm-samba-enroll.c | 9 ++++++---
 3 files changed, 11 insertions(+), 6 deletions(-)

commit 1c7fa542bf427e7b11958822dbc527c9bf83cef3
Author: Stef Walter <stefw@gnome.org>
Date:   2012-08-09

    Remove custom debug code, just use glib
    
     * Just use g_debug() instead of our own realm_debug()
     * Add --debug option, which is to be used instead of
       the REALM_DEBUG and REALM_PERSIST env variables

 service/Makefile.am             |   1 -
 service/realm-adcli-enroll.c    |   1 -
 service/realm-all-provider.c    |   2 -
 service/realm-command.c         |  20 ++---
 service/realm-daemon.c          |  68 ++++++++++++---
 service/realm-daemon.h          |   2 +
 service/realm-debug.c           | 187 ----------------------------------------
 service/realm-debug.h           |  93 --------------------
 service/realm-diagnostics.c     |   8 +-
 service/realm-ipa-discover.c    |   6 +-
 service/realm-kerberos.c        |  17 +---
 service/realm-packages.c        |  16 ++--
 service/realm-provider.c        |   4 +-
 service/realm-samba-enroll.c    |   1 -
 service/realm-samba.c           |   1 -
 service/realm-service-systemd.c |  14 ++-
 service/realm-service-upstart.c |  22 +++--
 service/realm-service.c         |  10 +--
 18 files changed, 102 insertions(+), 371 deletions(-)

commit 3a988441e411a8e38f668edf1114397e1726a155
Author: Stef Walter <stefw@gnome.org>
Date:   2012-09-03

    Big update for one-time-password and automatic joining
    
     * Add support for credential types 'secret' and 'none'
     * Use adcli to enroll when automatic or one-time-password
     * Add --one-time-password option to the realm command
     * Add --membership-software option to the realm command so
       caller can control what software is used to enroll.
     * Use ccache files directly where possible, rather than reading
       and writing them unnecessarily.
     * Support combining of package sets for installation.
    
    Unfortunately it was not possible to unintertwine these changes
    into separate commits. However we are still in an early stage
    in this project, and things should settle down once we have
    a stable release.

 dbus/org.freedesktop.realmd.xml     |  18 +-
 dbus/realm-dbus-constants.h         |   3 +
 service/Makefile.am                 |   1 +
 service/realm-adcli-enroll.c        | 190 +++++++++++
 service/realm-adcli-enroll.h        |  53 ++++
 service/realm-kerberos-membership.c |  13 +-
 service/realm-kerberos-membership.h |  33 +-
 service/realm-kerberos.c            | 166 +++++++---
 service/realm-kerberos.h            |   4 +-
 service/realm-packages.c            |  69 ++--
 service/realm-packages.h            |   2 +-
 service/realm-samba-enroll.c        |  86 +----
 service/realm-samba-enroll.h        |   4 +-
 service/realm-samba.c               |  52 ++-
 service/realm-sssd-ad.c             | 416 ++++++++++++++++++------
 service/realmd-debian.conf          |  10 +-
 service/realmd-defaults.conf        |   7 +-
 service/realmd-redhat.conf          |  10 +-
 tools/Makefile.am                   |   5 +-
 tools/realm-client.c                | 442 ++++++++++++++++++++++++++
 tools/realm-client.h                |  82 +++++
 tools/realm-discover.c              | 157 +++------
 tools/realm-enroll.c                | 612 ------------------------------------
 tools/realm-join.c                  | 283 +++++++++++++++++
 tools/realm-leave.c                 | 204 ++++++++++++
 tools/realm-logins.c                |  63 +++-
 tools/realm.c                       | 306 ++++++++----------
 tools/realm.h                       |  17 +-
 28 files changed, 2083 insertions(+), 1225 deletions(-)

commit 65595235e949a36938b5b46128b755de38f3c194
Author: Stef Walter <stefw@gnome.org>
Date:   2012-09-03

    Ignore temporarily DNS failures when discovering
    
     * These don't indicate a failed discovery, but just a lack
       of a realm.

 service/realm-kerberos-discover.c | 13 ++++++++++---
 1 file changed, 10 insertions(+), 3 deletions(-)

commit 151988745bdb8b7e1ff34ac718e9fab40f7f4502
Author: Stef Walter <stefw@gnome.org>
Date:   2012-09-03

    Errors during IPA discover not treated as discovery failures
    
     * They're now treated as an indication of lack of IPA support
       on the server, not as an error to be propagated.

 service/realm-kerberos-discover.c | 11 +++++++++--
 1 file changed, 9 insertions(+), 2 deletions(-)

commit 3dd23522a6dfdda207fe00cb2dc301f3612b6039
Author: Stef Walter <stefw@gnome.org>
Date:   2012-09-03

    Handle case where IPA discovery meets an non-SSL server on port 443
    
     * This is the case with NULLROUTE.EU.ORG

 service/realm-ipa-discover.c | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 8f62400cab3c568f6059680d851fe47ad25c87f2
Author: Stef Walter <stefw@gnome.org>
Date:   2012-09-03

    Add support for sending input to subprocesses
    
     * This will be needed to send a password to adcli

 service/realm-command.c      | 61 ++++++++++++++++++++++++--------------------
 service/realm-command.h      |  1 +
 service/realm-samba-enroll.c |  6 +----
 3 files changed, 36 insertions(+), 32 deletions(-)

commit 5c48df053a43e9318dfe9c24379f7b9be008f11f
Author: Stef Walter <stefw@gnome.org>
Date:   2012-09-03

    Remove unused DBus names from DBus policy file

 dbus/org.freedesktop.realmd.conf | 6 ------
 1 file changed, 6 deletions(-)

commit 90cf155571b870c8a4ee0a636c03bd1f21c07b88
Author: Stef Walter <stefw@gnome.org>
Date:   2012-08-30

    Remove the generic discover timeout in the 'all' provider
    
     * This used to be what allowed kerberos discovery to not block
       when a firewall was encountered.
     * Now that the kerberos discovery code is much more intelligent
       this is no longer needed.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=53956

 service/realm-all-provider.c | 30 ------------------------------
 1 file changed, 30 deletions(-)

commit 82eb02effda746087eb8d7541126b8cded02b560
Author: Stef Walter <stefw@gnome.org>
Date:   2012-08-22

    Add a generic kerberos provider
    
     * This discovers realms that aren't either IPA or Active Directory
     * The resulting realms are not enrollable
    
    https://bugs.freedesktop.org/show_bug.cgi?id=53958

 service/Makefile.am               |   1 +
 service/realm-daemon.c            |   6 ++
 service/realm-kerberos-provider.c | 137 ++++++++++++++++++++++++++++++++++++++
 service/realm-kerberos-provider.h |  38 +++++++++++
 service/realm-kerberos.c          |  11 +++
 5 files changed, 193 insertions(+)

commit b9b1605d195dec894c97b62efc48ed9285a7c4c5
Author: Stef Walter <stefw@gnome.org>
Date:   2012-08-22

    Move construct 'provider' property into RealmKerberos base class
    
     * That way we can create RealmKerberos as a concrete class
     * Derived classes override and actually use the property
    
    https://bugs.freedesktop.org/show_bug.cgi?id=53958

 service/realm-kerberos.c | 11 ++++++++++-
 service/realm-samba.c    |  4 +---
 service/realm-sssd.c     |  4 +---
 3 files changed, 12 insertions(+), 7 deletions(-)

commit 71f990fec7231dca1d391415825d7a38ce02527f
Author: Stef Walter <stefw@gnome.org>
Date:   2012-08-22

    Separate enrollment functionality into RealmKerberosMembership interface
    
     * And use presence of that interface in RealmKerberos to behave
       correctly in the absence of enrollment functionality
    
    https://bugs.freedesktop.org/show_bug.cgi?id=53958

 service/Makefile.am                 |   1 +
 service/realm-kerberos-membership.c |  89 ++++++++++++++++++++
 service/realm-kerberos-membership.h | 117 +++++++++++++++++++++++++++
 service/realm-kerberos.c            | 156 ++++++++++++------------------------
 service/realm-kerberos.h            |  73 -----------------
 service/realm-samba.c               |  40 +++++++--
 service/realm-sssd-ad.c             |  32 +++++---
 service/realm-sssd-ipa.c            |  68 ----------------
 8 files changed, 312 insertions(+), 264 deletions(-)

commit 93ff5699e037ca322525eee67304418080a3fcf4
Author: Stef Walter <stefw@gnome.org>
Date:   2012-08-22

    Remove unused variable in IPA discovery
    
    https://bugs.freedesktop.org/show_bug.cgi?id=53956

 service/realm-ipa-discover.c | 1 -
 1 file changed, 1 deletion(-)

commit 7f3d0663f40917c49a03824fd35676de9f7d9e39
Author: Stef Walter <stefw@gnome.org>
Date:   2012-08-22

    Run IPA discovery in parallel against multiple KDCs
    
     * Since we actually try to connect to the https port of the KDC
       this can timeout due to firewalls.
     * Set maximum timeout to 5 seconds for connection.
     * Try to connect to up to 3 KDCs in parallel, which should give us
       redundancy, and only take 5 seconds total when firewalled.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=53956

 service/realm-ipa-discover.c      | 112 ++++++++++++++------------------------
 service/realm-ipa-discover.h      |   2 +-
 service/realm-kerberos-discover.c |  47 +++++++++-------
 3 files changed, 69 insertions(+), 92 deletions(-)

commit a8cb1f953df0d585304c41d37fea8cef6dfe6e10
Author: Stef Walter <stefw@gnome.org>
Date:   2012-08-22

    Integrate kerberos discovery
    
     * Discover everything about a kerberos domain in one place
       rather than duplicating implementation in different providers.
     * This lets us consolidate logic, and coordinate between the
       different types of kerberos domains.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=53956

 dbus/realm-dbus-constants.h       |   1 -
 service/Makefile.am               |   2 +-
 service/realm-ad-discover.c       | 455 ---------------------------------
 service/realm-ad-discover.h       |  35 ---
 service/realm-discovery.c         |  10 +
 service/realm-discovery.h         |   4 +
 service/realm-ipa-discover.c      | 130 +---------
 service/realm-ipa-discover.h      |   5 +-
 service/realm-kerberos-discover.c | 515 ++++++++++++++++++++++++++++++++++++++
 service/realm-kerberos-discover.h |  35 +++
 service/realm-samba-provider.c    |  22 +-
 service/realm-samba.c             |   1 -
 service/realm-sssd-ad-provider.c  |  28 ++-
 service/realm-sssd-ad.c           |   1 -
 service/realm-sssd-ipa-provider.c |  20 +-
 15 files changed, 621 insertions(+), 643 deletions(-)

commit d567b37e958f30c2248e60d6bed8013c2342a934
Author: Stef Walter <stefw@gnome.org>
Date:   2012-08-22

    Add support for choosing client and server software
    
     * New 'realm discover' options --client-software and --server-software
     * Same options for 'realm join'
     * These options limit the discovery results to the relevant client
       and server software listed in the realm Details property.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=53934

 dbus/org.freedesktop.realmd.xml   |  6 ++++++
 service/realm-provider.c          | 23 +++++++++++++++++++++++
 service/realm-provider.h          |  4 ++++
 service/realm-samba-provider.c    | 12 +++++++++++-
 service/realm-sssd-ad-provider.c  | 21 ++++++++++++++++-----
 service/realm-sssd-ipa-provider.c | 12 +++++++++++-
 tools/realm-discover.c            | 20 ++++++++++++++++----
 tools/realm-enroll.c              | 17 ++++++++++++++---
 8 files changed, 101 insertions(+), 14 deletions(-)

commit 33d226d7745003eed3c3da0ceefdd9327bebf966
Author: Stef Walter <stefw@gnome.org>
Date:   2012-08-22

    Pass Discover() options to the implementation vfuncs
    
     * Allow discover implementations to use the options
       passed in.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=53934

 service/realm-all-provider.c      | 5 +++--
 service/realm-provider.c          | 5 +++--
 service/realm-provider.h          | 2 ++
 service/realm-samba-provider.c    | 1 +
 service/realm-sssd-ipa-provider.c | 1 +
 5 files changed, 10 insertions(+), 4 deletions(-)

commit de4eea4a4fe6df38b59a323c892e2bb55665342d
Author: Stef Walter <stefw@gnome.org>
Date:   2012-08-22

    Turn various DBus flag/option strings into constants
    
    https://bugs.freedesktop.org/show_bug.cgi?id=53934

 dbus/realm-dbus-constants.h      | 10 ++++++++++
 service/realm-diagnostics.c      |  2 +-
 service/realm-kerberos.c         |  4 ++--
 service/realm-samba-provider.c   |  2 +-
 service/realm-samba.c            |  6 +++---
 service/realm-sssd-ad-provider.c |  2 +-
 service/realm-sssd-ad.c          |  7 ++++---
 service/realm-sssd-ipa.c         |  4 ++--
 tools/realm-enroll.c             |  2 +-
 9 files changed, 25 insertions(+), 14 deletions(-)

commit 145ed26a9f46d597b447007f41d14bacfdd72d7a
Author: Stef Walter <stefw@gnome.org>
Date:   2012-08-22

    Add helper to build options to pass to realmd
    
     * realm_build_options()
    
    https://bugs.freedesktop.org/show_bug.cgi?id=53934

 tools/realm-discover.c |  2 +-
 tools/realm-enroll.c   |  7 ++-----
 tools/realm-logins.c   |  4 ++--
 tools/realm.c          | 31 +++++++++++++++++++++++++++++++
 tools/realm.h          |  3 +++
 5 files changed, 39 insertions(+), 8 deletions(-)

commit 5af87e0753441b70fa4c078393eb4ef52a794019
Author: Stef Walter <stefw@gnome.org>
Date:   2012-08-22

    Add documentation for computer-ou Join() option
    
    https://bugs.freedesktop.org/show_bug.cgi?id=53889

 dbus/org.freedesktop.realmd.xml | 3 +++
 1 file changed, 3 insertions(+)

commit 520d90bcf04102fa616e27a88a4ed70249e90400
Author: Stef Walter <stefw@gnome.org>
Date:   2012-08-22

    Add support for specifying a computer OU LDAP DN when joining
    
     * Now requires the openldap client libraries
     * Add new --computer-ou argument to 'realm join'
     * Support 'computer-ou' option passed to o.f.r.KerberosMembership.Join()
     * Format is in full LDAP DN format.
     * An administrator can include a section like this to specify
       a default computer-ou to join to:
    
       [the.example.com]
       join-computer-ou = OU=Workstations
    
    https://bugs.freedesktop.org/show_bug.cgi?id=53889

 .gitignore                   |   1 +
 configure.ac                 |  16 +++++
 service/Makefile.am          |   3 +
 service/realm-kerberos.c     |  20 ++++++
 service/realm-kerberos.h     |   3 +
 service/realm-samba-enroll.c |  29 +++++++-
 service/realm-samba-enroll.h |   1 +
 service/realm-samba-util.c   | 166 +++++++++++++++++++++++++++++++++++++++++++
 service/realm-samba-util.h   |  29 ++++++++
 service/realm-samba.c        |  23 ++++--
 service/realm-sssd-ad.c      |  23 ++++--
 tests/Makefile.am            |   6 ++
 tests/test-samba-ou-format.c |  80 +++++++++++++++++++++
 tools/realm-enroll.c         |  19 +++--
 14 files changed, 397 insertions(+), 22 deletions(-)

commit 38bd162963c818528e73ea403b61a4e29be4ee97
Author: Stef Walter <stefw@gnome.org>
Date:   2012-08-22

    Pass join/leave options to various kerberos membership implementations
    
    https://bugs.freedesktop.org/show_bug.cgi?id=53889

 service/realm-kerberos.c | 41 ++++++++++++++++++++++-------------------
 service/realm-kerberos.h |  6 ++++++
 service/realm-samba.c    |  2 ++
 service/realm-sssd-ad.c  |  2 ++
 service/realm-sssd-ipa.c |  2 ++
 5 files changed, 34 insertions(+), 19 deletions(-)

commit 7157a27b807b13325b21840ce34924fb6b5fc4fa
Author: Stef Walter <stefw@gnome.org>
Date:   2012-08-21

    Add another samba net match string for permission denied

 service/realm-samba-enroll.c | 1 +
 1 file changed, 1 insertion(+)

commit 1433b8d2fabbb7671fd2a4cb33b9f2c27ee7d31b
Author: Stef Walter <stefw@gnome.org>
Date:   2012-08-30

    Don't require unstable glib
    
     * No longer necessary, and by using a stable release we can
       get more testing and development

 configure.ac | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 5632a448e671a7e41f8d2f63cefa7a03b7434f53
Author: Stef Walter <stefw@gnome.org>
Date:   2012-08-30

    Fix source tag for async result in IPA discovery
    
     * This is unused by the current code

 service/realm-ipa-discover.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ecb45f008fab1c4ad78682158eb4d1489a26f68f
Author: Stef Walter <stefw@gnome.org>
Date:   2012-08-30

    Use correct finish function when discovering SRV records
    
     * Missed during the move to using _msdcs SRV records i
       instead of SOA lookup

 service/realm-ad-discover.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit de2f59507cf7512835acf2c6ec66ade42b5efa6b
Author: Stef Walter <stefw@gnome.org>
Date:   2012-08-20

    Release version 0.7

 NEWS | 8 ++++++++
 1 file changed, 8 insertions(+)

commit 41c5d6718b851511f435a49530de159e5085a6c6
Author: Stef Walter <stefw@gnome.org>
Date:   2012-08-17

    Properly recognize samba4 net message when insufficient permission
    
     * We detect insufficient permission of the credentials used
       to join a domain.
     * Add one more such string to recognize, since net doesn't help
       us with a specific code.

 service/realm-samba-enroll.c | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 7896218068af6cb5ef8a668e795c685bb3fd2e7e
Author: Stef Walter <stefw@gnome.org>
Date:   2012-08-17

    Add debug output for the discovery timeouts

 service/realm-all-provider.c | 3 +++
 1 file changed, 3 insertions(+)

commit bbc0ca6cc40f399526e8d0043c0732e9edb9fa6c
Author: Stef Walter <stefw@gnome.org>
Date:   2012-08-17

    Fix typo in AuthenticationFailed error message

 dbus/org.freedesktop.realmd.xml | 4 ++--
 dbus/realm-dbus-constants.h     | 2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 32660b1dc5a9b267fd6df90be3c65f7bb4e0e858
Author: Stef Walter <stefw@gnome.org>
Date:   2012-08-17

    The default access provider for Active Directory is 'simple'
    
     * So we can default to 'allow-permitted-logins' policy.

 service/realm-sssd-ad.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit bc7bf6ed16e4eeaba1470df2706e028e42b69ea6
Author: Stef Walter <stefw@gnome.org>
Date:   2012-08-17

    Remove unused realm_kerberos_parse_login() function

 service/realm-kerberos.c | 17 -----------------
 service/realm-kerberos.h |  4 ----
 2 files changed, 21 deletions(-)

commit 551c55d97bae99023225a7a32004f9864e1af37a
Author: Stef Walter <stefw@gnome.org>
Date:   2012-08-14

    Use %U and %D in the login formats
    
     * %U is to be replaced with the user name
     * %D is to be replaced with the domain name
     * We don't actually produce login formats with the %D domain
       code, so our internal code doesn't yet handle that.

 dbus/org.freedesktop.realmd.xml |  6 ++++--
 service/realm-login-name.c      |  7 ++++++-
 service/realm-samba.c           |  4 ++--
 service/realm-sssd.c            |  2 +-
 tests/test-login-name.c         | 10 +++++-----
 5 files changed, 18 insertions(+), 11 deletions(-)

commit ab59f3dbc57a647b4c4efabbb0ca2997e03bf22d
Author: Stef Walter <stefw@gnome.org>
Date:   2012-08-17

    Add DBus ObjectManager support to realmd
    
     * All objects are easily tracked as they come and go
       for implementations that want to expose all of realmd.
     * Provides an alternative to SupportedIntefaces for looking
       up which interfaces are supported at an object.

 dbus/org.freedesktop.realmd.xml   |   4 +
 service/realm-all-provider.c      |  42 +++++++--
 service/realm-all-provider.h      |   2 +
 service/realm-daemon.c            |  49 +++++++----
 service/realm-daemon.h            |   2 +
 service/realm-kerberos.c          | 118 +++++++++++--------------
 service/realm-kerberos.h          |   8 +-
 service/realm-provider.c          | 179 ++++++++++++++------------------------
 service/realm-provider.h          |  13 ++-
 service/realm-samba-provider.c    |  16 ++--
 service/realm-samba-provider.h    |   2 +
 service/realm-samba.c             |   3 +-
 service/realm-sssd-ad-provider.c  |  15 +++-
 service/realm-sssd-ad-provider.h  |   2 +
 service/realm-sssd-ipa-provider.c |  15 +++-
 service/realm-sssd-ipa-provider.h |   2 +
 service/realm-sssd.c              |   3 +-
 17 files changed, 245 insertions(+), 230 deletions(-)

commit 7014833468ac4e273d10bfcff7a96d5ecbb3fac8
Author: Stef Walter <stefw@gnome.org>
Date:   2012-08-17

    Refactor the dbus interface after review
    
     * DBus interface needs to be more generic if realmd is to
       cover various kinds of realms.
     * Realms have a generic interface and a set of additional
       supported intefaces.
     * Change 'enrolled' terminology to 'configured'
     * Can deconfigure a realm in a generic way.
     * Can see how a realm is configured
     * Specific interfaces for different kinds of enrollment
     * Realms have a generic displayable name
     * Kerberos realms have clear properties for realm-name and domain-name

 dbus/org.freedesktop.realmd.xml          | 428 ++++++++++++++++++++-----------
 dbus/realm-dbus-constants.h              |   8 +-
 doc/Makefile.am                          |   2 +
 doc/html.css                             |   2 +-
 doc/realmd-docs.sgml                     |   4 +-
 service/org.freedesktop.realmd.policy.in |   6 +-
 service/realm-all-provider.c             |  68 ++---
 service/realm-discovery.c                |  18 ++
 service/realm-discovery.h                |   3 +
 service/realm-errors.c                   |   4 +-
 service/realm-errors.h                   |   4 +-
 service/realm-kerberos.c                 | 313 ++++++++++++++++++----
 service/realm-kerberos.h                 |  38 +++
 service/realm-provider.c                 |  78 +++---
 service/realm-provider.h                 |   6 +-
 service/realm-samba-provider.c           |  23 +-
 service/realm-samba.c                    |  82 +++---
 service/realm-sssd-ad-provider.c         |  22 +-
 service/realm-sssd-ad.c                  |  61 ++---
 service/realm-sssd-ipa-provider.c        |  21 +-
 service/realm-sssd-ipa.c                 |  43 ++--
 service/realm-sssd.c                     |  71 +++--
 tools/realm-discover.c                   | 101 +++++---
 tools/realm-enroll.c                     | 217 +++++++++++-----
 tools/realm-logins.c                     |  26 +-
 tools/realm.c                            |  99 ++++---
 tools/realm.h                            |  14 +-
 27 files changed, 1158 insertions(+), 604 deletions(-)

commit 5788617c8b18ff110e74089f0d990968b5280b29
Author: Stef Walter <stefw@gnome.org>
Date:   2012-08-17

    Automatically setup git commit hooks

 autogen.sh | 8 ++++++++
 1 file changed, 8 insertions(+)

commit b8f751e0b0c318d220ce237c774962ca0de1643a
Author: Stef Walter <stefw@gnome.org>
Date:   2012-08-16

    doc: Don't go online to retrieve DTDs when processing docs

 doc/Makefile.am | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 01e1eef7e3a9859b983ee656bea035be35af0b68
Author: Stef Walter <stefw@gnome.org>
Date:   2012-08-16

    doc: Fix parallel build of documentation

 doc/Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1468f9cc32d2ca025fb69215af333a60d36bb55d
Author: Stef Walter <stefw@gnome.org>
Date:   2012-08-16

    doc: Fix 'make clean' for documentation

 doc/Makefile.am | 6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

commit bc8c76f357123c509ae29fac86d94c0405ac008c
Author: Stef Walter <stefw@gnome.org>
Date:   2012-08-14

    Add 'make upload-doc' target for uploading documentation

 Makefile.am | 3 +++
 1 file changed, 3 insertions(+)

commit a62ddb3f64c3dc24556cec712034dff3b3cab4f9
Author: Stef Walter <stefw@gnome.org>
Date:   2012-08-10

    Fix make distcheck with documentation

 .gitignore           |  2 ++
 Makefile.am          |  3 ++-
 doc/Makefile.am      | 22 +++++++++++++---------
 doc/realmd-docs.sgml |  8 ++++----
 4 files changed, 21 insertions(+), 14 deletions(-)

commit 6824ea0781c54722e1c7f591c43d765888f8782a
Author: Stef Walter <stefw@gnome.org>
Date:   2012-08-10

    Add raw dbus interface to documentation

 doc/Makefile.am            | 17 +++++++++--
 doc/escape-xml-to-text.xsl | 73 ++++++++++++++++++++++++++++++++++++++++++++++
 doc/realmd-docs.sgml       | 13 +++++++--
 3 files changed, 99 insertions(+), 4 deletions(-)

commit 094f97b0bdba1f14edf64ec0ffe33485b78d3021
Author: Stef Walter <stefw@gnome.org>
Date:   2012-08-10

    Build the interface documentation in the doc directory
    
     * and not in the dbus directory.
     * Cleaner

 dbus/Makefile.am     |  4 ----
 doc/Makefile.am      | 14 ++++++++++----
 doc/realmd-docs.sgml |  6 +++---
 3 files changed, 13 insertions(+), 11 deletions(-)

commit fe82a3b717f5283584be31d41e672d23258ce2c4
Author: Stef Walter <stefw@gnome.org>
Date:   2012-08-10

    Add documentation for the DBus interface

 .gitignore                      |  14 ++
 Makefile.am                     |   2 +-
 autogen.sh                      |   2 +
 configure.ac                    |   3 +
 dbus/Makefile.am                |  16 +-
 dbus/org.freedesktop.realmd.xml | 465 +++++++++++++++++++++++++++++++++++-----
 doc/Makefile.am                 |  47 ++++
 doc/html.css                    |  93 ++++++++
 doc/realmd-docs.sgml            |  20 ++
 doc/version.xml.in              |   1 +
 10 files changed, 609 insertions(+), 54 deletions(-)

commit 1d8f9707efb4d9935aff956435a29754922e111c
Author: Stef Walter <stefw@gnome.org>
Date:   2012-08-10

    Use 'operation' instead of 'operation-id' for optional argument
    
     * This is cleaner and is easier to describe in the documentation

 service/realm-diagnostics.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 90e22298df26c8af3bc9ca24140ecaab2ca87ea7
Author: Stef Walter <stefw@gnome.org>
Date:   2012-08-10

    Use a single 'Failed' error code rather than one per message
    
     * Remove the EnrollFailed, UnenrollFailed and DiscoveryFailed
       error codes and replace with with Failed

 dbus/realm-dbus-constants.h | 7 +++----
 service/realm-errors.c      | 4 +---
 service/realm-errors.h      | 4 +---
 service/realm-kerberos.c    | 4 ++--
 service/realm-provider.c    | 2 +-
 5 files changed, 8 insertions(+), 13 deletions(-)

commit 37ab274ec55bf0bf7a9b7b6f68e2893242c3abf4
Author: Stef Walter <stefw@gnome.org>
Date:   2012-08-09

    No need to install separate service files for each service
    
     * We no longer claim these names, and assume that everything
       is running in the realmd process.

 dbus/Makefile.am                               | 5 +----
 dbus/org.freedesktop.realmd.Samba.service.in   | 4 ----
 dbus/org.freedesktop.realmd.SssdAd.service.in  | 4 ----
 dbus/org.freedesktop.realmd.SssdIpa.service.in | 4 ----
 service/realm-sssd-ipa-provider.c              | 1 -
 5 files changed, 1 insertion(+), 17 deletions(-)

commit e06d3a2f864051130399a7d16ca828cd56afb19d
Author: Stef Walter <stefw@gnome.org>
Date:   2012-08-09

    Don't complain in the diagnostics about expected IPA discovery failure
    
     * Connection refused, timed out, and related are expected ways
       that an IPA discovery can fail.

 service/realm-ipa-discover.c | 10 ++++++++++
 1 file changed, 10 insertions(+)

commit 92614a42c85b192fcb9457329bad1f3123b44e7d
Author: Stef Walter <stefw@gnome.org>
Date:   2012-08-09

    On redhat samba4 winbind and net commands instead of samba3
    
     * Fedora has a nearly stable samba4.

 service/realmd-redhat.conf | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit 06e3ac221950b131cc99e7faf8cad17dd05ea35b
Author: Stef Walter <stefw@gnome.org>
Date:   2012-08-09

    Support multiple login formats per realm
    
     * In the case of AD this would be the long/short login formats

 dbus/org.freedesktop.realmd.xml |  6 ++---
 service/realm-kerberos.c        | 28 ++++++++++-----------
 service/realm-login-name.c      | 41 +++++++++++++++++--------------
 service/realm-login-name.h      |  4 +--
 service/realm-samba.c           | 11 +++++----
 service/realm-sssd.c            | 16 ++++++------
 tests/test-login-name.c         | 54 +++++++++++++++++++++++++++++------------
 tools/realm-discover.c          |  4 ++-
 8 files changed, 98 insertions(+), 66 deletions(-)

commit a2377aa2605b5669f46d2d9865587a54bf1b6fb6
Author: Stef Walter <stefw@gnome.org>
Date:   2012-08-08

    We use the terminology 'owner' instead of 'who' in creds
    
     * Changed most of it before, just one last straggler

 dbus/org.freedesktop.realmd.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0e8ce7815e63ee8e300a162be58e34348cd6d2b7
Author: Stef Walter <stefw@gnome.org>
Date:   2012-08-03

    Bump version number

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5406f2d8cc67b644d9ab9c5a5a8c45c5124e6ecf
Author: Stef Walter <stefw@gnome.org>
Date:   2012-08-03

    Fix the release upload path

 Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1b4ab68e5def95f807fe9aea43b39fbfefe0190b
Author: Stef Walter <stefw@gnome.org>
Date:   2012-08-03

    Release version 0.6

 NEWS           |  8 ++++++++
 po/POTFILES.in | 11 +++++++++++
 2 files changed, 19 insertions(+)

commit 256f1a428586de3a14608af9c4e5f8c004e8eab1
Author: Stef Walter <stefw@gnome.org>
Date:   2012-08-02

    Switch default AD client to sssd

 service/realmd-defaults.conf | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 46ac85091cb600e476e2e376b4568ecfd6f93168
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-31

    Bump version number

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit cde46e6884fb027f6e54d04f9efec7557d469b1b
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-31

    Make sure callers get properly notified about property changes
    
     * We were blocking the lower level GObjectClass.notify callbacks
       and thus had regressed on notifying callers about property changes

 service/realm-samba.c | 2 ++
 service/realm-sssd.c  | 2 ++
 2 files changed, 4 insertions(+)

commit acc7a2ccd9d14f9ef589ab37bc335f716f92f708
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-31

    Fix double free of memory

 service/realm-samba.c | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 853308e5c56ae7bb13aabb1c0fbcda2e261f5555
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-30

    Support building with automake 1.12.x

 autogen.sh | 20 +++++++++++---------
 1 file changed, 11 insertions(+), 9 deletions(-)

commit 43a878acd8228726f8a781f5edbd6f0eeef973c5
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-30

    Change default AD client back to winbind for now
    
     * SSSD breaks on rawhide in strange ways, will research

 service/realm-samba.c        | 2 +-
 service/realmd-defaults.conf | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 3bde274d8746c0bf55b6707cc12be1513e3ee971
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-30

    Remove warning when calls are made without an operation id

 service/realm-diagnostics.c | 4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit 515473c356aca81b676b9dac176c88eb1660836b
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-28

    Stub out API for Cancelling operations
    
     * Actual cancellation is not yet implemented, but trying to
       get API to a complete state.

 dbus/org.freedesktop.realmd.xml |  4 ++++
 service/realm-daemon.c          | 11 +++++++++++
 2 files changed, 15 insertions(+)

commit 4a14fb81c536a6792f0b8136d0633f6368f2c3d1
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-28

    Pass the operation_id in the options argument
    
     * And add options a{sv} arguments to relevant methods
     * operation-id is optional and can be missing from options

 dbus/org.freedesktop.realmd.xml |  7 ++-----
 service/realm-ad-discover.c     |  6 +++---
 service/realm-diagnostics.c     | 16 ++++++++++------
 service/realm-diagnostics.h     |  6 +++---
 service/realm-kerberos.c        | 14 ++++++--------
 service/realm-provider.c        |  4 ++--
 tools/realm-discover.c          |  9 +++++++--
 tools/realm-enroll.c            | 14 ++++++++------
 tools/realm-logins.c            | 18 ++++++++++++++----
 9 files changed, 55 insertions(+), 39 deletions(-)

commit d10d9ec579dd037b9fb4ab51df9f932f2519041a
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-28

    Add SetLocale to Service DBus interface
    
     * And track the locales for each client.
     * Add lots of translatable messages.
     * We don't yet properly setlocale() in the daemon. Need to figure out how
       to do that in a threadsafe way.

 dbus/org.freedesktop.realmd.xml |   4 +
 service/Makefile.am             |   1 +
 service/realm-command.c         |   4 +-
 service/realm-daemon.c          | 177 +++++++++++++++++++++++++---------------
 service/realm-daemon.h          |   6 ++
 service/realm-kerberos.c        |  34 ++++----
 service/realm-provider.c        |   4 +-
 service/realm-samba.c           |  11 +--
 service/realm-sssd-ad.c         |  11 +--
 service/realm-sssd-config.c     |   4 +-
 tools/Makefile.am               |   1 +
 tools/realm-discover.c          |  17 ++--
 tools/realm-enroll.c            |  45 +++++-----
 tools/realm-logins.c            |  17 ++--
 tools/realm.c                   |  37 ++++++---
 15 files changed, 228 insertions(+), 145 deletions(-)

commit 458627c17a61a9c2fdb47811a7eee716605c4c7f
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-28

    Global diagnostics signal. Refactor stuff into 'Service' interface
    
     * New 'Service' DBus interface, instead of 'Daemon'
     * Move diagnostics stuff to it.
     * Make --verbose work reliably in the realm tool

 dbus/org.freedesktop.realmd.xml | 28 ++++++-------
 dbus/realm-dbus-constants.h     |  3 +-
 service/realm-all-provider.c    |  4 +-
 service/realm-daemon.c          |  8 ++--
 service/realm-diagnostics.c     | 12 +++---
 tools/realm-discover.c          | 79 +++++++++++++-----------------------
 tools/realm-enroll.c            | 88 +++++++++++++++--------------------------
 tools/realm-logins.c            | 71 +++++++++++++++++++++++++++------
 tools/realm.c                   | 53 ++++++++++++++++++++++---
 tools/realm.h                   |  5 ++-
 10 files changed, 193 insertions(+), 158 deletions(-)

commit c1ef1acb837ad7c7001765b8abeded1d3f29c39f
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-27

    Remove support for out of process providers
    
     * This just overcomplicates everything. Happy to accept
       other providers into the tree.
     * No more provider files needed

 dbus/Makefile.am                             |   6 -
 dbus/org.freedesktop.realmd.Samba.provider   |   4 -
 dbus/org.freedesktop.realmd.SssdAd.provider  |   4 -
 dbus/org.freedesktop.realmd.SssdIpa.provider |   4 -
 dbus/org.freedesktop.realmd.xml              |   5 +-
 dbus/realm-dbus-constants.h                  |   2 +
 service/realm-all-provider.c                 | 317 ++++-----------------------
 service/realm-all-provider.h                 |   5 +
 service/realm-daemon.c                       |  58 ++++-
 service/realm-provider.c                     | 172 +++++----------
 service/realm-provider.h                     |  17 +-
 service/realm-samba-provider.c               |  34 ++-
 service/realm-sssd-ad-provider.c             |  34 ++-
 service/realm-sssd-ipa-provider.c            |  34 ++-
 tools/realm-discover.c                       |   7 +-
 tools/realm.c                                |   5 +-
 16 files changed, 261 insertions(+), 447 deletions(-)

commit 15cf8e7e2a91b99a5f8e15bb07f18774113aaaf2
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-24

    Use GDBusInterfaceSkeleton properties
    
     * This way the GDBusinterface property accessors work without having
       to override the interface.
     * Update realm properties correctly

 service/realm-samba.c    | 91 ++++++++++++++++++++----------------------------
 service/realm-sssd-ipa.c |  7 ----
 service/realm-sssd.c     | 52 +++++++--------------------
 3 files changed, 50 insertions(+), 100 deletions(-)

commit fd0444aa007853bd1eff7e7584af8275c5e9a399
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-24

    Fix use after free when removing a config parameter
    
     * In RealmIniConfig when removing a config parameter, we didn't
       remove it from the parameter hashtable.

 service/realm-ini-config.c | 2 ++
 1 file changed, 2 insertions(+)

commit ad41424b8a3fdeb909e3ada561b214ebfbdbefa6
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-24

    Rework the way credentials are passed to realmd
    
     * We need password credentials for some methods of joining
       (like 'net ads join' because samba3 doesn't support AES
       kerberos stuff), or IPA (because ipa-client-install doesn't
       support being passed a ccache).
     * Also add but don't yet implement support for empty credentials
       (used for automatic enrolling) and one time passwords.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=52390

 dbus/org.freedesktop.realmd.xml |  46 +--
 service/realm-errors.c          |  11 +
 service/realm-errors.h          |   4 +
 service/realm-kerberos.c        | 811 ++++++++++++++++++++++++++--------------
 service/realm-kerberos.h        | 123 ++++--
 service/realm-samba-enroll.h    |   9 +
 service/realm-samba.c           | 108 +++---
 service/realm-sssd-ad.c         |  98 +++--
 service/realm-sssd-ipa.c        |  15 +-
 tools/realm-enroll.c            | 132 +++++--
 tools/realm.c                   |  20 +
 tools/realm.h                   |   3 +
 12 files changed, 927 insertions(+), 453 deletions(-)

commit 375175f39652804bfb7e3abd6cd9bc533c6cbb7c
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-24

    Add a debug flag for leaving temp files around

 service/realm-debug.c        | 1 +
 service/realm-debug.h        | 3 ++-
 service/realm-kerberos.c     | 3 ++-
 service/realm-samba-enroll.c | 4 +++-
 4 files changed, 8 insertions(+), 3 deletions(-)

commit d48aaf2034912511b1d3d803d9fffceff9e0bf5b
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-24

    Set the new path for uploading releases
    
    https://bugs.freedesktop.org/show_bug.cgi?id=50960

 Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9079724f38fa3566ef7ae90481e2bcd5e193536e
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-18

    Fix dbus service files for various providers
    
    ... and add one for SssdIpa which was missing

 dbus/Makefile.am                               | 3 ++-
 dbus/org.freedesktop.realmd.Samba.service.in   | 2 +-
 dbus/org.freedesktop.realmd.SssdAd.service.in  | 2 +-
 dbus/org.freedesktop.realmd.SssdIpa.service.in | 4 ++++
 4 files changed, 8 insertions(+), 3 deletions(-)

commit f1720129742fac6bfc94805895fe064d5183d1ae
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-18

    Prevent piling up of dbus error codes in the GError message

 service/realm-provider.c | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 935050ed77791be4f201bd4312279dabfd5760f4
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-18

    Clearer message when IPA discovery fails due to firewall

 service/realm-ipa-discover.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 493ad549af8e5f17cfe6b79801d74699dfc2087c
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-18

    Register dbus error domain correctly on realmd startup

 service/realm-daemon.c | 5 +++++
 1 file changed, 5 insertions(+)

commit 8aa3a494080bda75c36ed2682dc4da1480f3f874
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-18

    Reset the configured realm in samba registry before join
    
     * Otherwise its used to try and connect to the domain

 service/realm-samba-enroll.c | 33 +++++++++++++++++++++++++++++++--
 1 file changed, 31 insertions(+), 2 deletions(-)

commit 9bcb3fea5d7c9ad859308e168d58e775941d864f
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-18

    Fix innocuous warning about uninitialized variable being used

 service/realm-ini-config.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 105aa6ee87ee5c468869b852aa6091c8b961c14f
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-18

    Release version 0.5

 NEWS              | 10 ++++++++++
 configure.ac      |  2 +-
 tools/Makefile.am |  2 +-
 3 files changed, 12 insertions(+), 2 deletions(-)

commit b371e1a61f56415177bc3e93fb09410fce45b610
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-17

    Implement concept of a login policy
    
     * There are three policies 'allow-any-login' 'allow-permitted-logins'
       and 'deny-any-login'
     * The Samba provider only supports allow-any-login
     * Change the dbus interface so modifying LoginPolicy and LoginsPermitted
       can be done together.
     * Add 'realm deny' and 'realm permit' commands

 dbus/org.freedesktop.realmd.xml |  15 ++--
 dbus/realm-dbus-constants.h     |   4 ++
 service/realm-kerberos.c        |  71 ++++++++++++++++---
 service/realm-kerberos.h        |  15 +++-
 service/realm-login-name.c      |   5 +-
 service/realm-login-name.h      |   3 +-
 service/realm-samba.c           |  21 +++---
 service/realm-sssd.c            |  79 +++++++++++++++++----
 tests/test-login-name.c         |  28 +++++++-
 tools/Makefile.am               |   1 +
 tools/realm-discover.c          |  12 +++-
 tools/realm-enroll.c            |  23 +-----
 tools/realm-logins.c            | 151 ++++++++++++++++++++++++++++++++++++++++
 tools/realm.c                   |  90 +++++++++++++++++++++++-
 tools/realm.h                   |  10 +++
 15 files changed, 460 insertions(+), 68 deletions(-)

commit 081fbb7674b59fb7803adea8e4fadeab4852bad9
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-17

    Fix bug in parsing 'realm' command from arguments

 tools/realm.c | 8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit 398fbf29edee478cc25aa2111a05c0a41a8e5126
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-17

    Add semi-transactional API for changing INI files
    
     * Basically we want to prevent firing off the 'changed'
       signal on RealmIniConfig while modifying. Wait until
       done.

 service/realm-ini-config.c  | 73 ++++++++++++++++++++++++++++++++++++++++-----
 service/realm-ini-config.h  |  8 +++++
 service/realm-sssd-config.c |  9 +++---
 3 files changed, 78 insertions(+), 12 deletions(-)

commit 6bc19bd7d9790868ce01220742664bb8ac0978fe
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-17

    Change the default idle timeout for the daemon

 service/realm-daemon.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 00e477c93b95dae798c4a5cc9149655b2d3245c8
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-12

    Keep daemon alive as long any client that made a method call is around
    
     * Add a ReleaseDaemon() call which allows a client to act like it
       went away. To be used as an optimization in one or two long running
       clients, like perhaps gdm.

 dbus/org.freedesktop.realmd.xml |  10 ++++
 service/realm-daemon.c          | 129 +++++++++++++++++++++++++++++++++-------
 service/realm-daemon.h          |   4 +-
 tests/release-daemon.py         |  41 +++++++++++++
 4 files changed, 160 insertions(+), 24 deletions(-)

commit 9d355ac3187624703f53bb00466d1064a9154506
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-12

    Switch to the new sssd ad providers

 service/realm-sssd-ad-provider.c |  2 +-
 service/realm-sssd-ad.c          | 20 ++++++--------------
 2 files changed, 7 insertions(+), 15 deletions(-)

commit c610f122bf8af3396b58d34400d4e89285facd66
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-12

    Cleanup the output of 'realm list' and 'realm discover'

 tools/realm-discover.c | 97 ++++++++++++++++++++++++++++++++++++++++++++++----
 tools/realm-enroll.c   | 75 --------------------------------------
 2 files changed, 90 insertions(+), 82 deletions(-)

commit 14cd7ba01c99c3f32d34ae2052c2147f815969b0
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-12

    Make certain tool helper functions non-static

 tools/realm-discover.c | 32 +++--------------------
 tools/realm-enroll.c   | 70 +++++++-------------------------------------------
 tools/realm.c          | 53 ++++++++++++++++++++++++++++++++++++++
 tools/realm.h          | 25 ++++++++++++------
 4 files changed, 82 insertions(+), 98 deletions(-)

commit b91c75f16af63f269d176795c878678a8dcdc593
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-11

    Add correct commands for enabling sssd in pam and nsswitch.conf

 service/realmd-redhat.conf | 2 ++
 1 file changed, 2 insertions(+)

commit 2219945378eb063e39838bb2e01f537a5976bac8
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-11

    Fix removal of domain from sssd.conf

 service/realm-sssd-ad.c | 2 +-
 service/realm-sssd.c    | 7 +++++++
 service/realm-sssd.h    | 2 ++
 3 files changed, 10 insertions(+), 1 deletion(-)

commit d6b70fbba1a8acfbed9a616cc4c93aec530edd3a
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-11

    Use correct _finish function

 service/realm-sssd-ad.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c8665949c8815a9ee0ceed06b0e6dc27e4e1d37e
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-11

    Use umask() correctly
    
     * Had inverted the mask

 service/realm-ini-config.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 69631377906935b817160e5eca2f321e5e922c02
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-11

    Add logic to make one AD provider the 'default'
    
     * Realms discovered by the default will be returned first

 service/realm-provider.c         | 15 +++++++++++++++
 service/realm-provider.h         |  3 +++
 service/realm-samba-provider.c   |  4 +++-
 service/realm-sssd-ad-provider.c |  4 +++-
 service/realmd-defaults.conf     |  3 +++
 5 files changed, 27 insertions(+), 2 deletions(-)

commit 63cd4566ab2478a40fd8e448cea0787849522406
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-11

    Strip remote dbus error codes when displaying with 'realm' tool

 tools/realm-discover.c | 1 +
 tools/realm-enroll.c   | 1 +
 2 files changed, 2 insertions(+)

commit d06bdfaadcedd85d56440bc0041069c5c50391a6
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-11

    Fix g_object_unref on NULL
    
     * Were trying to get the RealmSamba from the current async result
       rather than the outer one.

 service/realm-samba.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 81f2b25a715081cd4c804fe8ded886d2cc68605c
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-11

    Add a timeout to discovery if already have results
    
     * If one provider gives us results on a domain, and other providers
       take a really long time, then ignore the tardy fellows.

 service/realm-all-provider.c | 33 ++++++++++++++++++++++++++++++++-
 1 file changed, 32 insertions(+), 1 deletion(-)

commit b1e5c9306cd2ed0be4e95876ab1e9c3c3359f523
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-11

    Add IPA discovery and an IPA provider
    
     * Enrolling isn't implemented yet

 dbus/Makefile.am                             |   3 +-
 dbus/org.freedesktop.realmd.SssdIpa.provider |   4 +
 dbus/org.freedesktop.realmd.conf             |   2 +
 service/Makefile.am                          |   3 +
 service/realm-daemon.c                       |   2 +
 service/realm-ipa-discover.c                 | 736 +++++++++++++++++++++++++++
 service/realm-ipa-discover.h                 |  35 ++
 service/realm-sssd-ipa-provider.c            | 189 +++++++
 service/realm-sssd-ipa-provider.h            |  36 ++
 service/realm-sssd-ipa.c                     | 137 +++++
 service/realm-sssd-ipa.h                     |  37 ++
 11 files changed, 1183 insertions(+), 1 deletion(-)

commit 12a984e4bb36509e8988f523b8d89779dbff8bcb
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-11

    Include appropriate system service name for sssd

 service/realmd-defaults.conf | 1 +
 1 file changed, 1 insertion(+)

commit 7cbf1adfb98419bbf5b5a7ae4913c70d8bada96e
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-11

    Prevent samba net command from prompting for passwords
    
     * Make sure to pass '-k' to the samba net process
     * We'd rather fail in this case then hang waiting for a password

 service/realm-samba-enroll.c | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit bbab55d9ab6f7ce9fadcc40ccc59092bdeed7d53
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-11

    Factor out the building of discovery server variant
    
     * So it can be used by the IPA code later

 service/realm-ad-discover.c | 35 +++++++++--------------------------
 service/realm-discovery.c   | 29 +++++++++++++++++++++++++++++
 service/realm-discovery.h   |  4 ++++
 3 files changed, 42 insertions(+), 26 deletions(-)

commit 4a3a1adc44493cbcf03aac9065620837776f3dc7
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-11

    Factor out the common bits of the sssd realm
    
     * RealmSssd is a new base class for RealmSssdAd and the future
       RealmSssdIpa

 service/Makefile.am     |   1 +
 service/realm-sssd-ad.c | 366 ++++------------------------------------------
 service/realm-sssd-ad.h |   3 -
 service/realm-sssd.c    | 378 ++++++++++++++++++++++++++++++++++++++++++++++++
 service/realm-sssd.h    |  54 +++++++
 5 files changed, 459 insertions(+), 343 deletions(-)

commit 129cf2310931b9fa777bda3a06dca9013aa336eb
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-06

    One 'realm' tool with various sub-commands

 .gitignore             |   1 +
 tools/Makefile.am      |   8 ++--
 tools/realm-discover.c |  14 +++---
 tools/realm-enroll.c   | 120 +++++++++++++++++++++++++++++++++++--------------
 tools/realm.c          |  77 +++++++++++++++++++++++++++++++
 tools/realm.h          |  36 +++++++++++++++
 6 files changed, 213 insertions(+), 43 deletions(-)

commit 3a867cf6a6ae082d7a036c7c333c2b7ec97920bb
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-06

    Write out sssd.conf as 0600 permissions

 service/realm-ini-config.c  | 16 ++++++++++++++--
 service/realm-ini-config.h  |  1 +
 service/realm-sssd-config.c |  2 +-
 3 files changed, 16 insertions(+), 3 deletions(-)

commit 78a20079155ea9737d3717ea271bd03a106e812c
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-06

    Only discover once for active directory when multiple providers

 service/realm-ad-discover.c | 364 +++++++++++++++++++++++++++++++++-----------
 service/realm-diagnostics.c |   6 +
 service/realm-diagnostics.h |   2 +
 3 files changed, 281 insertions(+), 91 deletions(-)

commit de0486cd6370ba0249509e6da4244b64cd5ea876
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-06

    Remove double-release of realm proxy on failure

 tools/realm-enroll.c | 4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit b9e2274f6e5092ed03c6626aab8e31d8319525e7
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-04

    Fix memory leak

 service/realm-sssd-ad.c | 1 +
 1 file changed, 1 insertion(+)

commit 280a16d80f9d3772373b867b19d4cd127548b169
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-04

    Enable nss/pam when enabling sssd

 service/realm-sssd-ad-provider.c |  7 ++++++-
 service/realm-sssd-ad.c          | 38 +++++++++++++++++++++++++++++++++-----
 2 files changed, 39 insertions(+), 6 deletions(-)

commit 3fe9e067d52875b0c0d0d0745ea93568a8a19362
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-04

    Clearer message when failed to configure pam/nss for winbind

 service/realm-samba-winbind.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 32dcf806867a547c4a2d47e504c737a130c5d399
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-03

    Add the SSSD AD realm provider
    
     * Uses samba's 'net' to enroll, and then sets up sssd

 dbus/Makefile.am                              |   6 +-
 dbus/org.freedesktop.realmd.Samba.service.in  |   2 +-
 dbus/org.freedesktop.realmd.SssdAd.provider   |   4 +
 dbus/org.freedesktop.realmd.SssdAd.service.in |   4 +
 dbus/org.freedesktop.realmd.conf              |   2 +
 service/Makefile.am                           |   2 +
 service/realm-daemon.c                        |   2 +
 service/realm-sssd-ad-provider.c              | 185 +++++++
 service/realm-sssd-ad-provider.h              |  36 ++
 service/realm-sssd-ad.c                       | 759 ++++++++++++++++++++++++++
 service/realm-sssd-ad.h                       |  40 ++
 service/realmd-debian.conf                    |   6 +
 service/realmd-redhat.conf                    |   4 +
 13 files changed, 1049 insertions(+), 3 deletions(-)

commit 3103b10cf7fbd664c0e85367bcbaee26dae168d6
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-03

    Add functions for loading sssd.conf files
    
     * Add appropriate tests for it

 .gitignore                   |   1 +
 service/Makefile.am          |   1 +
 service/realm-sssd-config.c  | 175 +++++++++++++++++++++++++++
 service/realm-sssd-config.h  |  47 ++++++++
 service/realmd-defaults.conf |   1 +
 tests/Makefile.am            |   8 ++
 tests/test-sssd-config.c     | 273 +++++++++++++++++++++++++++++++++++++++++++
 7 files changed, 506 insertions(+)

commit faa31c39517839181c57d73ef6eafa3d92a37052
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-03

    Find enrolled realms when --leave in realm-enroll
    
     * Don't just discover any domain to --leave, instead look
       down the list for discovered realms

 tools/realm-enroll.c | 150 ++++++++++++++++++++++++++++++++++-----------------
 1 file changed, 100 insertions(+), 50 deletions(-)

commit c688e3a3ead52c7975bef11545679793b413c849
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-03

    Don't run file watch test when running in slow mode
    
     * And fix the program name of test-ini-config tests

 tests/test-ini-config.c | 17 +++++++++--------
 1 file changed, 9 insertions(+), 8 deletions(-)

commit e01280a04ac9e7ded1374bc42f34322c882c649c
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-03

    Add function to simply restart a service, without enabling
    
     * Rename the instance functions while doing so

 service/realm-service.c | 160 ++++++++++++++++++++++++++++++++++++------------
 service/realm-service.h |  98 +++++++++++++++--------------
 2 files changed, 173 insertions(+), 85 deletions(-)

commit c6e077b96587731578255c0554720b8ea09f9b37
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-03

    Respect the service name passed into realm_service_new
    
     * Previously hard coded to 'winbind' accidentally

 service/realm-service.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 62e09155b0ed243226efd60faccd88504f978c18
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-03

    Remove samba specific config change functions
    
     * And use the ini functions directly.
     * This has the benefit of reflecting changes immediately in loaded
       config objects.
     * Have realm_samba_enroll_async() return the settings that need to
       be set in smb.conf rather than setting directly. This also helps
       later implementation of the sssd provider

 service/realm-samba-config.c  | 124 ------------------------------------------
 service/realm-samba-config.h  |  15 -----
 service/realm-samba-enroll.c  |  43 +++++++--------
 service/realm-samba-enroll.h  |   1 +
 service/realm-samba-winbind.c |  26 +++++----
 service/realm-samba-winbind.h |   6 +-
 service/realm-samba.c         |  50 +++++++++++++++--
 7 files changed, 84 insertions(+), 181 deletions(-)

commit 76e5f12bd03c1d4a8dec65cacc3b94957addd130
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-03

    Respect package set passed into realm_packages_install_xx()
    
     * And update the package-set names we have in our config files

 service/realm-packages.c     | 7 ++++---
 service/realmd-debian.conf   | 2 +-
 service/realmd-defaults.conf | 2 ++
 service/realmd-redhat.conf   | 2 +-
 4 files changed, 8 insertions(+), 5 deletions(-)

commit e2a214bbceec34284f65861136b535660eed4ab9
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-03

    Mark realm_ini_config_change() varargs as null terminated
    
     * So we get warnings if used incorrectly

 service/realm-ini-config.h | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b229a2d851caddee218341efad6355e5d07b2cf0
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-03

    Expose the code that adds/removes from a config list
    
     * So that other code can use this as a building block

 service/realm-ini-config.c | 107 +++++++++++++++++++++++----------------------
 service/realm-ini-config.h |   7 +++
 tests/test-ini-config.c    |  12 ++---
 3 files changed, 68 insertions(+), 58 deletions(-)

commit a3b0cb926756876c73c226654759d7935384a122
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-03

    Handle filenames in RealmIniConfig better
    
     * Track filenames after a write
     * Accept NULL to both read/write functions and use the
       previously used filename

 service/realm-ini-config.c | 20 ++++++++++++++------
 tests/test-ini-config.c    |  1 -
 2 files changed, 14 insertions(+), 7 deletions(-)

commit acc7d4f9e71d0285abf87096551a248fe9662862
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-03

    Don't include comments as part of previous config section
    
     * Comments often come before a section header, so we treat them as
       part of the next section, if no values come inbetween

 service/realm-ini-config.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a5c3b227b3d8de21b634a31706008f2d48b6f9b3
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-03

    Add realm_ini_config_remove_section() to remove config sections

 service/realm-ini-config.c | 47 +++++++++++++++++++++++++-
 service/realm-ini-config.h |  3 ++
 tests/test-ini-config.c    | 84 ++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 133 insertions(+), 1 deletion(-)

commit d982879331bf483ef29b676d0412bfd8be5102c5
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-03

    Add realm_ini_config_have_section()
    
     * To check for whether a section exists in config file

 service/realm-ini-config.c | 10 ++++++++++
 service/realm-ini-config.h |  3 +++
 tests/test-ini-config.c    | 13 +++++++++++++
 3 files changed, 26 insertions(+)

commit 4530e213274e9f9bb4198a0404e4239d99680cf8
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-03

    Add function for writing ini config to a string
    
     * realm_ini_config_write_string()
     * And use in tests as appropriate.

 service/realm-ini-config.c |  29 ++++++++--
 service/realm-ini-config.h |   2 +
 tests/test-ini-config.c    | 139 ++++++++-------------------------------------
 3 files changed, 51 insertions(+), 119 deletions(-)

commit d63eacd79fc757858330612ddbc83e3cc62f604d
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-03

    Fix bug config line added after last wouldn't get serialized correctly

 service/realm-ini-config.c | 3 +++
 1 file changed, 3 insertions(+)

commit 810c82dcb39e452d26670a679b828ac7cd7ec3ab
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-03

    Fix null pointer dereference when discovery fails

 service/realm-ad-discover.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit b584fc15ab076a31bf820c8886f0e48a3c2c4878
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-03

    Support parsing logins according to arbittary LoginFormat
    
     * Needed for the sssd provider
     * Factor out the parsing and formatting of logins
     * Test this stuff

 .gitignore                 |   1 +
 service/Makefile.am        |   1 +
 service/realm-kerberos.c   |  51 +++++++++++++++++
 service/realm-kerberos.h   |  11 ++++
 service/realm-login-name.c | 124 +++++++++++++++++++++++++++++++++++++++
 service/realm-login-name.h |  37 ++++++++++++
 service/realm-samba.c      |  48 ++++------------
 tests/Makefile.am          |   6 ++
 tests/test-login-name.c    | 140 +++++++++++++++++++++++++++++++++++++++++++++
 9 files changed, 381 insertions(+), 38 deletions(-)

commit ef8145f26218cfae0eff3019568f3537474f986a
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-03

    Changing permitted logins should be asynchronous
    
     * Because it can require restarting a service

 service/realm-kerberos.c | 62 +++++++++++++++++++++++++++++-------------------
 service/realm-kerberos.h |  8 ++++++-
 service/realm-samba.c    | 24 ++++++++++++++++++-
 3 files changed, 67 insertions(+), 27 deletions(-)

commit 5c247135e9f6b85f89599556de562d737ae1b107
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-03

    Refactor how providers startup
    
     * Most of the code is in RealmProvider now, with derived providers
       setting their dbus_name and dbus_path on RealmProviderClass

 dbus/realm-dbus-constants.h    |   6 --
 service/realm-all-provider.c   |  76 ++-------------
 service/realm-all-provider.h   |   4 -
 service/realm-daemon.c         |   7 +-
 service/realm-provider.c       | 208 ++++++++++++++++++++++++++++++++++-------
 service/realm-provider.h       |   8 ++
 service/realm-samba-provider.c |  78 +++-------------
 service/realm-samba-provider.h |   4 -
 tools/realm-discover.c         |   4 +-
 tools/realm-enroll.c           |   8 +-
 10 files changed, 210 insertions(+), 193 deletions(-)

commit 8575685f6c14990d4062c3e2eb5d5f92b72eda64
Author: Stef Walter <stefw@gnome.org>
Date:   2012-06-21

    Release version 0.4

 NEWS         | 4 ++++
 configure.ac | 2 +-
 2 files changed, 5 insertions(+), 1 deletion(-)

commit fd8db9355784e768784ee9e42de8a1a8ea1e2238
Author: Stef Walter <stefw@gnome.org>
Date:   2012-06-21

    Licensing fixes
    
     * Simpler license header for realm-command.[ch]
     * Cleanup rpmlint warnings
     * Fix addresses in COPYING

 COPYING                 |  6 +++---
 service/realm-command.c | 18 +++++-------------
 service/realm-command.h | 18 +++++-------------
 3 files changed, 13 insertions(+), 29 deletions(-)

commit 80b59926e68813fa5de94911b8c0be70b5f84938
Author: Stef Walter <stefw@gnome.org>
Date:   2012-06-21

    Don't use SOA for MSDCS subdomain, use SRV record directly
    
    When determining whether this is an active directory domain
    we use the _msdcs subdomain. However this may not necessarily
    be an actual zone. So lookup the DNS SRV records directly
    gets around that problem. Eg:
    
     _kerberos._tcp.dc._msdcs.example.com

 service/realm-ad-discover.c | 48 ++++++++++++++++++++++-----------------------
 1 file changed, 24 insertions(+), 24 deletions(-)

commit 9fd945e402702592c537f13be23175d2826ec76d
Author: Stef Walter <stefw@gnome.org>
Date:   2012-06-19

    Release version 0.3

 Makefile.am  | 4 ++++
 NEWS         | 3 +++
 configure.ac | 2 +-
 3 files changed, 8 insertions(+), 1 deletion(-)

commit 679669c8c275d37b2c1ed3e8db92da47b693c869
Author: Stef Walter <stefw@gnome.org>
Date:   2012-06-19

    Packaging fixes, install to correct directory

 configure.ac        | 2 +-
 service/Makefile.am | 6 +++---
 2 files changed, 4 insertions(+), 4 deletions(-)

commit a490b381e674bfe57be586f6ce44e13418ff92b7
Author: Stef Walter <stefw@gnome.org>
Date:   2012-06-19

    Configure debug flags before warnings
    
    So that _FORTIFY_SOURCE can depend on optimization

 configure.ac | 48 ++++++++++++++++++++++++------------------------
 1 file changed, 24 insertions(+), 24 deletions(-)

commit 3e3bebbf4d0294f71a7f7531c4701c85476b5854
Author: Stef Walter <stefw@gnome.org>
Date:   2012-06-15

    Release version 0.2

 NEWS         | 7 +++++++
 configure.ac | 2 +-
 2 files changed, 8 insertions(+), 1 deletion(-)

commit 1b1284a911b8439d0c73b03eaca98ee2510c4681
Author: Stef Walter <stefw@gnome.org>
Date:   2012-06-15

    Remove unused ClientSoftware property, accidentally added
    
    And whitespace cleanup

 dbus/org.freedesktop.realmd.xml | 7 +------
 1 file changed, 1 insertion(+), 6 deletions(-)

commit 9c17dd2d2fa8c9c30ebc6114d4a35f4c86a1927c
Author: Stef Walter <stefw@gnome.org>
Date:   2012-06-15

    Add Name and Version properties to the dbus interface
    
    Mostly for informational purposes.

 dbus/org.freedesktop.realmd.xml | 10 ++++++++++
 service/realm-all-provider.c    |  3 +++
 service/realm-provider.c        |  3 +++
 service/realm-samba-provider.c  |  3 +++
 4 files changed, 19 insertions(+)

commit 6ce7427246dcc75b229cc03493a305583d390c62
Author: Stef Walter <stefw@gnome.org>
Date:   2012-06-15

    Use SuggestedAdministrator as a default user in realm-enroll

 tools/realm-enroll.c | 8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit 4570b14cfb37e934fb8547808428c09fc4a7a721
Author: Stef Walter <stefw@gnome.org>
Date:   2012-06-14

    Clearly print out what DNS records we look at for AD

 service/realm-ad-discover.c | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 477a2ad94fcc17d8062a29ca96bd7a83b21b16e7
Author: Stef Walter <stefw@gnome.org>
Date:   2012-06-14

    Temporarily add info to README about AD discovery
    
    This will go into fuller docs

 README | 9 +++++++++
 1 file changed, 9 insertions(+)

commit 069ccd4a818a681346779bd4382ed9285010aa92
Author: Stef Walter <stefw@gnome.org>
Date:   2012-06-14

    Add realm-discover tool to identify a domain

 .gitignore             |   1 +
 tools/Makefile.am      |   5 +-
 tools/realm-discover.c | 252 +++++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 256 insertions(+), 2 deletions(-)

commit 6898e049f9b6f1ca898bbc3088eb0725642de69f
Author: Stef Walter <stefw@gnome.org>
Date:   2012-06-14

    Add 'Details' property to Kerberos realm interface
    
    This is for informational data, generally not to be acted on
    by clients but can display for diagnostic reasons if desired.

 dbus/org.freedesktop.realmd.xml | 10 ++++++++++
 service/realm-samba.c           | 27 ++++++++++++++++++++++++++-
 2 files changed, 36 insertions(+), 1 deletion(-)

commit af92a2df67bc2db863561b3302377728e48b1f75
Author: Stef Walter <stefw@gnome.org>
Date:   2012-06-14

    Add operation_id to most dbus method calls, fix diagnostics
    
    A client can pass in a unique operation_id. In the future this
    allows us to add cancellation.
    
    In the short-term we use this operation_id to provide useful
    diagnostics from the 'all' provider.

 dbus/org.freedesktop.realmd.xml |   8 ++++
 service/realm-ad-discover.c     |   1 +
 service/realm-all-provider.c    | 101 ++++++++++++++++++++++++++++++++++++----
 service/realm-diagnostics.c     |  54 +++++++++++++++------
 service/realm-diagnostics.h     |   6 +++
 service/realm-kerberos.c        |  30 ++++++++++--
 service/realm-provider.c        |   8 ++--
 tests/change-permitted.py       |   4 +-
 tests/discover-python.py        |  10 ++--
 tests/enroll-machine.py         |  12 ++---
 tools/realm-enroll.c            |  19 +++++---
 11 files changed, 202 insertions(+), 51 deletions(-)

commit aa5c73828a62b6d63f0f96aec1d3a7679b583fb8
Author: Stef Walter <stefw@gnome.org>
Date:   2012-06-14

    Add debug messages when loading providers
    
    And fix REALM_DEBUG_PROVIDER debug flag

 service/realm-all-provider.c | 7 ++++++-
 service/realm-debug.c        | 1 +
 2 files changed, 7 insertions(+), 1 deletion(-)

commit 3c4191ac543f50cf6e90ea9922c2184e88e6d1c3
Author: Stef Walter <stefw@gnome.org>
Date:   2012-06-14

    Fix provider path regression in previous commit

 service/Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 28d14efdddf2811183ef9c2c3478a6f64778064a
Author: Stef Walter <stefw@gnome.org>
Date:   2012-06-14

    Fix compiler warnings, add fortify source
    
    We only enable fortify source when optimization is enabled
    otherwise it becomes a source of warnings itself.

 configure.ac                 | 15 +++++++++++++++
 service/realm-ad-discover.c  |  3 ++-
 service/realm-all-provider.c |  3 +++
 service/realm-debug.c        |  8 +++++++-
 service/realm-kerberos.c     |  2 +-
 service/realm-provider.c     |  2 +-
 6 files changed, 29 insertions(+), 4 deletions(-)

commit c0ec7e29a195ff02301ca36225fba25a60959251
Author: Stef Walter <stefw@gnome.org>
Date:   2012-06-14

    Add proper dbus service files, and reorganize install
    
    Choose a less confusing name for private files (those in
    /usr/lib/realmd). Add dbus service files which were
    conspicuously missing.

 .gitignore                                    |  1 +
 Makefile.decl                                 | 34 +++++++++++++++++++++++++++
 configure.ac                                  |  7 ++++--
 dbus/Makefile.am                              | 19 ++++++++++++---
 dbus/org.freedesktop.realmd.Samba.provider    |  4 ++++
 dbus/org.freedesktop.realmd.Samba.service.in  |  4 ++++
 dbus/org.freedesktop.realmd.service.in        |  4 ++++
 service/Makefile.am                           | 19 ++++++---------
 service/org.freedesktop.realmd.Samba.provider |  4 ----
 service/realm-samba-enroll.c                  |  2 +-
 service/realm-settings.c                      |  4 ++--
 tests/Makefile.am                             |  2 +-
 12 files changed, 79 insertions(+), 25 deletions(-)

commit 166e0cf13304663ab500093455924f0e3b0d3266
Author: Stef Walter <stefw@gnome.org>
Date:   2012-06-13

    Fix use of uninitialized variable

 service/realm-ini-config.c | 1 -
 1 file changed, 1 deletion(-)

commit 024b6985e54ce5392c4665aa273b223f0e7f3bbe
Author: Stef Walter <stefw@gnome.org>
Date:   2012-06-13

    Release 0.1

 .gitignore          | 2 ++
 NEWS                | 4 +---
 configure.ac        | 4 ++--
 dbus/Makefile.am    | 4 ++++
 service/Makefile.am | 2 ++
 tools/Makefile.am   | 3 ++-
 6 files changed, 13 insertions(+), 6 deletions(-)

commit 0de0c0a8fd4a7006930a91a141404e95f0b44ecf
Author: Stef Walter <stefw@gnome.org>
Date:   2012-06-12

    Fix a crasher when enrolling or unenrolling

 service/realm-service.c | 13 ++++++++-----
 1 file changed, 8 insertions(+), 5 deletions(-)

commit e27a442eafbad8e2dfa47ccf815bd1d76ae70e8b
Author: Stef Walter <stefw@gnome.org>
Date:   2012-06-12

    Try to guess when administrative credentials are needed
    
    Samba's 'net' command and AD itself don't make it very easy to tell
    when administrative credentials are needed to enroll. We try to
    detect this by scraping the output of 'net ads join'

 service/realm-samba-enroll.c | 31 +++++++++++++++++++++++++++----
 1 file changed, 27 insertions(+), 4 deletions(-)

commit 7b8b8eb3b271edcfc3a4f17defad5abc4f4d8e36
Author: Stef Walter <stefw@gnome.org>
Date:   2012-06-11

    Another instance of PK_PROGRESS_TYPE_SUBPERCENTAGE

 tests/frob-install-packages.c | 4 ----
 1 file changed, 4 deletions(-)

commit 3bbd5674ce77d16e6b7fa85eff3a887c6c60d8b8
Author: Stef Walter <stefw@gnome.org>
Date:   2012-06-11

    Remove use of PK_PROGRESS_TYPE_SUBPERCENTAGE
    
    Isn't yet released

 service/realm-packages.c | 4 ----
 1 file changed, 4 deletions(-)

commit 1f0590d97118434822409a0b5c3f231281a07033
Author: Stef Walter <stefw@gnome.org>
Date:   2012-06-11

    Fix mistake in the enroll-machine.py test script

 tests/enroll-machine.py | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 2c5ec55f2a0ac57e5059c49810f582fa4688f33b
Author: Stef Walter <stefw@gnome.org>
Date:   2012-06-11

    Add initial customization for debian based OS's

 configure.ac               |  4 +---
 service/realmd-debian.conf | 26 ++++++++++++++++++++++++++
 2 files changed, 27 insertions(+), 3 deletions(-)

commit 665ab55445211d1a75cec53dfed8d7074580e0a8
Author: Stef Walter <stefw@gnome.org>
Date:   2012-06-11

    Avoid package-kit sync method in our tests
    
     * Were only used in tests
     * Not yet released on major distros

 tests/frob-install-packages.c | 41 ++++++++++++++++++++++++++++++++++-------
 1 file changed, 34 insertions(+), 7 deletions(-)

commit d1ab1f998f11f5a9a93441991040c1a8622be706
Author: Stef Walter <stefw@gnome.org>
Date:   2012-06-08

    Add support for Upstart to enable/disable system services

 dbus/Makefile.am                  |  11 +-
 dbus/org.freedesktop.systemd1.xml | 224 -----------------
 service/Makefile.am               |   4 +-
 service/realm-command.c           |  22 ++
 service/realm-packages.c          |  29 ++-
 service/realm-samba-winbind.c     |  16 +-
 service/realm-service-systemd.c   | 307 +++++++++++++++++++++++
 service/realm-service-systemd.h   |  41 +++
 service/realm-service-upstart.c   | 364 +++++++++++++++++++++++++++
 service/realm-service-upstart.h   |  41 +++
 service/realm-service.c           | 508 ++++++++++++++++++++++++++++++++++++++
 service/realm-service.h           | 143 +++++++++++
 service/realm-system.c            | 273 --------------------
 service/realm-system.h            |  42 ----
 service/realmd-defaults.conf      |   2 +-
 15 files changed, 1459 insertions(+), 568 deletions(-)

commit efb02e781e1e8d5a02550e6536c53646ad9fdb72
Author: Stef Walter <stefw@gnome.org>
Date:   2012-06-06

    Fix autogen.sh regression due to file rename

 autogen.sh | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 70ceb87f8f12482b61f42ae08bcdda9bb1c13272
Author: Stef Walter <stefw@gnome.org>
Date:   2012-06-06

    Always store Samba permitted logins in lower case
    
     * Since windows logins are case insensitive

 service/realm-samba.c | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 8f74060d812211870475e86592fbd59d0bd00d4e
Author: Stef Walter <stefw@gnome.org>
Date:   2012-06-06

    Better docs for PermittedLogin stuff

 dbus/org.freedesktop.realmd.xml | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 8c96f022fec9ed52921e4cd9bddb4ba6c8f9c534
Author: Stef Walter <stefw@gnome.org>
Date:   2012-06-05

    Refactor how changing list values in the samba config works

 service/realm-ini-config.c   | 137 +++++++++++++++++++++++++++++++++++++++++--
 service/realm-ini-config.h   |  25 +++++++-
 service/realm-samba-config.c |  12 ++--
 service/realm-samba.c        |  13 ++--
 tests/test-ini-config.c      |  20 ++++---
 5 files changed, 179 insertions(+), 28 deletions(-)

commit b18f241888b54aa24388082ef75ad99941653b41
Author: Stef Walter <stefw@gnome.org>
Date:   2012-06-05

    Implement list of permitted logins
    
     * This is not actually enforced by winbind, but will be enforced
       by sssd.

 dbus/org.freedesktop.realmd.xml          |  30 +++++--
 service/org.freedesktop.realmd.policy.in |  10 +++
 service/realm-ini-config.c               |  77 ++++++++++++++---
 service/realm-ini-config.h               |  15 +++-
 service/realm-kerberos.c                 |  58 ++++++++++++-
 service/realm-kerberos.h                 |   6 ++
 service/realm-samba-config.c             |  75 ++++++++++++++++
 service/realm-samba-config.h             |   7 ++
 service/realm-samba-enroll.c             |  18 +++-
 service/realm-samba.c                    | 142 +++++++++++++++++++++++++++----
 tests/change-permitted.py                |  77 +++++++++++++++++
 tests/test-ini-config.c                  | 113 ++++++++++++++++++++++++
 12 files changed, 584 insertions(+), 44 deletions(-)

commit 26537d8533edc649761f33f7a85a8cca0e4eac9d
Author: Stef Walter <stefw@gnome.org>
Date:   2012-06-04

    Allow leaving a domain even if the computer account is broken

 service/realm-samba-enroll.c | 16 +++++++++-------
 service/realm-samba.c        | 15 +++++----------
 2 files changed, 14 insertions(+), 17 deletions(-)

commit 226f634dbbacc6fd7530ec3e3643523a7b76df59
Author: Stef Walter <stefw@gnome.org>
Date:   2012-06-04

    Add SuggestedAdiministrator property to kerberos domains

 dbus/org.freedesktop.realmd.xml | 5 +++++
 dbus/realm-dbus-constants.h     | 1 -
 service/realm-samba.c           | 2 +-
 3 files changed, 6 insertions(+), 2 deletions(-)

commit eea477b7e23fc55347cf82738bbca0720ba83679
Author: Stef Walter <stefw@gnome.org>
Date:   2012-06-01

    Rename KerberosRealm to Kerberos
    
     * Makes for much more intelligent function calls and types

 dbus/org.freedesktop.realmd.xml |  4 +--
 dbus/realm-dbus-constants.h     |  2 +-
 service/realm-kerberos.c        | 17 ++++++-------
 service/realm-kerberos.h        |  4 +--
 tools/realm-enroll.c            | 54 ++++++++++++++++++++---------------------
 5 files changed, 40 insertions(+), 41 deletions(-)

commit b55faf00b81d6c68570ba87c29e7530f13dc1d67
Author: Stef Walter <stefw@gnome.org>
Date:   2012-05-31

    Add 'Domain' property to realm objects

 dbus/org.freedesktop.realmd.xml | 5 +++++
 service/realm-samba.c           | 5 +++++
 2 files changed, 10 insertions(+)

commit cdd70be7dffe5dd5a0f8f8916168375bbffa016d
Author: Stef Walter <stefw@gnome.org>
Date:   2012-05-31

    Return an array of realms on discover
    
     * Discover can return multiple realms
     * This allows us to chain calls better, and have mulitple
       discovered realms returned by a provider
     * No longer returned the discovered information
     * Cleanup and testing

 dbus/org.freedesktop.realmd.xml |  7 +---
 service/realm-all-provider.c    | 83 +++++++++++++++++++++++------------------
 service/realm-errors.c          |  1 -
 service/realm-errors.h          |  1 -
 service/realm-provider.c        | 41 ++++++++++----------
 service/realm-provider.h        |  3 +-
 service/realm-samba-provider.c  | 30 ++++++---------
 tests/discover-python.py        | 17 ++++-----
 tests/enroll-machine.py         | 16 +++++---
 tools/realm-enroll.c            | 33 ++++++++++++----
 10 files changed, 123 insertions(+), 109 deletions(-)

commit 994f66d9d579f7a2e9492236dec5fc9aa881b0fc
Author: Stef Walter <stefw@gnome.org>
Date:   2012-05-31

    Support discovering the default domain
    
     * Pass an empty string to Discover()

 service/Makefile.am         |   1 +
 service/realm-ad-discover.c |  91 +++++++++++----
 service/realm-network.c     | 269 ++++++++++++++++++++++++++++++++++++++++++++
 service/realm-network.h     |  33 ++++++
 4 files changed, 371 insertions(+), 23 deletions(-)

commit 8079a239e696a8f999260547e5263eacc20b5e91
Author: Stef Walter <stefw@gnome.org>
Date:   2012-05-31

    Fix initialization of samba realms
    
     * Broken by a previous commit

 service/realm-provider.c       |  4 +++-
 service/realm-samba-provider.c | 29 +++++++++++++++++++++++++++++
 service/realm-samba.c          | 30 ++++++++++++++----------------
 service/realm-samba.h          |  4 ++--
 4 files changed, 48 insertions(+), 19 deletions(-)

commit 24fbeb77d9ceed18be1721de624338aef1b234ee
Author: Stef Walter <stefw@gnome.org>
Date:   2012-05-30

    Add a{sv} options to enroll/unenroll, currently unused

 dbus/org.freedesktop.realmd.xml |  4 ++++
 service/realm-kerberos.c        | 12 ++++++++----
 tools/realm-enroll.c            |  8 ++++++--
 3 files changed, 18 insertions(+), 6 deletions(-)

commit aa5c4aff689dd7d91b469651d4c089f96eec85cc
Author: Stef Walter <stefw@gnome.org>
Date:   2012-05-29

    Rename realm_platform_xxx to realm_settings_xxx

 service/Makefile.am           |   2 +-
 service/realm-command.c       |   4 +-
 service/realm-daemon.c        |   6 +-
 service/realm-ini-config.c    |   2 +-
 service/realm-packages.c      |   4 +-
 service/realm-platform.c      | 178 ------------------------------------------
 service/realm-platform.h      |  47 -----------
 service/realm-samba-config.c  |   4 +-
 service/realm-samba-enroll.c  |   4 +-
 service/realm-samba-winbind.c |   8 +-
 service/realm-settings.c      | 178 ++++++++++++++++++++++++++++++++++++++++++
 service/realm-settings.h      |  47 +++++++++++
 tests/Makefile.am             |   2 +-
 tests/test-ini-config.c       |   6 +-
 14 files changed, 246 insertions(+), 246 deletions(-)

commit 4d5b6b14d56f1b3d0573129db5e06661cc8aa8f2
Author: Stef Walter <stefw@gnome.org>
Date:   2012-05-29

    Refactor to make simpler to add different realms

 service/Makefile.am            |   4 +-
 service/realm-kerberos-realm.c | 548 -----------------------------------------
 service/realm-kerberos-realm.h |  75 ------
 service/realm-kerberos.c       | 548 +++++++++++++++++++++++++++++++++++++++++
 service/realm-kerberos.h       |  75 ++++++
 service/realm-provider.c       | 107 ++++++++
 service/realm-provider.h       |  12 +-
 service/realm-samba-provider.c | 105 +-------
 service/realm-samba-realm.c    | 456 ----------------------------------
 service/realm-samba-realm.h    |  40 ---
 service/realm-samba.c          | 456 ++++++++++++++++++++++++++++++++++
 service/realm-samba.h          |  40 +++
 12 files changed, 1248 insertions(+), 1218 deletions(-)

commit 9124a14808cf7b5cef665b250b88b894643dabcc
Author: Stef Walter <stefw@gnome.org>
Date:   2012-05-04

    Unbreak the enroll test script

 tests/enroll-machine.py | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 78ef978300867029a679ef0d8e018670cbe1a612
Author: Stef Walter <stefw@gnome.org>
Date:   2012-05-04

    Fix up property access for RealmKerberosRealm

 service/realm-kerberos-realm.c | 7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit c08ad49a315448facaa24806d7fb9785aa57fadb
Author: Stef Walter <stefw@gnome.org>
Date:   2012-05-04

    No need to authorize property accesses

 service/realm-kerberos-realm.c | 15 +++------------
 service/realm-provider.c       | 15 +++------------
 2 files changed, 6 insertions(+), 24 deletions(-)

commit c5415e3a0cc8d037aabf4075267127fbc7868c17
Author: Stef Walter <stefw@gnome.org>
Date:   2012-05-04

    Use vfuncs for handling dbus calls instead of signals

 service/realm-kerberos-realm.c | 55 +++++++++++++++++++++++-------------------
 service/realm-provider.c       | 29 ++++++++++++++--------
 2 files changed, 49 insertions(+), 35 deletions(-)

commit 21bbf19db193a811ca9a13481078e7f1492d9a47
Author: Stef Walter <stefw@gnome.org>
Date:   2012-05-04

    A number of tweaks and cleanups

 ChangeLog                      |  2 +-
 autogen.sh                     |  2 +-
 service/realm-all-provider.c   | 15 +++++---
 service/realm-samba-provider.c | 86 +++++++++++++++---------------------------
 service/realm-samba-realm.c    |  1 -
 5 files changed, 41 insertions(+), 65 deletions(-)

commit b0c80f2d6344439f59af59baf086b42bc9ec3895
Author: Stef Walter <stefw@gnome.org>
Date:   2012-05-04

    Better formatted diagnostic error messages

 service/realm-diagnostics.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 5a36879376a902731951d4ef7a9a70e03a6bf5d7
Author: Stef Walter <stefw@gnome.org>
Date:   2012-05-04

    Correctly return an error when discovered nothing

 service/realm-samba-provider.c | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit d9e04340f87ea2c5940dba4b9a7df00ff33828cc
Author: Stef Walter <stefw@gnome.org>
Date:   2012-05-04

    Add methods for enroll with passwords, and rename credential cache ones

 dbus/org.freedesktop.realmd.xml |  22 +++-
 dbus/realm-dbus-constants.h     |   2 +-
 service/Makefile.am             |   2 +
 service/realm-errors.c          |   2 +-
 service/realm-errors.h          |   2 +-
 service/realm-kerberos-realm.c  | 246 +++++++++++++++++++++++++++++++++++++---
 service/realm-samba-enroll.c    |   6 +-
 tests/enroll-machine.py         | 104 +++++++++++------
 tools/realm-enroll.c            |  20 ++--
 9 files changed, 336 insertions(+), 70 deletions(-)

commit e70c4dbdabc6710db2524de40b14d842e88ca9ba
Author: Stef Walter <stefw@gnome.org>
Date:   2012-05-04

    Interface documentation

 dbus/org.freedesktop.realmd.xml | 61 +++++++++++++++++++++++++++++++++++++++++
 1 file changed, 61 insertions(+)

commit 9358e812f8341b9b604d9dd9f0792990f0353f06
Author: Stef Walter <stefw@gnome.org>
Date:   2012-05-04

    Return correct errors if already or not enrolled in realm

 dbus/realm-dbus-constants.h    |  2 ++
 service/realm-errors.c         |  2 ++
 service/realm-errors.h         |  2 ++
 service/realm-kerberos-realm.c | 11 +++++++++
 service/realm-samba-realm.c    | 51 +++++++++++++++++++++++++++++-------------
 5 files changed, 52 insertions(+), 16 deletions(-)

commit d52ab95fd1f4fdac10397a42c42261944b57897b
Author: Stef Walter <stefw@gnome.org>
Date:   2012-05-04

    Properly track changes to the samba config file
    
     * And propagate changes to realm properties via PropertiesChanged

 service/realm-ini-config.c     | 248 +++++++++++++++++++++++++++++++++++------
 service/realm-ini-config.h     |  12 +-
 service/realm-kerberos-realm.c |   8 --
 service/realm-samba-config.c   |  33 ++++--
 service/realm-samba-config.h   |   3 +
 service/realm-samba-provider.c |   8 +-
 service/realm-samba-realm.c    | 115 +++++++++++++------
 service/realm-samba-realm.h    |   4 +-
 tests/Makefile.am              |   6 +
 tests/test-ini-config.c        | 102 ++++++++++++++---
 10 files changed, 427 insertions(+), 112 deletions(-)

commit b34988b6b47238e7768e0d9a21534a822ced8592
Author: Stef Walter <stefw@gnome.org>
Date:   2012-05-04

    Add the realm-enroll tool

 .gitignore           |   2 +
 Makefile.am          |   2 +-
 configure.ac         |  38 +++++
 tools/Makefile.am    |  21 +++
 tools/realm-enroll.c | 468 +++++++++++++++++++++++++++++++++++++++++++++++++++
 5 files changed, 530 insertions(+), 1 deletion(-)

commit f0e7c8c9b346cb4101f0a2ca1b3baef4459558ef
Author: Stef Walter <stefw@gnome.org>
Date:   2012-05-03

    Refactor the interface and add aggregate provider
    
     * The all provider aggregates the results from other
       providers
     * Discover is a provider level interface
     * Realms are discovered

 .gitignore                        |     7 +-
 configure.ac                      |     7 +-
 dbus/Makefile.am                  |     4 +
 dbus/org.freedesktop.realmd.xml   |    36 +-
 dbus/realm-dbus-constants.h       |    10 +-
 dbus/realm-dbus-generated.c       |  3537 ----------
 dbus/realm-dbus-generated.h       |   504 --
 dbus/realm-dbus-systemd.c         | 12596 ------------------------------------
 dbus/realm-dbus-systemd.h         |  1609 -----
 service/Makefile.am               |     8 +-
 service/realm-ad-discover.c       |    39 +-
 service/realm-ad-discover.h       |    10 +-
 service/realm-all-provider.c      |   523 ++
 service/realm-all-provider.h      |    38 +
 service/realm-daemon.c            |     6 +-
 service/realm-debug.h             |     3 +-
 service/realm-diagnostics.c       |    12 +-
 service/realm-errors.c            |     1 +
 service/realm-errors.h            |     1 +
 service/realm-kerberos-provider.c |   347 -
 service/realm-kerberos-provider.h |    86 -
 service/realm-kerberos-realm.c    |   330 +
 service/realm-kerberos-realm.h    |    75 +
 service/realm-provider.c          |   180 +
 service/realm-provider.h          |    66 +
 service/realm-samba-enroll.h      |     2 -
 service/realm-samba-provider.c    |   362 +-
 service/realm-samba-provider.h    |     2 +-
 service/realm-samba-realm.c       |   387 ++
 service/realm-samba-realm.h       |    38 +
 service/realm-service.c           |   208 -
 service/realm-service.h           |    38 -
 tests/discover-python.py          |    34 +-
 tests/enroll-machine.py           |    38 +-
 tests/provider-props.py           |     8 +-
 tests/service-list.py             |    38 -
 36 files changed, 1885 insertions(+), 19305 deletions(-)

commit 3fdabbe9762455c180475aeb72a556b5b30133e6
Author: Stef Walter <stefw@gnome.org>
Date:   2012-05-03

    Factor the generated dbus stuff into own directory

 .gitignore                           |     1 +
 Makefile.am                          |     2 +-
 configure.ac                         |     2 +
 dbus/Makefile.am                     |    46 +
 dbus/org.freedesktop.realmd.conf     |    17 +
 dbus/org.freedesktop.realmd.xml      |    47 +
 dbus/org.freedesktop.systemd1.xml    |   224 +
 dbus/realm-dbus-constants.h          |    54 +
 dbus/realm-dbus-generated.c          |  3537 +++++++++
 dbus/realm-dbus-generated.h          |   504 ++
 dbus/realm-dbus-systemd.c            | 12596 +++++++++++++++++++++++++++++++++
 dbus/realm-dbus-systemd.h            |  1609 +++++
 service/Makefile.am                  |    28 +-
 service/org.freedesktop.realmd.conf  |    17 -
 service/org.freedesktop.realmd.xml   |    47 -
 service/org.freedesktop.systemd1.xml |   224 -
 service/realm-dbus-constants.h       |    54 -
 service/realm-dbus-systemd.c         | 12596 ---------------------------------
 service/realm-dbus-systemd.h         |  1609 -----
 19 files changed, 18640 insertions(+), 14574 deletions(-)

commit acba5ff456494914c265d5ae727622596c886de3
Author: Stef Walter <stefw@gnome.org>
Date:   2012-05-03

    Add the Service object, list providers from files

 service/Makefile.am                           |  11 +-
 service/org.freedesktop.realmd.Samba.provider |   4 +
 service/org.freedesktop.realmd.conf           |   4 +-
 service/org.freedesktop.realmd.xml            |  18 +-
 service/realm-daemon.c                        |   3 +
 service/realm-dbus-constants.h                |   3 +
 service/realm-samba-winbind.c                 |  20 +-
 service/realm-service.c                       | 339 +++++++++++---------------
 service/realm-service.h                       |  20 +-
 service/realm-system.c                        | 273 +++++++++++++++++++++
 service/realm-system.h                        |  42 ++++
 tests/service-list.py                         |  38 +++
 12 files changed, 546 insertions(+), 229 deletions(-)

commit d8273d94f56f62b981c4e0d9bcee04257227b653
Author: Stef Walter <stefw@gnome.org>
Date:   2012-05-03

    Rename AdSamba to Samba provider
    
     * Interfaces, config and so on updated

 service/org.freedesktop.realmd.conf | 4 ++--
 service/realm-daemon.c              | 2 +-
 service/realm-dbus-constants.h      | 4 ++--
 service/realm-samba-provider.c      | 2 +-
 service/realmd-defaults.conf        | 2 +-
 5 files changed, 7 insertions(+), 7 deletions(-)

commit df957c69918edaab0a30f06933185f23eeb12d8f
Author: Stef Walter <stefw@gnome.org>
Date:   2012-05-03

    Rename RealmSambaConfig to RealmIniConfig
    
     * So we can use the same stuff for sssd

 .gitignore                     |   1 +
 service/Makefile.am            |   1 +
 service/realm-ini-config.c     | 659 +++++++++++++++++++++++++++++++++++++++++
 service/realm-ini-config.h     |  78 +++++
 service/realm-samba-config.c   | 645 ++--------------------------------------
 service/realm-samba-config.h   |  50 +---
 service/realm-samba-enroll.c   |   8 +-
 service/realm-samba-provider.c |  10 +-
 tests/Makefile.am              |   9 +-
 tests/test-ini-config.c        | 455 ++++++++++++++++++++++++++++
 tests/test-samba-config.c      | 527 --------------------------------
 11 files changed, 1229 insertions(+), 1214 deletions(-)

commit 2daa2c6d48a86d1e367384dcf2cf2b53859c71d5
Author: Stef Walter <stefw@gnome.org>
Date:   2012-05-02

    Setup offline logins, and refresh tickets for winbind by default

 service/realm-samba-winbind.c | 2 ++
 1 file changed, 2 insertions(+)

commit 317d6c7c54439216eb5c904f06cf6bee362476e4
Author: Stef Walter <stefw@gnome.org>
Date:   2012-05-02

    Remove concept of enabling realm logins separately
    
     * This works/doesn't work on different distros, and is contrary
       to general purpose use.
     * Obviously admins can still do this manually for their platform
       as necessary.

 service/org.freedesktop.realmd.policy.in | 10 ------
 service/org.freedesktop.realmd.xml       |  7 -----
 service/realm-kerberos-provider.c        | 54 --------------------------------
 service/realm-kerberos-provider.h        | 10 ------
 service/realm-samba-winbind.c            |  4 +--
 service/realmd-redhat.conf               |  6 ++--
 6 files changed, 4 insertions(+), 87 deletions(-)

commit efe9c4c7bf6ef87aa1078dd469be258701b4b5e7
Author: Stef Walter <stefw@gnome.org>
Date:   2012-05-02

    Implement the EnrolledRealms property in Samba provider
    
     * smb.conf params are stripped of whitespace when read

 service/realm-samba-config.c   |  2 +-
 service/realm-samba-provider.c | 74 ++++++++++++++++++++++++++++++++++++++++++
 tests/files/smb-one.conf       |  1 +
 tests/provider-props.py        | 39 ++++++++++++++++++++++
 tests/test-samba-config.c      |  3 ++
 5 files changed, 118 insertions(+), 1 deletion(-)

commit 68cb73f63c28ed38b4634bdd559f0d13bb7de8b4
Author: Stef Walter <stefw@gnome.org>
Date:   2012-05-02

    Rename the AD provider to the Samba provider

 service/Makefile.am                                |   4 +-
 .../org.freedesktop.realmd.ActiveDirectory.conf    |  15 -
 service/org.freedesktop.realmd.conf                |  15 +
 service/realm-ad-provider.c                        | 352 ---------------------
 service/realm-ad-provider.h                        |  49 ---
 service/realm-daemon.c                             |   6 +-
 service/realm-dbus-constants.h                     |   4 +-
 service/realm-samba-enroll.c                       |   2 +-
 service/realm-samba-provider.c                     | 351 ++++++++++++++++++++
 service/realm-samba-provider.h                     |  40 +++
 tests/discover-python.py                           |   4 +-
 tests/enroll-machine.py                            |   4 +-
 12 files changed, 418 insertions(+), 428 deletions(-)

commit 62e11c9e4b6a0a98835b8e65929d2f2fd1643150
Author: Stef Walter <stefw@gnome.org>
Date:   2012-05-02

    Fix 'make distcheck'

 .gitignore          | 1 +
 service/Makefile.am | 8 +++++++-
 tests/Makefile.am   | 3 +++
 3 files changed, 11 insertions(+), 1 deletion(-)

commit 146f948b6679e4d9fc0fd9b6e10611ba736fe0bb
Author: Stef Walter <stefw@gnome.org>
Date:   2012-05-02

    Fix 'make check'

 .gitignore               | 3 +++
 po/POTFILES.in           | 1 +
 service/realm-command.c  | 4 ++--
 service/realm-packages.c | 2 +-
 4 files changed, 7 insertions(+), 3 deletions(-)

commit 16165543255342c9d150bf77d2490ba7d64a2218
Author: Stef Walter <stefw@gnome.org>
Date:   2012-05-02

    Rename samba specific stuff to include 'samba' in name

 service/Makefile.am            |   4 +-
 service/realm-ad-enroll.c      | 412 -----------------------------------------
 service/realm-ad-enroll.h      |  46 -----
 service/realm-ad-provider.c    |  31 ++--
 service/realm-dbus-constants.h |   2 +-
 service/realm-errors.h         |   2 +-
 service/realm-samba-enroll.c   | 412 +++++++++++++++++++++++++++++++++++++++++
 service/realm-samba-enroll.h   |  46 +++++
 service/realm-samba-winbind.c  | 194 +++++++++++++++++++
 service/realm-samba-winbind.h  |  40 ++++
 service/realm-winbind.c        | 194 -------------------
 service/realm-winbind.h        |  45 -----
 12 files changed, 712 insertions(+), 716 deletions(-)

commit f3f22934f9da9b030454a6647bb1c056bf616bc6
Author: Stef Walter <stefw@gnome.org>
Date:   2012-05-02

    Modify global smb.conf on join/leave domain
    
     * Use the workgroup discovered by the net command

 service/Makefile.am          |   2 +-
 service/ad-provider-smb.conf |   2 -
 service/net-ads-smb.conf     |   2 +
 service/realm-ad-enroll.c    | 104 ++++++++++++++++++++++++++++++++++---------
 service/realm-samba-config.c |  96 ++++++++++++++++++++++++++++++---------
 service/realm-samba-config.h |   7 +++
 tests/test-samba-config.c    |  39 ++++++++++++----
 7 files changed, 198 insertions(+), 54 deletions(-)

commit c1cb859408a888f10a03ae9f43a920b58ef3e34e
Author: Stef Walter <stefw@gnome.org>
Date:   2012-05-02

    Read and write to smb.conf files directly
    
     * Preserve the contents well even when modifying
     * Add tests for the reading/writing code
     * Factor out the platform setting stuff into its own files
       so that we can use it in tests

 .gitignore                       |   5 +
 Makefile.decl                    |  13 +
 configure.ac                     |  42 ++-
 service/Makefile.am              |   3 +-
 service/realm-ad-enroll.c        |  50 +--
 service/realm-command.c          |   3 +-
 service/realm-daemon.c           | 139 +-------
 service/realm-daemon.h           |  10 -
 service/realm-packages.c         |   3 +-
 service/realm-platform.c         | 178 ++++++++++
 service/realm-platform.h         |  47 +++
 service/realm-samba-config.c     | 681 +++++++++++++++++++++++++++++++++------
 service/realm-samba-config.h     |  56 +++-
 service/realm-winbind.c          |  52 ++-
 service/realmd-defaults.conf     |   1 +
 service/realmd-redhat.conf       |   2 +
 tests/Makefile.am                |  10 +
 tests/files/realmd-defaults.conf |   1 +
 tests/files/realmd-distro.conf   |   1 +
 tests/files/smb-one.conf         |  17 +
 tests/test-samba-config.c        | 503 +++++++++++++++++++++++++++++
 21 files changed, 1494 insertions(+), 323 deletions(-)

commit a83a12db61ade0dcdc020561532dcaaa411fdb80
Author: Stef Walter <stefw@gnome.org>
Date:   2012-04-30

    Remove incomplete SSSD stuff

 service/Makefile.am      |   1 -
 service/ad-provider-sssd | 134 -------------------------------------
 service/realm-ad-sssd.c  | 167 -----------------------------------------------
 service/realm-ad-sssd.h  |  42 ------------
 4 files changed, 344 deletions(-)

commit a7ecf9b6c2e90883ef4e1470ec11279bcee55f64
Author: Stef Walter <stefw@gnome.org>
Date:   2012-04-30

    Use authconfig on redhat to enable winbind nsswitch support

 service/realm-command.c    | 48 +++++++++++++++++++++++++---
 service/realm-command.h    |  7 ++++
 service/realm-packages.c   | 16 +++++-----
 service/realm-winbind.c    | 79 ++++++++++++++++++++++++++++++++++++++--------
 service/realmd-redhat.conf |  8 ++---
 5 files changed, 128 insertions(+), 30 deletions(-)

commit 45f8752f1adde9079069bbc79182b5456e1518a6
Author: Stef Walter <stefw@gnome.org>
Date:   2012-04-30

    Move to data driven package installation
    
     * Use default/distro/admin conf files to lookup settings and
       commands
     * Fix bugs in the package installation, and quiet down

 configure.ac                                       |  26 ++++
 service/Makefile.am                                |  17 ++-
 .../org.freedesktop.realmd.ActiveDirectory.conf    |  15 +++
 service/realm-ad-enroll.c                          |   3 +-
 service/realm-ad-provider.c                        |  42 +-----
 service/realm-constants.h                          |  40 ------
 service/realm-daemon.c                             | 141 +++++++++++++++++++++
 service/realm-daemon.h                             |  12 +-
 service/realm-debug.c                              |   1 +
 service/realm-debug.h                              |   1 +
 service/realm-packages.c                           | 136 +++++++++++++++-----
 service/realm-packages.h                           |   3 +-
 service/realm-samba-config.c                       |   3 +-
 service/realm-service.c                            |   2 +-
 service/realm-winbind.c                            |   7 +-
 service/realmd-dbus.conf                           |  16 ---
 service/realmd-defaults.conf                       |  15 +++
 service/realmd-redhat.conf                         |  11 ++
 18 files changed, 350 insertions(+), 141 deletions(-)

commit 0a78123f8fa55b1f63693a51b0d5fe76c787fb43
Author: Stef Walter <stefw@gnome.org>
Date:   2012-04-30

    Fix unenroll from domain, and add to test script

 service/realm-ad-enroll.c |  4 +---
 tests/enroll-machine.py   | 29 ++++++++++++++++++++---------
 2 files changed, 21 insertions(+), 12 deletions(-)

commit 567cb7ebbf0187733c071232a691622943074bbe
Author: Stef Walter <stefw@gnome.org>
Date:   2012-04-30

    Implement interaction with systemd
    
     * And use it to enable and start winbind

 service/Makefile.am                  |    18 +-
 service/org.freedesktop.systemd1.xml |   224 +
 service/realm-ad-enroll.c            |     3 +-
 service/realm-ad-provider.c          |    57 +-
 service/realm-ad-sssd.c              |     4 +-
 service/realm-constants.h            |    40 +
 service/realm-daemon.c               |   292 +
 service/realm-daemon.h               |    41 +
 service/realm-dbus-systemd.c         | 12596 +++++++++++++++++++++++++++++++++
 service/realm-dbus-systemd.h         |  1609 +++++
 service/realm-kerberos-provider.c    |    16 +-
 service/realm-paths.h                |    32 -
 service/realm-samba-config.c         |     4 +-
 service/realm-service.c              |   412 +-
 service/realm-service.h              |    23 +-
 service/realm-winbind.c              |   156 +
 service/realm-winbind.h              |    45 +
 17 files changed, 15261 insertions(+), 311 deletions(-)

commit 601fc1c8482bd446ca4846247cc05b80f369c6ed
Author: Stef Walter <stefw@gnome.org>
Date:   2012-04-25

    Factor out the smbconf into its own file
    
     * Right now using smbconf registry, maybe switch to
       smb.conf file format later.

 service/Makefile.am          |   1 +
 service/realm-ad-enroll.c    |  50 ++++---------
 service/realm-ad-provider.c  |  11 +--
 service/realm-ad-provider.h  |   8 ---
 service/realm-command.c      |   8 +++
 service/realm-paths.h        |  32 +++++++++
 service/realm-samba-config.c | 166 +++++++++++++++++++++++++++++++++++++++++++
 service/realm-samba-config.h |  35 +++++++++
 8 files changed, 263 insertions(+), 48 deletions(-)

commit 11e6c7e7071bce2ca89719e6212d9188989f68ab
Author: Stef Walter <stefw@gnome.org>
Date:   2012-04-25

    Tweaks to the enroll-machine.py script

 tests/enroll-machine.py | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 9e86c7aa9905d708b88f8601e5af4efa908e0458
Author: Stef Walter <stefw@gnome.org>
Date:   2012-04-25

    Unbreak autogen.sh after file rename

 autogen.sh | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 619301384003ef6322a227722917baa1eb320228
Author: Stef Walter <stefw@gnome.org>
Date:   2012-04-20

    Fix bugs for enrolling machine

 service/org.freedesktop.realmd.xml |  8 +++-
 service/realm-ad-enroll.c          | 31 +++++++++-----
 service/realm-ad-provider.c        | 55 ++++++++++++------------
 service/realm-ad-provider.h        | 17 ++++++++
 service/realm-command.c            |  9 ++--
 tests/enroll-machine.py            | 87 ++++++++++++++++++++++++++++++++++++++
 6 files changed, 163 insertions(+), 44 deletions(-)

commit 5ca0ca3ad297a584a3e4a79e0b4b08aea1a716ea
Author: Stef Walter <stefw@gnome.org>
Date:   2012-04-20

    Add polkit checks for the various kerberos actions

 .gitignore                               |  5 ++-
 configure.ac                             | 16 ++++++--
 service/Makefile.am                      | 12 ++++--
 service/org.freedesktop.realmd.policy.in | 57 ++++++++++++++++++++++++++
 service/realm-dbus-constants.h           |  5 +++
 service/realm-kerberos-provider.c        | 55 +++++++++++++++++++++++++
 service/realm-service.c                  | 70 ++++++++++++++++++++++++++++++++
 service/realm-service.h                  |  3 ++
 tests/discover-python.py                 |  2 +-
 9 files changed, 217 insertions(+), 8 deletions(-)

commit d44df9d8b6b7d96c74e50ce3364f0ecad8636196
Author: Stef Walter <stefw@gnome.org>
Date:   2012-04-19

    Add tool for DiscoverRealm and fix bugs

 service/org.freedesktop.realmd.xml |  2 +-
 service/realm-ad-discover.c        | 10 +++---
 service/realm-ad-enroll.c          |  2 +-
 service/realm-dbus-constants.h     |  2 +-
 service/realm-diagnostics.c        |  8 ++---
 service/realm-discovery.c          |  5 +--
 service/realm-kerberos-provider.c  |  2 +-
 tests/discover-python.py           | 72 ++++++++++++++++++++++++++++++++++++++
 8 files changed, 88 insertions(+), 15 deletions(-)

commit 7d4db65a9032a888045ee9075e7eeda04e1ac9f4
Author: Stef Walter <stefw@gnome.org>
Date:   2012-04-19

    Install dbus configuration file, fix connectiong to system service

 configure.ac                      | 17 +++++------------
 service/Makefile.am               |  6 ++++++
 service/realm-ad-provider.c       |  3 ++-
 service/realm-dbus-constants.h    | 20 ++++++++++----------
 service/realm-kerberos-provider.c |  2 +-
 service/realm-service.c           |  2 +-
 service/realmd-dbus.conf          | 16 ++++++++++++++++
 7 files changed, 41 insertions(+), 25 deletions(-)

commit 4f41caa935315188ed75eade1829bf2318aa0d64
Author: Stef Walter <stefw@gnome.org>
Date:   2012-04-19

    Add service timeouts and figure out service startup and exit

 configure.ac                |   2 +-
 service/Makefile.am         |   1 -
 service/realm-ad-discover.c |  22 +++----
 service/realm-ad-provider.c |  63 ++++++++++++++++--
 service/realm-ad-provider.h |   4 ++
 service/realm-debug.c       |   8 +--
 service/realm-debug.h       |   2 +-
 service/realm-main.c        |  58 ----------------
 service/realm-service.c     | 157 ++++++++++++++++++++++++++++++++++++++++++++
 service/realm-service.h     |  12 +++-
 10 files changed, 243 insertions(+), 86 deletions(-)

commit 2e6e5010ff0eea706f170baeb6b613bed0fda9f9
Author: Stef Walter <stefw@gnome.org>
Date:   2012-04-19

    Update debug code
    
     * Handle G_MESSAGES_DEBUG properly for glib changes

 service/realm-debug.c | 83 ++++++++++++++++++++++++++++++++++++++++++++-------
 service/realm-debug.h |  1 +
 service/realm-main.c  |  3 ++
 3 files changed, 76 insertions(+), 11 deletions(-)

commit f579a41c2373ab412e799c46525bfc5a8ce1a9e5
Author: Stef Walter <stefw@gnome.org>
Date:   2012-04-17

    Rename to realmd

 .gitignore                                 |    3 +
 autogen.sh                                 |    2 +-
 configure.ac                               |   10 +-
 service/Makefile.am                        |   52 +-
 service/ic-ad-discover.c                   |  240 ---
 service/ic-ad-discover.h                   |   39 -
 service/ic-ad-enroll.c                     |  383 ----
 service/ic-ad-enroll.h                     |   46 -
 service/ic-ad-provider.c                   |  348 ----
 service/ic-ad-provider.h                   |   36 -
 service/ic-ad-sssd.c                       |  167 --
 service/ic-ad-sssd.h                       |   42 -
 service/ic-command.c                       |  556 ------
 service/ic-command.h                       |   51 -
 service/ic-dbus-constants.h                |   46 -
 service/ic-dbus-generated.c                | 2964 ----------------------------
 service/ic-dbus-generated.h                |  421 ----
 service/ic-debug.c                         |  113 --
 service/ic-debug.h                         |   89 -
 service/ic-diagnostics.c                   |  180 --
 service/ic-diagnostics.h                   |   47 -
 service/ic-discovery.c                     |   75 -
 service/ic-discovery.h                     |   38 -
 service/ic-errors.c                        |   48 -
 service/ic-errors.h                        |   40 -
 service/ic-kerberos-provider.c             |  346 ----
 service/ic-kerberos-provider.h             |   96 -
 service/ic-main.c                          |   55 -
 service/ic-packages.c                      |  275 ---
 service/ic-packages.h                      |   38 -
 service/ic-service.c                       |   58 -
 service/ic-service.h                       |   32 -
 service/org.freedesktop.IdentityConfig.xml |   38 -
 service/org.freedesktop.realmd.xml         |   38 +
 service/realm-ad-discover.c                |  240 +++
 service/realm-ad-discover.h                |   39 +
 service/realm-ad-enroll.c                  |  383 ++++
 service/realm-ad-enroll.h                  |   46 +
 service/realm-ad-provider.c                |  348 ++++
 service/realm-ad-provider.h                |   36 +
 service/realm-ad-sssd.c                    |  167 ++
 service/realm-ad-sssd.h                    |   42 +
 service/realm-command.c                    |  556 ++++++
 service/realm-command.h                    |   51 +
 service/realm-dbus-constants.h             |   46 +
 service/realm-debug.c                      |  117 ++
 service/realm-debug.h                      |   89 +
 service/realm-diagnostics.c                |  180 ++
 service/realm-diagnostics.h                |   41 +
 service/realm-discovery.c                  |   75 +
 service/realm-discovery.h                  |   38 +
 service/realm-errors.c                     |   48 +
 service/realm-errors.h                     |   40 +
 service/realm-kerberos-provider.c          |  346 ++++
 service/realm-kerberos-provider.h          |   96 +
 service/realm-main.c                       |   55 +
 service/realm-packages.c                   |  275 +++
 service/realm-packages.h                   |   38 +
 service/realm-service.c                    |   58 +
 service/realm-service.h                    |   32 +
 tests/discover-ad-realm                    |   62 -
 tests/frob-install-packages.c              |    2 +-
 62 files changed, 3556 insertions(+), 7002 deletions(-)

commit f4406a8ae989515825fdfa31dca2c5fefe99af90
Author: Stef Walter <stefw@gnome.org>
Date:   2012-03-23

    More rough work on IC

 .gitignore                                 |    1 +
 Makefile.am                                |    2 +-
 configure.ac                               |   21 +-
 service/Makefile.am                        |   27 +-
 service/ad-provider-smb.conf               |    2 +
 service/ad-provider-sssd                   |  134 ++
 service/ic-ad-discover.c                   |  240 +++
 service/ic-ad-discover.h                   |   39 +
 service/ic-ad-enroll.c                     |  383 +++++
 service/ic-ad-enroll.h                     |   46 +
 service/ic-ad-provider.c                   |  348 ++++
 service/ic-ad-provider.h                   |   36 +
 service/ic-ad-sssd.c                       |  167 ++
 service/ic-ad-sssd.h                       |   42 +
 service/ic-ads-provider.c                  |  286 ----
 service/ic-ads-provider.h                  |   38 -
 service/ic-command.c                       |  556 +++++++
 service/ic-command.h                       |   51 +
 service/ic-dbus-constants.h                |   12 +-
 service/ic-dbus-generated.c                | 2389 ++++++++--------------------
 service/ic-dbus-generated.h                |  302 ++--
 service/ic-discovery.c                     |   75 +
 service/ic-discovery.h                     |   38 +
 service/ic-errors.c                        |    5 +
 service/ic-errors.h                        |    7 +-
 service/ic-kerberos-provider.c             |  346 ++++
 service/ic-kerberos-provider.h             |   96 ++
 service/ic-main.c                          |    6 +-
 service/ic-packages.c                      |  275 ++++
 service/ic-packages.h                      |   38 +
 service/ic-service.c                       |   58 +
 service/ic-service.h                       |   32 +
 service/ic-unix-process.c                  |  908 -----------
 service/ic-unix-process.h                  |   85 -
 service/org.freedesktop.IdentityConfig.xml |   51 +-
 tests/Makefile.am                          |   53 +
 tests/discover-ad-realm                    |   62 +
 tests/discover-ad-realm.py                 |   62 -
 tests/frob-install-packages.c              |  182 +++
 39 files changed, 4152 insertions(+), 3349 deletions(-)

commit 85fadcb38de5551f1eb5aecd27980331c1bb44f1
Author: Stef Walter <stefw@gnome.org>
Date:   2012-03-22

    Implement initial ads provider and discovery
    
     * And lots of infrastructure along the way

 .gitignore                                 |    1 +
 configure.ac                               |   10 +
 service/Makefile.am                        |   10 +-
 service/ic-ads-provider.c                  |  286 ++
 service/ic-ads-provider.h                  |   38 +
 service/ic-dbus-constants.h                |   36 +
 service/ic-dbus-generated.c                | 4027 ++++++++++++++++++++++++++++
 service/ic-dbus-generated.h                |  523 ++++
 service/ic-debug.c                         |   18 +-
 service/ic-debug.h                         |    3 +
 service/ic-diagnostics.c                   |  180 ++
 service/ic-diagnostics.h                   |   47 +
 service/ic-errors.c                        |   43 +
 service/ic-errors.h                        |   35 +
 service/ic-main.c                          |   35 +
 service/ic-unix-process.c                  |   31 +-
 service/ic-unix-process.h                  |    2 +-
 service/org.freedesktop.IdentityConfig.xml |   43 +
 tests/discover-ad-realm.py                 |   62 +
 19 files changed, 5401 insertions(+), 29 deletions(-)

commit c467f99da29b4927a38b6f3939f64074c63c6cd1
Author: Stef Walter <stefw@gnome.org>
Date:   2012-03-20

    Include m4 directory by default

 .gitignore          | 2 --
 build/m4/.gitignore | 1 +
 2 files changed, 1 insertion(+), 2 deletions(-)

commit b95f0532f9f8bf90d1f21fb1a3f466be757b3258
Author: Stef Walter <stefw@gnome.org>
Date:   2012-03-20

    Add unix process class
    
     * Brought over from gcr library

 .gitignore                |   1 +
 service/Makefile.am       |   5 +-
 service/ic-debug.c        | 107 ++++++
 service/ic-debug.h        |  86 +++++
 service/ic-unix-process.c | 917 ++++++++++++++++++++++++++++++++++++++++++++++
 service/ic-unix-process.h |  85 +++++
 6 files changed, 1200 insertions(+), 1 deletion(-)

commit 4b6b502d694bfe419c9a0140b96dcec4c96a87f1
Author: Stef Walter <stefw@gnome.org>
Date:   2012-03-20

    Initial commit

 .gitignore          |  29 ++++
 AUTHORS             |   1 +
 COPYING             | 482 ++++++++++++++++++++++++++++++++++++++++++++++++++++
 ChangeLog           |  32 ++++
 INSTALL             |   0
 Makefile.am         |  32 ++++
 Makefile.decl       |  14 ++
 NEWS                |   4 +
 README              |   1 +
 autogen.sh          |  81 +++++++++
 build/Makefile.am   |   1 +
 configure.ac        | 131 ++++++++++++++
 po/POTFILES.in      |   0
 service/Makefile.am |  29 ++++
 service/ic-main.c   |  20 +++
 15 files changed, 857 insertions(+)
